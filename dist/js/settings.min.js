angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var t=e.storageKey(),n=e.storage(),a=function(){var a=e.preferredLanguage();angular.isString(a)?e.use(a):n.put(t,e.use())};n?n.get(t)?e.use(n.get(t))["catch"](a):a():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(e){var t,n,a,i,o,r,s,l,c,u,d,p,f,h,g,m={},v=[],b=e,y=[],$=!1,w="translate-cloak",x=!1,k=".",C="2.5.2",D=function(){var e,t,n=window.navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(e=0;e<n.languages.length;e++)if(t=n.languages[e],t&&t.length)return t;for(e=0;e<a.length;e++)if(t=n[a[e]],t&&t.length)return t;return null};D.displayName="angular-translate/service: getFirstBrowserLanguage";var T=function(){return(D()||"").split("-").join("_")};T.displayName="angular-translate/service: getLocale";var E=function(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1},S=function(){return this.replace(/^\s+|\s+$/g,"")},O=function(e){for(var t=[],a=angular.lowercase(e),i=0,o=v.length;o>i;i++)t.push(angular.lowercase(v[i]));if(E(t,a)>-1)return e;if(n){var r;for(var s in n){var l=!1,c=Object.prototype.hasOwnProperty.call(n,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(r=n[s],E(t,angular.lowercase(r))>-1))return r}}var u=e.split("_");return u.length>1&&E(t,angular.lowercase(u[0]))>-1?u[0]:e},M=function(e,t){if(!e&&!t)return m;if(e&&!t){if(angular.isString(e))return m[e]}else angular.isObject(m[e])||(m[e]={}),angular.extend(m[e],P(t));return this};this.translations=M,this.cloakClassName=function(e){return e?(w=e,this):w};var P=function(e,t,n,a){var i,o,r,s;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?P(s,t.concat(i),n,i):(o=t.length?""+t.join(k)+k+i:i,t.length&&i===a&&(r=""+t.join(k),n[r]="@:"+o),n[o]=s));return n};this.addInterpolation=function(e){return y.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return u=e,this},this.useSanitizeValueStrategy=function(e){return $=e,this},this.preferredLanguage=function(e){return A(e),this};var A=function(e){return e&&(t=e),t};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(f=e,this):f},this.translationNotFoundIndicatorRight=function(e){return e?(h=e,this):h},this.fallbackLanguage=function(e){return I(e),this};var I=function(e){return e?(angular.isString(e)?(i=!0,a=[e]):angular.isArray(e)&&(i=!1,a=e),angular.isString(t)&&E(a,t)<0&&a.push(t),this):i?a[0]:a};this.use=function(e){if(e){if(!m[e]&&!d)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return o=e,this}return o};var L=function(e){return e?(b=e,void 0):l?l+b:b};this.storageKey=L,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return d=e,p=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return s=e,this},this.storagePrefix=function(e){return e?(l=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return c=e,this},this.usePostCompiling=function(e){return x=!!e,this},this.determinePreferredLanguage=function(e){var n=e&&angular.isFunction(e)?e():T();return t=v.length?O(n):n,this},this.registerAvailableLanguageKeys=function(e,t){return e?(v=e,t&&(n=t),this):v},this.useLoaderCache=function(e){return e===!1?g=void 0:e===!0?g=!0:"undefined"==typeof e?g="$translationCache":e&&(g=e),this},this.$get=["$log","$injector","$rootScope","$q",function(e,n,l,v){var k,D,T,F=n.get(u||"$translateDefaultInterpolation"),U=!1,N={},H={},V=function(e,n,i){if(angular.isArray(e)){var r=function(e){for(var t={},a=[],o=function(e){var a=v.defer(),o=function(n){t[e]=n,a.resolve([e,n])};return V(e,n,i).then(o,o),a.promise},r=0,s=e.length;s>r;r++)a.push(o(e[r]));return v.all(a).then(function(){return t})};return r(e)}var l=v.defer();e&&(e=S.apply(e));var c=function(){var e=t?H[t]:H[o];if(D=0,s&&!e){var n=k.get(b);if(e=H[n],a&&a.length){var i=E(a,n);D=0===i?1:0,E(a,t)<0&&a.push(t)}}return e}();return c?c.then(function(){Z(e,n,i).then(l.resolve,l.reject)},l.reject):Z(e,n,i).then(l.resolve,l.reject),l.promise},j=function(e){return f&&(e=[f,e].join(" ")),h&&(e=[e,h].join(" ")),e},R=function(e){o=e,l.$emit("$translateChangeSuccess",{language:e}),s&&k.put(V.storageKey(),o),F.setLocale(o),angular.forEach(N,function(e,t){N[t].setLocale(o)}),l.$emit("$translateChangeEnd",{language:e})},q=function(e){if(!e)throw"No language key specified for loading.";var t=v.defer();l.$emit("$translateLoadingStart",{language:e}),U=!0;var a=g;"string"==typeof a&&(a=n.get(a));var i=angular.extend({},p,{key:e,$http:angular.extend({},{cache:a},p.$http)});return n.get(d)(i).then(function(n){var a={};l.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(n)?angular.forEach(n,function(e){angular.extend(a,P(e))}):angular.extend(a,P(n)),U=!1,t.resolve({key:e,table:a}),l.$emit("$translateLoadingEnd",{language:e})},function(e){l.$emit("$translateLoadingError",{language:e}),t.reject(e),l.$emit("$translateLoadingEnd",{language:e})}),t.promise};if(s&&(k=n.get(s),!k.get||!k.put))throw new Error("Couldn't use storage '"+s+"', missing get() or put() method!");angular.isFunction(F.useSanitizeValueStrategy)&&F.useSanitizeValueStrategy($),y.length&&angular.forEach(y,function(e){var a=n.get(e);a.setLocale(t||o),angular.isFunction(a.useSanitizeValueStrategy)&&a.useSanitizeValueStrategy($),N[a.getInterpolationIdentifier()]=a});var _=function(e){var t=v.defer();return Object.prototype.hasOwnProperty.call(m,e)?t.resolve(m[e]):H[e]?H[e].then(function(e){M(e.key,e.table),t.resolve(e.table)},t.reject):t.reject(),t.promise},B=function(e,t,n,a){var i=v.defer();return _(e).then(function(r){Object.prototype.hasOwnProperty.call(r,t)?(a.setLocale(e),i.resolve(a.interpolate(r[t],n)),a.setLocale(o)):i.reject()},i.reject),i.promise},z=function(e,t,n,a){var i,r=m[e];return r&&Object.prototype.hasOwnProperty.call(r,t)&&(a.setLocale(e),i=a.interpolate(r[t],n),a.setLocale(o)),i},W=function(e){if(c){var t=n.get(c)(e,o);return void 0!==t?t:e}return e},Y=function(e,t,n,i){var o=v.defer();if(e<a.length){var r=a[e];B(r,t,n,i).then(o.resolve,function(){Y(e+1,t,n,i).then(o.resolve)})}else o.resolve(W(t));return o.promise},G=function(e,t,n,i){var o;if(e<a.length){var r=a[e];o=z(r,t,n,i),o||(o=G(e+1,t,n,i))}return o},K=function(e,t,n){return Y(T>0?T:D,e,t,n)},Q=function(e,t,n){return G(T>0?T:D,e,t,n)},Z=function(e,t,n){var i=v.defer(),r=o?m[o]:m,s=n?N[n]:F;if(r&&Object.prototype.hasOwnProperty.call(r,e)){var l=r[e];"@:"===l.substr(0,2)?V(l.substr(2),t,n).then(i.resolve,i.reject):i.resolve(s.interpolate(l,t))}else{var u;c&&!U&&(u=W(e)),o&&a&&a.length?K(e,t,s).then(function(e){i.resolve(e)},function(e){i.reject(j(e))}):c&&!U&&u?i.resolve(u):i.reject(j(e))}return i.promise},X=function(e,t,n){var i,r=o?m[o]:m,s=n?N[n]:F;if(r&&Object.prototype.hasOwnProperty.call(r,e)){var l=r[e];i="@:"===l.substr(0,2)?X(l.substr(2),t,n):s.interpolate(l,t)}else{var u;c&&!U&&(u=W(e)),o&&a&&a.length?(D=0,i=Q(e,t,s)):i=c&&!U&&u?u:j(e)}return i};if(V.preferredLanguage=function(e){return e&&A(e),t},V.cloakClassName=function(){return w},V.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(I(e),d&&a&&a.length)for(var t=0,n=a.length;n>t;t++)H[a[t]]||(H[a[t]]=q(a[t]));V.use(V.use())}return i?a[0]:a},V.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=E(a,e);t>-1&&(T=t)}else T=0},V.proposedLanguage=function(){return r},V.storage=function(){return k},V.use=function(e){if(!e)return o;var t=v.defer();l.$emit("$translateChangeStart",{language:e});var n=O(e);return n&&(e=n),m[e]||!d||H[e]?(t.resolve(e),R(e)):(r=e,H[e]=q(e).then(function(n){return M(n.key,n.table),t.resolve(n.key),R(n.key),r===e&&(r=void 0),n},function(e){r===e&&(r=void 0),l.$emit("$translateChangeError",{language:e}),t.reject(e),l.$emit("$translateChangeEnd",{language:e})})),t.promise},V.storageKey=function(){return L()},V.isPostCompilingEnabled=function(){return x},V.refresh=function(e){function t(){i.resolve(),l.$emit("$translateRefreshEnd",{language:e})}function n(){i.reject(),l.$emit("$translateRefreshEnd",{language:e})}if(!d)throw new Error("Couldn't refresh translation table, no loader registered!");var i=v.defer();if(l.$emit("$translateRefreshStart",{language:e}),e)m[e]?q(e).then(function(n){M(n.key,n.table),e===o&&R(o),t()},n):n();else{var r=[],s={};if(a&&a.length)for(var c=0,u=a.length;u>c;c++)r.push(q(a[c])),s[a[c]]=!0;o&&!s[o]&&r.push(q(o)),v.all(r).then(function(e){angular.forEach(e,function(e){m[e.key]&&delete m[e.key],M(e.key,e.table)}),o&&R(o),t()})}return i.promise},V.instant=function(e,n,i){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var r={},s=0,l=e.length;l>s;s++)r[e[s]]=V.instant(e[s],n,i);return r}if(angular.isString(e)&&e.length<1)return e;e&&(e=S.apply(e));var u,d=[];t&&d.push(t),o&&d.push(o),a&&a.length&&(d=d.concat(a));for(var p=0,f=d.length;f>p;p++){var h=d[p];if(m[h]&&"undefined"!=typeof m[h][e]&&(u=X(e,n,i)),"undefined"!=typeof u)break}return u||""===u||(u=F.interpolate(e,n),c&&!U&&(u=W(e))),u},V.versionInfo=function(){return C},V.loaderCache=function(){return g},d&&(angular.equals(m,{})&&V.use(V.use()),a&&a.length))for(var J=function(e){return M(e.key,e.table),l.$emit("$translateChangeEnd",{language:e.key}),e},et=0,tt=a.length;tt>et;et++)H[a[et]]=q(a[et]).then(J);return V}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(e){var t,n={},a="default",i=null,o={escaped:function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=angular.element("<div></div>").text(e[n]).html());return t}},r=function(e){var t;return t=angular.isFunction(o[i])?o[i](e):e};return n.setLocale=function(e){t=e},n.getInterpolationIdentifier=function(){return a},n.useSanitizeValueStrategy=function(e){return i=e,this},n.interpolate=function(t,n){return i&&(n=r(n)),e(t)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(e,t,n,a,i,o){return{restrict:"AE",scope:!0,compile:function(t,r){var s=r.translateValues?r.translateValues:void 0,l=r.translateInterpolation?r.translateInterpolation:void 0,c=t[0].outerHTML.match(/translate-value-+/i),u="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",d="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,p,f){t.interpolateParams={},t.preText="",t.postText="";var h={},g=function(e){if(angular.equals(e,"")||!angular.isDefined(e)){var a=p.text().match(u);angular.isArray(a)?(t.preText=a[1],t.postText=a[3],h.translate=n(a[2])(t.$parent),watcherMatches=p.text().match(d),angular.isArray(watcherMatches)&&watcherMatches[2]&&watcherMatches[2].length&&t.$watch(watcherMatches[2],function(e){h.translate=e,$()})):h.translate=p.text().replace(/^\s+|\s+$/g,"")}else h.translate=e;$()},m=function(e){f.$observe(e,function(t){h[e]=t,$()})};f.$observe("translate",function(e){g(e)});for(var v in f)f.hasOwnProperty(v)&&"translateAttr"===v.substr(0,13)&&m(v);if(f.$observe("translateDefault",function(e){t.defaultText=e}),s&&f.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,i(e)(t.$parent))})}),c){var b=function(e){f.$observe(e,function(n){var a=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[a]=n})};for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&"translateValue"===y.substr(0,14)&&"translateValues"!==y&&b(y)}var $=function(){for(var e in h)h.hasOwnProperty(e)&&h[e]&&w(e,h[e],t,t.interpolateParams)},w=function(t,n,a,i){e(n,i,l).then(function(e){x(e,a,!0,t)},function(e){x(e,a,!1,t)})},x=function(t,n,i,o){if("translate"===o){i||"undefined"==typeof n.defaultText||(t=n.defaultText),p.html(n.preText+t+n.postText);var s=e.isPostCompilingEnabled(),l="undefined"!=typeof r.translateCompile,c=l&&"false"!==r.translateCompile;(s&&!l||c)&&a(p.contents())(n)}else{i||"undefined"==typeof n.defaultText||(t=n.defaultText);var u=f.$attr[o].substr(15);p.attr(u,t)}};t.$watch("interpolateParams",$,!0);var k=o.$on("$translateChangeSuccess",$);p.text().length&&g(""),$(),t.$on("$destroy",k)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(e,t){return{compile:function(n){var a=function(){n.addClass(t.cloakClassName())},i=function(){n.removeClass(t.cloakClassName())},o=e.$on("$translateChangeEnd",function(){i(),o(),o=null});return a(),function(e,n,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(e){t(e).then(i,a)})}}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(e,t){var n=function(n,a,i){return angular.isObject(a)||(a=e(a)(this)),t.instant(n,a,i)};return n.$stateful=!0,n}]),function(e,t){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function a(e){var n=[],a=l(n,t.noop);return a.chars(e),n.join("")}function i(e){var t,n={},a=e.split(",");for(t=0;t<a.length;t++)n[a[t]]=!0;return n}function o(e,n){function a(e,a,o,s){if(a=t.lowercase(a),C[a])for(;y.last()&&D[y.last()];)i("",y.last());k[a]&&y.last()==a&&i("",a),s=$[a]||!!s,s||y.push(a);var l={};o.replace(p,function(e,t,n,a,i){var o=n||a||i||"";l[t]=r(o)}),n.start&&n.start(a,l,s)}function i(e,a){var i,o=0;if(a=t.lowercase(a))for(o=y.length-1;o>=0&&y[o]!=a;o--);if(o>=0){for(i=y.length-1;i>=o;i--)n.end&&n.end(y[i]);y.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,s,l,b,y=[],w=e;for(y.last=function(){return y[y.length-1]};e;){if(b="",s=!0,y.last()&&E[y.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(e,t){return t=t.replace(g,"$1").replace(v,"$1"),n.chars&&n.chars(r(t)),""}),i("",y.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),s=!1)):m.test(e)?(l=e.match(m),l&&(e=e.replace(l[0],""),s=!1)):h.test(e)?(l=e.match(d),l&&(e=e.substring(l[0].length),l[0].replace(d,i),s=!1)):f.test(e)&&(l=e.match(u),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(u,a)),s=!1):(b+="<",e=e.substring(1))),s&&(o=e.indexOf("<"),b+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(r(b)))),e==w)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}i()}function r(e){return e?(I.innerHTML=e.replace(/</g,"&lt;"),I.textContent):""}function s(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var a=!1,i=t.bind(e,e.push);return{start:function(e,o,r){e=t.lowercase(e),!a&&E[e]&&(a=e),a||S[e]!==!0||(i("<"),i(e),t.forEach(o,function(a,o){var r=t.lowercase(o),l="img"===e&&"src"===r||"background"===r;A[r]!==!0||O[r]===!0&&!n(a,l)||(i(" "),i(o),i('="'),i(s(a)),i('"'))}),i(r?"/>":">"))},end:function(e){e=t.lowercase(e),a||S[e]!==!0||(i("</"),i(e),i(">")),e==a&&(a=!1)},chars:function(e){a||i(s(e))}}}var c=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,h=/^<\//,g=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^\#-~| |!])/g,$=i("area,br,col,hr,img,wbr"),w=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=i("rp,rt"),k=t.extend({},x,w),C=t.extend({},w,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),D=t.extend({},x,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),E=i("script,style"),S=t.extend({},$,C,D,k,T),O=i("background,cite,href,longdesc,src,usemap,xlink:href"),M=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),P=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),A=t.extend({},O,P,M),I=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/i,i=/^mailto:/i;return function(o,r){function s(e){e&&f.push(a(e))}function l(e,n){f.push("<a "),t.isDefined(r)&&f.push('target="',r,'" '),f.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!o)return o;for(var c,u,d,p=o,f=[];c=p.match(n);)u=c[0],c[2]||c[4]||(u=(c[3]?"http://":"mailto:")+u),d=c.index,s(p.substr(0,d)),l(u,c[0].replace(i,"")),p=p.substring(d+c[0].length);return s(p),e(f.join(""))}}])}(window,window.angular),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var a=e.defer();return t(angular.extend({url:[n.prefix,n.key,n.suffix].join(""),method:"GET",params:""},n.$http)).success(function(e){a.resolve(e)}).error(function(){a.reject(n.key)}),a.promise}}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){function n(e,a){t(angular.extend({url:[e.prefix,e.key.toLowerCase(),e.suffix].join(""),method:"GET",params:""},e.$http)).success(function(e){a.resolve(e)}).error(function(){if(e.key.indexOf("_")>=0){var t=e.key.substr(0,e.key.lastIndexOf("_")),i=angular.extend({},e,{key:t});n(i,a)}else a.resolve("{}")})}return function(t){if(!t||!angular.isString(t.prefix)||!angular.isString(t.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var a=e.defer();return n(t,a),a.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(e,t,n){e.useStaticFilesLoader({prefix:t,suffix:n}),e.determinePreferredLanguage().fallbackLanguage("en")}]),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.affix"),o="object"==typeof t&&t;i||a.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.options=e.extend({},n.DEFAULTS,a),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),a=this.$target.scrollTop(),i=this.$element.offset(),o=this.options.offset,r=o.top,s=o.bottom;"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=t-s?"bottom":null!=r&&r>=a?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=e.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-s}))}}};var a=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=a,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),a=n.data();a.offset=a.offset||{},a.offsetBottom&&(a.offset.bottom=a.offsetBottom),a.offsetTop&&(a.offset.top=a.offsetTop),t.call(n,a)})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new a(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',a=function(t){e(t).on("click",n,this.close)};a.VERSION="3.2.0",a.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var a=e(this),i=a.attr("data-target");i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=e(i);t&&t.preventDefault(),o.length||(o=a.hasClass("alert")?a:a.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=a,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,a.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.button"),o="object"==typeof t&&t;i||a.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",a=this.$element,i=a.is("input")?"val":"html",o=a.data();t+="Text",null==o.resetText&&a.data("resetText",a[i]()),a[i](null==o[t]?this.options[t]:o[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,a.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var a=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=e(n.target);a.hasClass("btn")||(a=a.closest(".btn")),t.call(a,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.carousel"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t),r="string"==typeof t?t:o.slide;i||a.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):r?i[r]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var a=this.$element.find(".item.active"),i=n||a[t](),o=this.interval,r="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,a.addClass(r),i.addClass(r),a.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),a.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var a=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=a,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var a,i=e(this),o=e(i.attr("data-target")||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var r=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(r.interval=!1),t.call(o,r),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.collapse"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t);!i&&o.toggle&&"show"==t&&(t=!t),i||a.data("bs.collapse",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var a=this.$parent&&this.$parent.find("> .panel > .in");if(a&&a.length){var i=a.data("bs.collapse");if(i&&i.transitioning)return;t.call(a,"hide"),i||a.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var s=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?(this.$element[n](0).one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(350),void 0):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=a,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a,i=e(this),o=i.attr("data-target")||n.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),r=e(o),s=r.data("bs.collapse"),l=s?"toggle":i.data(),c=i.attr("data-parent"),u=c&&e(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(r,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var a=n(e(this)),i={relatedTarget:this};a.hasClass("open")&&(a.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",i))
}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a=n&&e(n);return a&&a.length?a:t.parent()}function a(t){return this.each(function(){var n=e(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new r(this)),"string"==typeof t&&a[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(a){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),r=o.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(a=e.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var a=e(this);if(t.preventDefault(),t.stopPropagation(),!a.is(".disabled, :disabled")){var i=n(a),r=i.hasClass("open");if(!r||r&&27==t.keyCode)return 27==t.which&&i.find(o).trigger("focus"),a.trigger("click");var s=" li:not(.divider):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=a,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=t.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:i});if(t.trigger(o),!o.isDefaultPrevented()){var r=e(a);this.activate(t.closest("li"),n),this.activate(r,r.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(t,n,a){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),a&&a()}var o=n.find("> .active"),r=a&&e.support.transition&&o.hasClass("fade");r?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),o.removeClass("in")};var a=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=a,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,a=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(a).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(n,a){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(n).is("body")?e(window):e(n),this.options=e.extend({},t.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var a=e(this),i=a.data("bs.scrollspy"),o="object"==typeof n&&n;i||a.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var a=this;this.$body.find(this.selector).map(function(){var a=e(this),i=a.data("target")||a.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=a)return r!=(e=o[o.length-1])&&this.activate(e);if(r&&t<=i[0])return r!=(e=o[0])&&this.activate(e);for(e=i.length;e--;)r!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',a=e(n).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var a=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=a,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t,a){return this.each(function(){var i=e(this),o=i.data("bs.modal"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,r)),"string"==typeof t?o[t](a):r.show&&o.show(a)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,a=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var a=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&a;if(this.$backdrop=e('<div class="modal-backdrop '+a+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var a=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=e(this),i=a.attr("href"),o=e(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),a.data());a.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),t.call(o,r,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tooltip"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||a.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,a){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,a){n[e]!=a&&(t[e]=a)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var a=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(r);l&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,d=i[0].offsetHeight;if(l){var p=r,f=this.$element.parent(),h=this.getPosition(f);r="bottom"==r&&c.top+c.height+d-h.scroll>h.height?"top":"top"==r&&c.top-h.scroll-d<0?"bottom":"right"==r&&c.right+u>h.width?"left":"left"==r&&c.left-u<h.left?"right":r,i.removeClass(p).addClass(r)}var g=this.getCalculatedOffset(r,c,u,d);this.applyPlacement(g,r);var m=function(){a.$element.trigger("shown.bs."+a.type),a.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(t,n){var a=this.tip(),i=a[0].offsetWidth,o=a[0].offsetHeight,r=parseInt(a.css("margin-top"),10),s=parseInt(a.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,e.offset.setOffset(a[0],e.extend({using:function(e){a.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),a.addClass("in");var l=a[0].offsetWidth,c=a[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=u.left?2*u.left-i+l:2*u.top-o+c,p=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";a.offset(t),this.replaceArrow(d,a[0][f],p)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&a.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,a=this.tip(),i=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(a.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],a="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:a?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:a?e(window).width():t.outerWidth(),height:a?e(window).height():t.outerHeight()},a?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,a){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-a,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-a/2,left:t.left-n}:{top:t.top+t.height/2-a/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-r.scroll,l=t.top+o-r.scroll+a;s<r.top?i.top=r.top-s:l>r.top+r.height&&(i.top=r.top+r.height-l)}else{var c=t.left-o,u=t.left+o+n;c<r.left?i.left=r.left-c:u>r.width&&(i.left=r.left+r.width-u)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=a,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.popover"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||a.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var a=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=a,this}}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,a){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function r(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e.removeClass(n,"in",{to:{height:"0"}}).then(s),void 0):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(a.collapse,function(e){e?r():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){a.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,n),n&&a.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,a,i){e(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,a,i){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),a.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(e){a.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(e,t,n,a){var i=a[0],o=a[1];t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){if(!n.disabled){var a=t.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(a?null:e.$eval(n.btnRadio)),o.$render()})}})}}}).directive("btnCheckbox",["$document",function(e){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(t,n,a,i){function o(){return s(a.btnCheckboxTrue,!0)}function r(){return s(a.btnCheckboxFalse,!1)}function s(e,n){var a=t.$eval(e);return angular.isDefined(a)?a:n}var l=i[0],c=i[1];n.find("input").css({display:"none"}),c.$render=function(){n.toggleClass(l.activeClass,angular.equals(c.$modelValue,o()))},n.bind(l.toggleEvent,function(){a.disabled||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})}),n.on("keypress",function(i){a.disabled||32!==i.which||e[0].activeElement!==n[0]||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(e,t,n,a){function i(t,n,i){v||(angular.extend(t,{direction:i,active:!0}),angular.extend(d.currentSlide||{},{direction:i,active:!1}),a.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&d.slides.length>1&&(t.$element.data(g,t.direction),d.currentSlide&&d.currentSlide.$element&&d.currentSlide.$element.data(g,t.direction),e.$currentTransition=!0,f?a.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,a.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),d.currentSlide=t,m=n,r())}function o(e){if(angular.isUndefined(p[e].index))return p[e];{var t;p.length}for(t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function r(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;u&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}var c,u,d=this,p=d.slides=e.slides=[],f=angular.version.minor>=4,h="uib-noTransition",g="uib-slideDirection",m=-1;d.currentSlide=null;var v=!1;d.select=e.select=function(t,n){var a=e.indexOfSlide(t);void 0===n&&(n=a>d.getCurrentIndex()?"next":"prev"),t&&t!==d.currentSlide&&!e.$currentTransition&&i(t,a,n)},e.$on("$destroy",function(){v=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:m},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(d.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?(e.pause(),void 0):d.select(o(t),"next")},e.prev=function(){var t=d.getCurrentIndex()-1<0?p.length-1:d.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?(e.pause(),void 0):d.select(o(t),"prev")},e.isActive=function(e){return d.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",s),e.play=function(){u||(u=!0,r())},e.pause=function(){e.noPause||(u=!1,s())},d.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(d.select(p[p.length-1]),1==p.length&&e.play()):t.active=!1},d.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?t>=p.length?d.select(p[t-1]):d.select(p[t]):m>t&&m--,0===p.length&&(d.currentSlide=null)},e.$watch("noTransition",function(e){t.data(h,e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var a="uib-noTransition",i="uib-slideDirection",o=null;return e.has("$animateCss")&&(o=e.get("$animateCss")),{beforeAddClass:function(e,r,s){if("active"==r&&e.parent()&&!e.parent().data(a)){var l=!1,c=e.data(i),u="next"==c?"left":"right",d=n.bind(this,e,u+" "+c,s);return e.addClass(c),o?o(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,r,s){if("active"===r&&e.parent()&&!e.parent().data(a)){var l=!1,c=e.data(i),u="next"==c?"left":"right",d=n.bind(this,e,u,s);return o?o(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,n){function a(e){var t=[],a=e.split("");return angular.forEach(r,function(n,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),a[o]="("+n.regex+")",e[o]="$";for(var r=o+1,s=o+i.length;s>r;r++)a[r]="",e[r]="$";e=e.join(""),t.push({index:o,apply:n.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:n(t,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1
}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(n,r,s){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(o,"\\$&"),this.parsers[r]||(this.parsers[r]=a(r));var l=this.parsers[r],c=l.regex,u=l.map,d=n.match(c);if(d&&d.length){var p,f;angular.isDate(s)&&!isNaN(s.getTime())?p={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var h=1,g=d.length;g>h;h++){var m=u[h-1];m.apply&&m.apply.call(p,d[h])}return i(p.year,p.month,p.date)&&(f=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},o=i(t[0]);o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,o,r,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(e):this.position(e),o=t.prop("offsetWidth"),r=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:i.left-o};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:i.top-r,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(e,t,n,a,i,o,r,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){l[n]=angular.isDefined(t[n])?6>i?a(t[n])(e.$parent):e.$parent.$eval(t[n]):r[n]}),angular.forEach(["minDate","maxDate"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(e){l[a]=e?new Date(e):null,l.refreshView()}):l[a]=r[a]?new Date(r[a]):null}),angular.forEach(["minMode","maxMode"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(n){l[a]=angular.isDefined(n)?n:t[a],e[a]=l[a],("minMode"==a&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[a])||"maxMode"==a&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[a]))&&(e.datepickerMode=l[a])}):(l[a]=r[a]||null,e[a]=l[a])}),e.datepickerMode=e.datepickerMode||r.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){l.element[0].focus()};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,a,i){function o(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function r(e,t){for(var n,a=new Array(t),o=new Date(e),r=0;t>r;)n=new Date(o),i.fixTimeZone(n),a[r++]=n,o.setDate(o.getDate()+1);return a}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),o=new Date(n,a,1),l=i.startingDay-o.getDay(),c=l>0?7-l:-l,u=new Date(o);c>0&&u.setDate(-c+1);for(var d=r(u,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==a,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(d[f].date,i.formatDayHeader),full:e(d[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var h=(11-i.startingDay)%7,g=t.rows.length,m=0;g>m;m++)t.weekNumbers.push(s(t.rows[m][h].date))}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,a=new Array(12),o=i.activeDate.getFullYear(),r=0;12>r;r++)n=new Date(o,r,1),i.fixTimeZone(n),a[r]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(a,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,a){function i(e){return parseInt((e-1)/o,10)*o+1}var o=a.yearRange;a.step={years:o},a.element=t,a._refreshView=function(){for(var t,n=new Array(o),r=0,s=i(a.activeDate.getFullYear());o>r;r++)t=new Date(s+r,0,1),a.fixTimeZone(t),n[r]=angular.extend(a.createDateObject(t,a.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=a.split(n,5)},a.compare=function(e,t){return e.getFullYear()-t.getFullYear()},a.handleKeyDown=function(e){var t=a.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*a.step.years:"home"===e?t=i(a.activeDate.getFullYear()):"end"===e&&(t=i(a.activeDate.getFullYear())+o-1),a.activeDate.setFullYear(t)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,n,a,i,o,r,s,l){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,u,d,p){function f(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function h(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=r.parse(e,m,c.date);return isNaN(t)?void 0:t}return void 0}return null}function g(e,t){var n=e||t;if(!d.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var a=r.parse(n,m);return!isNaN(a)}return!1}return!0}var m,v=angular.isDefined(d.closeOnDateSelection)?c.$parent.$eval(d.closeOnDateSelection):s.closeOnDateSelection,b=angular.isDefined(d.datepickerAppendToBody)?c.$parent.$eval(d.datepickerAppendToBody):s.appendToBody,y=angular.isDefined(d.onOpenFocus)?c.$parent.$eval(d.onOpenFocus):s.onOpenFocus,$=angular.isDefined(d.datepickerPopupTemplateUrl)?d.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,w=angular.isDefined(d.datepickerTemplateUrl)?d.datepickerTemplateUrl:s.datepickerTemplateUrl,x={};c.showButtonBar=angular.isDefined(d.showButtonBar)?c.$parent.$eval(d.showButtonBar):s.showButtonBar,c.getText=function(e){return c[e+"Text"]||s[e+"Text"]},c.isDisabled=function(e){return"today"===e&&(e=new Date),c.watchData.minDate&&c.compare(e,x.minDate)<0||c.watchData.maxDate&&c.compare(e,x.maxDate)>0},c.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};var k=!1;if(s.html5Types[d.type]?(m=s.html5Types[d.type],k=!0):(m=d.datepickerPopup||s.datepickerPopup,d.$observe("datepickerPopup",function(e){var t=e||s.datepickerPopup;if(t!==m&&(m=t,p.$modelValue=null,!m))throw new Error("datepickerPopup must have a date format specified.")})),!m)throw new Error("datepickerPopup must have a date format specified.");if(k&&d.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var C=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$});var D=angular.element(C.children()[0]);if(D.attr("template-url",w),k&&"month"===d.type&&(D.attr("datepicker-mode",'"month"'),D.attr("min-mode","month")),d.datepickerOptions){var T=c.$parent.$eval(d.datepickerOptions);T&&T.initDate&&(c.initDate=T.initDate,D.attr("init-date","initDate"),delete T.initDate),angular.forEach(T,function(e,t){D.attr(f(t),e)})}c.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(d[e]){var n=t(d[e]);if(c.$parent.$watch(n,function(t){c.watchData[e]=t,("minDate"===e||"maxDate"===e)&&(x[e]=new Date(t))}),D.attr(f(e),"watchData."+e),"datepickerMode"===e){var a=n.assign;c.$watch("watchData."+e,function(e,t){angular.isFunction(a)&&e!==t&&a(c.$parent,e)})}}}),d.dateDisabled&&D.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.showWeeks&&D.attr("show-weeks",d.showWeeks),d.customClass&&D.attr("custom-class","customClass({ date: date, mode: mode })"),k?p.$formatters.push(function(e){return c.date=e,e}):(p.$$parserName="date",p.$validators.date=g,p.$parsers.unshift(h),p.$formatters.push(function(e){return c.date=e,p.$isEmpty(e)?e:o(e,m)})),c.dateSelection=function(e){angular.isDefined(e)&&(c.date=e);var t=c.date?o(c.date,m):null;u.val(t),p.$setViewValue(t),v&&(c.isOpen=!1,u[0].focus())},p.$viewChangeListeners.push(function(){c.date=r.parse(p.$viewValue,m,c.date)});var E=function(e){!c.isOpen||u[0].contains(e.target)||C[0].contains(e.target)||c.$apply(function(){c.isOpen=!1})},S=function(e){27===e.which&&c.isOpen?(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!1}),u[0].focus()):40!==e.which||c.isOpen||(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!0}))};u.bind("keydown",S),c.keydown=function(e){27===e.which&&(c.isOpen=!1,u[0].focus())},c.$watch("isOpen",function(e){e?(c.position=b?i.offset(u):i.position(u),c.position.top=c.position.top+u.prop("offsetHeight"),l(function(){y&&c.$broadcast("datepicker.focus"),n.bind("click",E)},0,!1)):n.unbind("click",E)}),c.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.date)?(e=new Date(c.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}c.dateSelection(e)},c.close=function(){c.isOpen=!1,u[0].focus()};var O=e(C)(c);C.remove(),b?n.find("body").append(O):u.after(O),c.$on("$destroy",function(){c.isOpen===!0&&(a.$$phase||c.$apply(function(){c.isOpen=!1})),O.remove(),u.unbind("keydown",S),n.unbind("click",E)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",a),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",a),e.unbind("keydown",i))};var a=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var a=n.getToggleElement();if(!(e&&a&&a[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),a()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,a,i,o,r,s,l,c){var u,d,p=this,f=e.$new(),h=a.openClass,g=angular.noop,m=t.onToggle?n(t.onToggle):angular.noop,v=!1,b=!1,y=s.find("body");this.init=function(a){p.$element=a,t.isOpen&&(d=n(t.isOpen),g=d.assign,e.$watch(d,function(e){f.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),b=angular.isDefined(t.keyboardNav),v&&p.dropdownMenu&&(y.append(p.dropdownMenu),y.addClass("dropdown"),a.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return t.autoClose||"always"},f.getElement=function(){return p.$element},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(e){case 40:p.selectedOption=angular.isNumber(p.selectedOption)?p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:0;break;case 38:p.selectedOption=angular.isNumber(p.selectedOption)?0===p.selectedOption?0:p.selectedOption-1:t.length-1}t[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(t,n){if(v&&p.dropdownMenu){var a=r.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),s={top:a.top+"px",display:t?"block":"none"},d=p.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(a.left+p.$element.prop("offsetWidth"))+"px"):(s.left=a.left+"px",s.right="auto"),p.dropdownMenu.css(s)}var b=v?y:p.$element;if(o[t?"addClass":"removeClass"](b,h).then(function(){angular.isDefined(t)&&t!==n&&m(e,{open:!!t})}),t)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){u=f.$new(),l(e.trim())(u,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),i.open(f);else{if(p.dropdownMenuTemplateUrl){u&&u.$destroy();var $=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith($),p.dropdownMenu=$}i.close(f),p.selectedOption=null}angular.isFunction(g)&&g(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var $=e.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",$)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,a){a.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,a){if(a){var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,a){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=a.dropdownMenu.find("a");switch(e.which){case 40:a.selectedOption=angular.isNumber(a.selectedOption)?a.selectedOption===t.length-1?a.selectedOption:a.selectedOption+1:0;break;case 38:a.selectedOption=angular.isNumber(a.selectedOption)?0===a.selectedOption?0:a.selectedOption-1:t.length-1}t[a.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,a){if(a){t.addClass("dropdown-toggle"),a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var a=e[t];if(a){var i=a.indexOf(n);-1!==i&&a.splice(i,1),a.length||delete e[t]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(e,t,n){function a(t,a,o){o.modalInClass&&(i?i(a,{addClass:o.modalInClass}).start():e.addClass(a,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var r=n();i?i(a,{removeClass:o.modalInClass}).start().then(r):e.removeClass(a,o.modalInClass).then(r)}))}var i=null;return t.has("$animateCss")&&(i=t.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(e,t,n,a){var i=null;return a.has("$animateCss")&&(i=a.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(a,o,r){o.addClass(r.windowClass||""),a.size=r.size,a.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.$isRendered=!0;var s=t.defer();r.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;r.modalInClass&&(s=i?i(o,{addClass:r.modalInClass}).start():n.addClass(o,r.modalInClass),a.$on(e.NOW_CLOSING_EVENT,function(e,t){var a=t();i?i(o,{removeClass:r.modalInClass}).start().then(a):n.removeClass(o,r.modalInClass).then(a)})),t.when(s).then(function(){var e=o[0].querySelectorAll("[autofocus]");e.length?e[0].focus():o[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,a,i,o,r,s,l){function c(){for(var e=-1,t=y.keys(),n=0;n<t.length;n++)y.get(t[n]).value.backdrop&&(e=n);return e}function u(e,t){var a=n.find("body").eq(0),i=y.get(e).value;y.remove(e),p(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||b;$.remove(t,e),a.toggleClass(t,$.hasKey(t))}),d(),t&&t.focus?t.focus():a.focus()}function d(){if(g&&-1==c()){var e=m;p(g,m,function(){e=null}),g=void 0,m=void 0}}function p(t,n,a){function i(){i.done||(i.done=!0,h?h(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),a&&a())}var r,s=null,l=function(){return r||(r=o.defer(),s=r.promise),function(){r.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,l),o.when(s).then(i)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var h=null;r.has("$animateCss")&&(h=r.get("$animateCss"));var g,m,v,b="modal-open",y=l.createNew(),$=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,k="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(c,function(e){m&&(m.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=y.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply(function(){w.dismiss(t.key,"escape key press")});break;case 9:w.loadFocusElementList(t);var n=!1;e.shiftKey?w.isFocusInFirstItem(e)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(e)&&(n=w.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),w.open=function(e,t){var o=n[0].activeElement,r=t.openedClass||b;y.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass}),$.put(r,e);var s=n.find("body").eq(0),l=c();if(l>=0&&!g){m=i.$new(!0),m.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),g=a(u)(m),s.append(g)}var d=angular.element('<div modal-window="modal-window"></div>');d.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:y.length()-1,animate:"animate"}).html(t.content),t.animation&&d.attr("modal-animation","true");var p=a(d)(t.scope);y.top().value.modalDomEl=p,y.top().value.modalOpener=o,s.append(p),s.addClass(r),w.clearFocusListCache()},w.close=function(e,t){var n=y.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=y.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return y.top()},w.modalRendered=function(e){var t=y.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)==v[0]:!1},w.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)==v[v.length-1]:!1},w.clearFocusListCache=function(){v=[],x=0},w.loadFocusElementList=function(e){if((void 0===v||!v.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(k))}},w}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,a,i,o,r){function s(e){return e.template?a.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(a.when(t.invoke(e))):angular.isString(e)?n.push(a.when(t.get(e))):n.push(a.when(e))}),n}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(t){var i=a.defer(),c=a.defer(),d=a.defer(),p={result:i.promise,opened:c.promise,rendered:d.promise,close:function(e){return r.close(p,e)},dismiss:function(e){return r.dismiss(p,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var f,h=a.all([s(t)].concat(l(t.resolve)));return f=u=a.all([u]).then(function(){return h},function(){return h}).then(function(e){var a=(t.scope||n).$new();a.$close=p.close,a.$dismiss=p.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var s,l={},u=1;t.controller&&(l.$scope=a,l.$modalInstance=p,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),s=o(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(s,a),a[t.controllerAs]=s)),r.open(p,{scope:a,deferred:i,renderDeferred:d,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),c.resolve(!0)},function(e){c.reject(e),i.reject(e)}).finally(function(){u===f&&(u=null)}),p},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var a=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,s){i=r,this.config=s,i.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var a=!e.ngDisabled||!n;a&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,a,i,o){function r(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],a=1,i=t,o=angular.isDefined(u)&&t>u;o&&(d?(a=Math.max(e-Math.floor(u/2),1),i=a+u-1,i>t&&(i=t,a=i-u+1)):(a=(Math.ceil(e/u)-1)*u+1,i=Math.min(a+u-1,t)));for(var s=a;i>=s;s++){var l=r(s,s,s===e);
n.push(l)}if(o&&!d){if(a>1){var c=r(a-1,"...",!1);n.unshift(c)}if(t>i){var p=r(i+1,"...",!1);n.push(p)}}return n}var l=o[0],c=o[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,a,i){var o=i[0],r=i[1];r&&(t.align=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align,o.init(r,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(i,o,r,s,l,c,u,d){return function(i,p,f,h){function g(e){var t=(e||h.trigger||f).split(" "),a=t.map(function(e){return n[e]||e});return{show:t,hide:a}}h=angular.extend({},t,a,h);var m=e(i),v=c.startSymbol(),b=c.endSymbol(),y="<div "+m+'-popup title="'+v+"title"+b+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'placement="'+v+"placement"+b+'" popup-class="'+v+"popupClass"+b+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=o(y);return function(t,n,a){function o(){I.isOpen?f():c()}function c(){(!A||t.$eval(a[p+"Enable"]))&&($(),I.popupDelay?S||(S=r(m,I.popupDelay,!1)):m())}function f(){v(),u.$$phase||u.$digest()}function m(){return S=null,E&&(r.cancel(E),E=null),(h.useContentExp?I.contentExp():I.content)?(b(),I.isOpen=!0,F&&F.assign(I.origScope,I.isOpen),u.$$phase||I.$apply(),D.css({display:"block"}),U(),void 0):angular.noop}function v(){I.isOpen=!1,F&&F.assign(I.origScope,I.isOpen),r.cancel(S),S=null,r.cancel(O),O=null,I.animation?E||(E=r(y,500)):y()}function b(){D&&y(),T=I.$new(),D=e(T,function(e){M?s.find("body").append(e):n.after(e)}),h.useContentExp&&(T.$watch("contentExp()",function(e){!e&&I.isOpen&&v()}),T.$watch(function(){L||(L=!0,T.$$postDigest(function(){L=!1,I.isOpen&&U()}))}))}function y(){E=null,D&&(D.remove(),D=null),T&&(T.$destroy(),T=null)}function $(){w(),x(),k()}function w(){I.popupClass=a[p+"Class"]}function x(){var e=a[p+"Placement"];I.placement=angular.isDefined(e)?e:h.placement}function k(){var e=a[p+"PopupDelay"],t=parseInt(e,10);I.popupDelay=isNaN(t)?h.popupDelay:t}function C(){var e=a[p+"Trigger"];N(),P=g(e),"none"!==P.show&&P.show.forEach(function(e,t){e===P.hide[t]?n[0].addEventListener(e,o):e&&(n[0].addEventListener(e,c),n[0].addEventListener(P.hide[t],f))})}var D,T,E,S,O,M=angular.isDefined(h.appendToBody)?h.appendToBody:!1,P=g(void 0),A=angular.isDefined(a[p+"Enable"]),I=t.$new(!0),L=!1,F=angular.isDefined(a[p+"IsOpen"])?d(a[p+"IsOpen"]):!1,U=function(){D&&(O||(O=r(function(){D.css({top:0,left:0,width:"auto",height:"auto"});var e=l.position(D),t=l.positionElements(n,D,I.placement,M);t.top+="px",t.left+="px",t.width=e.width+"px",t.height=e.height+"px",D.css(t),O=null},0,!1)))};I.origScope=t,I.isOpen=!1,I.contentExp=function(){return t.$eval(a[i])},h.useContentExp||a.$observe(i,function(e){I.content=e,!e&&I.isOpen?v():U()}),a.$observe("disabled",function(e){S&&e&&(r.cancel(S),S=null),e&&I.isOpen&&v()}),a.$observe(p+"Title",function(e){I.title=e,U()}),a.$observe(p+"Placement",function(){I.isOpen&&(x(),U())}),F&&t.$watch(F,function(e){e!==I.isOpen&&o()});var N=function(){P.show.forEach(function(e){n.unbind(e,c)}),P.hide.forEach(function(e){n.unbind(e,f)})};C();var H=t.$eval(a[p+"Animation"]);I.animation=angular.isDefined(H)?!!H:h.animation;var V=t.$eval(a[p+"AppendToBody"]);M=angular.isDefined(V)?V:M,M&&t.$on("$locationChangeSuccess",function(){I.isOpen&&v()}),t.$on("$destroy",function(){r.cancel(E),r.cancel(S),r.cancel(O),N(),y(),I=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,o,r){var s,l,c,u=i.$eval(r.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};i.$watch(t.parseAsResourceUrl(r.tooltipTemplateTransclude),function(t){var r=++d;t?(a(t,!0).then(function(a){if(r===d){var i=u.$new(),l=a,f=n(l)(i,function(t){p(),e.enter(t,o)});s=i,c=f,s.$emit("$includeContentLoaded",t)}},function(){r===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var a=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=a.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(){a.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){t&&e.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,a,i,o){t&&e.warn("bar is now deprecated. Use uib-bar instead"),o.addBar(n,a)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(a.$setViewValue(a.$viewValue===t?0:t),a.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!a){var o=i==n.length-1?i-1:i+1;t.select(n[o])}n.splice(i,1)};var a;e.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,a,i,o,r){n.$watch("active",function(e){e&&o.select(n)}),n.disabled=!1,i.disable&&n.$parent.$watch(e(i.disable),function(e){n.disabled=!!e}),i.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(i.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=r}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,a){var i=t.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,a,i,o){function r(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===m[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){u(),g.$setViewValue(new Date(h)),d(e)}function u(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=h.getHours(),a=h.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(a)),e.meridian=h.getHours()<12?m[0]:m[1]}function p(e,t){var n=new Date(e.getTime()+6e4*t),a=new Date(e);return a.setHours(n.getHours(),n.getMinutes()),a}function f(e){h=p(h,e),c()}var h=new Date,g={$setViewValue:angular.noop},m=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){g=n,g.$render=this.render,g.$formatters.unshift(function(e){return e?new Date(e):null});var i=a.eq(0),r=a.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,r);var l=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(i,r),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(i,r)};var v=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){v=parseInt(e,10)});var b=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){b=parseInt(e,10)});var y;e.$parent.$watch(n(t.min),function(e){var t=new Date(e);y=isNaN(t)?void 0:t});var $;e.$parent.$watch(n(t.max),function(e){var t=new Date(e);$=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=p(h,60*v);return e>$||h>e&&y>e},e.noDecrementHours=function(){var e=p(h,60*-v);return y>e||e>h&&e>$},e.noIncrementMinutes=function(){var e=p(h,b);return e>$||h>e&&y>e},e.noDecrementMinutes=function(){var e=p(h,-b);return y>e||e>h&&e>$},e.noToggleMeridian=function(){return h.getHours()<13?p(h,720)>$:p(h,-720)<y},e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=r(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(h.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(t,n){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void 0;var a=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=r(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(h.setHours(e),y>h||h>$?a(!0):c("h")):a(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s(),t=r();angular.isDefined(e)&&angular.isDefined(t)?(h.setMinutes(e),y>h||h>$?a(void 0,!0):c("m")):a(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var t=g.$viewValue;isNaN(t)?(g.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(h=t),y>h||h>$?(g.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):u(),d())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*v)},e.decrementHours=function(){e.noDecrementHours()||f(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(b)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-b)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(h.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,a){var i=a[0],o=a[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,a,i){function o(e){for(var t in e)if(void 0!==s.style[t])return e[t]}i||a.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var r=function(a,i,o){o=o||{};var s=e.defer(),l=r[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),t(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=o(l),r.animationEndEventName=o(c),r}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,a,i,o,r,s,l){var c=[9,13,27,38,40],u=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,p,f,h){function g(){U.moveInProgress||(U.moveInProgress=!0,U.$digest()),B&&a.cancel(B),B=a(function(){U.matches.length&&m(),U.moveInProgress=!1,U.$digest()},u)}function m(){U.position=O?s.offset(p):s.position(p),U.position.top+=p.prop("offsetHeight")}var v=h[0],b=h[1],y=d.$eval(f.typeaheadMinLength);y||0===y||(y=1);var $,w,x=d.$eval(f.typeaheadWaitMs)||0,k=d.$eval(f.typeaheadEditable)!==!1,C=t(f.typeaheadLoading).assign||angular.noop,D=t(f.typeaheadOnSelect),T=angular.isDefined(f.typeaheadSelectOnBlur)?d.$eval(f.typeaheadSelectOnBlur):!1,E=t(f.typeaheadNoResults).assign||angular.noop,S=f.typeaheadInputFormatter?t(f.typeaheadInputFormatter):void 0,O=f.typeaheadAppendToBody?d.$eval(f.typeaheadAppendToBody):!1,M=d.$eval(f.typeaheadFocusFirst)!==!1,P=f.typeaheadSelectOnExact?d.$eval(f.typeaheadSelectOnExact):!1,A=t(f.ngModel),I=t(f.ngModel+"($$$p)"),L=function(e,t){return angular.isFunction(A(d))&&b&&b.$options&&b.$options.getterSetter?I(e,{$$$p:t}):A.assign(e,t)},F=l.parse(f.typeahead),U=d.$new(),N=d.$on("$destroy",function(){U.$destroy()});U.$on("$destroy",N);var H="typeahead-"+U.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H});var V=angular.element("<div typeahead-popup></div>");V.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&V.attr("template-url",f.typeaheadTemplateUrl),angular.isDefined(f.typeaheadPopupTemplateUrl)&&V.attr("popup-template-url",f.typeaheadPopupTemplateUrl);var j=function(){U.matches=[],U.activeIdx=-1,p.attr("aria-expanded",!1)},R=function(e){return H+"-option-"+e};U.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",R(e))});var q=function(e,t){return U.matches.length>t&&e?e.toUpperCase()===U.matches[t].label.toUpperCase():!1},_=function(e){var t={$viewValue:e};C(d,!0),E(d,!1),n.when(F.source(d,t)).then(function(n){var a=e===v.$viewValue;if(a&&$)if(n&&n.length>0){U.activeIdx=M?0:-1,E(d,!1),U.matches.length=0;for(var i=0;i<n.length;i++)t[F.itemName]=n[i],U.matches.push({id:R(i),label:F.viewMapper(U,t),model:n[i]});U.query=e,m(),p.attr("aria-expanded",!0),P&&1===U.matches.length&&q(e,0)&&U.select(0)}else j(),E(d,!0);a&&C(d,!1)},function(){j(),C(d,!1),E(d,!0)})};O&&(angular.element(o).bind("resize",g),i.find("body").bind("scroll",g));var B;U.moveInProgress=!1,j(),U.query=void 0;var z,W=function(e){z=a(function(){_(e)},x)},Y=function(){z&&a.cancel(z)};v.$parsers.unshift(function(e){return $=!0,0===y||e&&e.length>=y?x>0?(Y(),W(e)):_(e):(C(d,!1),Y(),j()),k?e:e?(v.$setValidity("editable",!1),void 0):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(e){var t,n,a={};return k||v.$setValidity("editable",!0),S?(a.$model=e,S(d,a)):(a[F.itemName]=e,t=F.viewMapper(d,a),a[F.itemName]=void 0,n=F.viewMapper(d,a),t!==n?t:e)}),U.select=function(e){var t,n,i={};w=!0,i[F.itemName]=n=U.matches[e].model,t=F.modelMapper(d,i),L(d,t),v.$setValidity("editable",!0),v.$setValidity("parse",!0),D(d,{$item:n,$model:t,$label:F.viewMapper(d,i)}),j(),U.$eval(f.typeaheadFocusOnSelect)!==!1&&a(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){if(0!==U.matches.length&&-1!==c.indexOf(e.which)){if(-1===U.activeIdx&&(9===e.which||13===e.which))return j(),U.$digest(),void 0;e.preventDefault(),40===e.which?(U.activeIdx=(U.activeIdx+1)%U.matches.length,U.$digest()):38===e.which?(U.activeIdx=(U.activeIdx>0?U.activeIdx:U.matches.length)-1,U.$digest()):13===e.which||9===e.which?U.$apply(function(){U.select(U.activeIdx)}):27===e.which&&(e.stopPropagation(),j(),U.$digest())}}),p.bind("blur",function(){T&&U.matches.length&&-1!==U.activeIdx&&!w&&(w=!0,U.$apply(function(){U.select(U.activeIdx)})),$=!1,w=!1});var G=function(e){p[0]!==e.target&&3!==e.which&&0!==U.matches.length&&(j(),r.$$phase||U.$digest())};i.bind("click",G),d.$on("$destroy",function(){i.unbind("click",G),O&&K.remove(),V.remove()});var K=e(V)(U);O?i.find("body").append(K):p.after(K)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e(r).then(function(e){t(e.trim())(a,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function a(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(a(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(e,t,n){function a(e){var a={};return function(i){if("undefined"==typeof a[i]){var o=t.defer(),r=e(i);r.onload=r.onreadystatechange=function(e){r.readyState&&"complete"!==r.readyState&&"loaded"!==r.readyState||n(function(){o.resolve(e)})},r.onerror=function(e){n(function(){o.reject(e)})},a[i]=o.promise}return a[i]}}var i=e[0];this.loadScript=a(function(e){var t=i.createElement("script");return t.src=e,i.body.appendChild(t),t}),this.loadCSS=a(function(e){var t=i.createElement("link");return t.rel="stylesheet",t.type="text/css",t.href=e,i.head.appendChild(t),t})}])}(),function(){"use strict";angular.module("risevision.widget.common.tooltip",["ui.bootstrap"]).directive("rvTooltip",[function(){return{restrict:"A",link:function(e,t){t.addClass("fa"),t.addClass("fa-question-circle"),t.addClass("fa-lg")}}}])}(),function(){"use strict";angular.module("risevision.widget.common.scroll-setting",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("scrollSetting",["$templateCache",function(e){return{restrict:"E",scope:{scroll:"="},template:e.get("_angular/scroll-setting/scroll-setting.html"),transclude:!1,link:function(e){e.defaultSetting={by:"none",speed:"medium",pause:5,pud:10},e.defaults=function(e){if(e)for(var t=1,n=arguments.length;n>t;t++){var a=arguments[t];for(var i in a)void 0===e[i]&&(e[i]=a[i])}return e},e.$watch("scroll",function(t){e.defaults(t,e.defaultSetting)})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.scroll-setting")}catch(t){e=angular.module("risevision.widget.common.scroll-setting",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/scroll-setting/scroll-setting.html",'<div class="row">\n  <div class="col-md-3">\n    <div class="form-group">\n      <label class="control-label">{{"scroll.heading" | translate}}</label>\n      <select id="scroll-by" ng-model="scroll.by" class="form-control">\n        <option value="none">{{\'scroll.by.none\' | translate}}</option>\n        <option value="continuous">{{\'scroll.by.continuous\' | translate}}</option>\n        <option value="page">{{\'scroll.by.page\' | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-3" ng-show="scroll.by != \'none\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.speed.label\' | translate}}</label>\n      <select id="scroll-speed" ng-model="scroll.speed" class="form-control">\n        <option value="slowest">{{\'scroll.speed.slowest\' | translate}}</option>\n        <option value="slow">{{\'scroll.speed.slow\' | translate}}</option>\n        <option value="medium">{{\'scroll.speed.medium\' | translate}}</option>\n        <option value="fast">{{\'scroll.speed.fast\' | translate}}</option>\n        <option value="fastest">{{\'scroll.speed.fastest\' | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-3" ng-show="scroll.by != \'none\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.pause.label\' | translate}}</label>\n      <div class="input-group">\n        <input id="scroll-pause" type="number" ng-model="scroll.pause" class="form-control" />\n        <span class="input-group-addon">{{\'common.units.seconds\' | translate}}</span>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-3" ng-show="scroll.by != \'none\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.pud.label\' | translate}}</label>\n      <span popover="{{\'scroll.pud.tooltip\' | translate}}" popover-trigger="click"\n        popover-placement="right" rv-tooltip></span>\n      <div class="input-group">\n        <input id="scroll-pud" type="number" ng-model="scroll.pud" class="form-control" />\n        <span class="input-group-addon">{{\'common.units.seconds\' | translate}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(e,t,n,a,i,o){o=o||{};var r=0,s="ui-tinymce";return o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],link:function(l,c,u,d){function p(e){e?(f(),g&&g.getBody().setAttribute("contenteditable",!1)):(f(),g&&!g.settings.readonly&&g.getBody().setAttribute("contenteditable",!0))}function f(){g||(g=tinymce.get(u.id))}if(a.tinymce){var h,g,m=d[0],v=d[1]||null,b={},y=function(t){var n=t.getContent({format:b.format}).trim();n=i.trustAsHtml(n),m.$setViewValue(n),e.$$phase||l.$apply()};u.$set("id",s+"-"+r++),h={},angular.extend(h,l.$eval(u.uiTinymce));var $={setup:function(e){e.on("init",function(){m.$render(),m.$setPristine(),v&&v.$setPristine()}),e.on("ExecCommand",function(){e.save(),y(e)}),e.on("change NodeChange",function(){e.save(),y(e)}),e.on("blur",function(){c[0].blur()}),e.on("ObjectResized",function(){e.save(),y(e)}),e.on("remove",function(){c.remove()}),h.setup&&h.setup(e,{updateView:y})},format:h.format||"html",selector:"#"+u.id};angular.extend(b,o,h,$),n(function(){b.baseURL&&(tinymce.baseURL=b.baseURL),tinymce.init(b),p(l.$eval(u.ngDisabled))}),m.$formatters.unshift(function(e){return e?i.trustAsHtml(e):""}),m.$parsers.unshift(function(e){return e?i.getTrustedHtml(e):""}),m.$render=function(){f();var e=m.$viewValue?i.getTrustedHtml(m.$viewValue):"";g&&g.getDoc()&&(g.setContent(e),g.fire("change"))},u.$observe("disabled",p),l.$on("$tinymce:refresh",function(e,n){var a=u.id;if(angular.isUndefined(n)||n===a){var i=c.parent(),o=c.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,a),i.append(t(o)(l))}}),l.$on("$destroy",function(){f(),g&&(g.remove(),g=null)})}}}}]),function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("urlField",["$templateCache","$log",function(e,t){return{restrict:"E",require:"?ngModel",scope:{url:"=",hideLabel:"@",fileType:"@"},template:e.get("_angular/url-field/url-field.html"),link:function(e,n,a,i){function o(e,t){var n,a=e.toLowerCase();switch(t){case"image":n=[".jpg",".jpeg",".png",".bmp",".svg",".gif"];break;case"video":n=[".webm",".mp4",".ogv",".ogg"];break;default:n=[]}for(var i=0,o=n.length;o>i;i++)if(-1!==a.indexOf(n[i]))return!0;return!1}function r(){if("undefined"!==e.fileType&&"undefined"!==e.url&&"image"===e.fileType){var t=new Image;t.onload=function(){e.valid=!0,e.$apply()},t.onerror=function(){e.valid=!1,e.invalidType=e.fileType,e.$apply()},t.src=e.url}}function s(t){var n,a;return n=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,-1===t.indexOf("://")&&(t="http://"+t),a=n.test(t),a&&"undefined"!=typeof e.fileType?(a=o(t,e.fileType),a||(e.invalidType=e.fileType)):e.invalidType="url",a&&r(),a}e.doValidation=!0,e.forcedValid=!1,e.valid=!0,e.invalidType="url",e.allowInitEmpty="undefined"!=typeof a.initEmpty,e.blur=function(){e.$emit("urlFieldBlur")},e.$watch("url",function(t){"undefined"!=typeof t&&null!==t&&(""!==t&&e.allowInitEmpty&&(e.allowInitEmpty=!1),e.doValidation&&!e.allowInitEmpty&&(e.valid=s(e.url)))}),e.$watch("valid",function(e){i&&(t.info("Calling $setValidity() on parent controller"),i.$setValidity("valid",e))}),e.$watch("doValidation",function(t){"undefined"!=typeof e.url&&(t?(e.forcedValid=!1,e.allowInitEmpty||(e.valid=s(e.url))):(e.forcedValid=!0,e.valid=!0))})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.url-field")}catch(t){e=angular.module("risevision.widget.common.url-field",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/url-field/url-field.html",'<div class="form-group" >\n  <label ng-if="!hideLabel">{{ "url.label" | translate }}</label>\n  <div>\n    <input name="url" type="text" ng-model="url" ng-blur="blur()" class="form-control" placeholder="http://">\n  </div>\n  <p ng-if="!valid && invalidType === \'url\'" class="text-danger">{{ "url.errors.url" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'image\'" class="text-danger">{{ "url.errors.image" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'video\'" class="text-danger">{{ "url.errors.video" | translate }}</p>\n  <div class="checkbox" ng-show="forcedValid || !valid">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url"> {{"url.validate.label" | translate}}\n    </label>\n  </div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.widget-button-toolbar",["risevision.common.i18n"]).directive("widgetButtonToolbar",["$templateCache",function(e){return{restrict:"E",scope:{save:"&",cancel:"&",disableSave:"&"},template:e.get("_angular/widget-button-toolbar/widget-button-toolbar.html")}}])}(),function(e){try{e=angular.module("risevision.widget.common.widget-button-toolbar")}catch(t){e=angular.module("risevision.widget.common.widget-button-toolbar",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/widget-button-toolbar/widget-button-toolbar.html",'<div class="pull-right">\n  <button id="save" class="btn btn-primary btn-fixed-width" type="button" ng-click="save()" ng-disabled="disableSave()">\n    <span>{{"common.save" | translate}}</span>\n    <i class="fa fa-white fa-check icon-right"></i>\n  </button>\n  <button id="cancel" class="btn btn-default btn-fixed-width" type="button" ng-click="cancel()">\n    <span>{{"common.cancel" | translate}}</span>\n    <i class="fa fa-white fa-times icon-right"></i>\n  </button>\n</div>\n')}])}(),angular.module("risevision.widget.text.settings",["angularLoad","risevision.common.i18n","risevision.widget.common","risevision.widget.common.widget-button-toolbar","risevision.widget.common.tooltip","risevision.widget.common.scroll-setting","risevision.widget.common.url-field","ui.tinymce"]),"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={};angular.module("risevision.widget.common",[]),angular.module("risevision.widget.common").controller("settingsController",["$scope","settingsSaver","settingsGetter","settingsCloser",function(e,t,n,a){e.settings={params:{},additionalParams:{}},e.alerts=[],e.getAdditionalParam=function(t,n){var a=e.settings.additionalParams[t];return angular.isUndefined(a)?n:a},e.setAdditionalParam=function(t,n){e.settings.additionalParams[t]=n},e.loadAdditionalParams=function(){n.getAdditionalParams().then(function(t){e.settings.additionalParams=t,e.$broadcast("loadAdditionalParams",t)},function(e){alert(e)})},e.setAdditionalParams=function(t,n){e.settings.additionalParams[t]=n},e.saveSettings=function(){e.alerts=[],e.$broadcast("collectAdditionalParams"),t.saveSettings(e.settings).then(function(){},function(t){e.alerts=t.alerts})},e.closeSettings=function(){a.closeSettings().then(function(){},function(t){e.alerts=t.alerts})},e.settings.params=n.getParams(),e.loadAdditionalParams()}]).directive("scrollOnAlerts",function(){return{restrict:"A",scope:!1,link:function(e,t){e.$watchCollection("alerts",function(e,n){e.length>0&&0===n.length&&$("body").animate({scrollTop:t.offset().top},"fast")})}}}),angular.module("risevision.widget.common").constant("STORAGE_FILE_URL_BASE","storage.googleapis.com/risemedialibrary-").constant("STORAGE_FOLDER_URL_BASE","googleapis.com/storage/").factory("commonSettings",["$log","STORAGE_FILE_URL_BASE","STORAGE_FOLDER_URL_BASE",function(e,t,n){var a={getStorageUrlData:function(e){function a(e){return-1!==e.indexOf(t)?"file":-1!==e.indexOf(n)?"folder":null}function i(e){var t=e.split("risemedialibrary-");return t[1].slice(0,t[1].indexOf("/"))}var o,r,s,l,c={};if("file"===a(e))o=e.split(t)[1],o=decodeURIComponent(o.slice(o.indexOf("/")+1)),r=o.split("/"),c.companyId=i(e),c.fileName=r.pop(),c.folder=r.length>0?r.join("/"):"",""!==c.folder&&(c.folder+="/");else if("folder"===a(e)){s=e.split("?");for(var u=0;u<s.length;u++)if(l=s[u].split("="),"prefix"===l[0]&&"undefined"!=typeof l[1]&&""!==l[1]){c.companyId=i(e),c.folder=decodeURIComponent(l[1]),c.fileName="";break}}return c}};return a}]),angular.module("risevision.widget.common").factory("gadgetsApi",["$window",function(e){return e.gadgets}]),angular.module("risevision.widget.common").factory("googleFontLoader",["$http","angularLoad",function(e,t){function n(){for(var e="",n="",a="",o=[],r=!1,s=",sans-serif;",l="//fonts.googleapis.com/css?family=",c=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],u=0;u<i.length;u++)e=i[u],-1===c.indexOf(e)&&(a=l+e,t.loadCSS(a),o.push(a),/\s/.test(e)&&(r=!0),n+=r?e+"='"+e+"'"+s:e+"="+e+s);return{fonts:n,urls:o}}var a={},i=[];return a.getGoogleFonts=function(){return 0===i.length?e.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY&sort=alpha",{cache:!0}).then(function(e){var t=null;if(e.data&&e.data.items){for(var a=0,o=e.data.items.length;o>a;a++)t=e.data.items[a],t.subsets&&1===t.subsets.length&&"khmer"===t.subsets[0].toLowerCase()||i.push(t.family);return n()}}):n()},a.getFontsUsed=function(e){var t=[];return angular.forEach(i,function(n){-1!==e.indexOf(n)&&t.push(n)}),t},a}]),angular.module("risevision.widget.common").service("i18nLoader",["$window","$q",function(e,t){var n=t.defer();e.i18n.init({fallbackLng:"en",resGetPath:"locales/__ns_____lng__.json"},function(){n.resolve(e.i18n)}),this.get=function(){return n.promise}}]),angular.module("risevision.widget.common").factory("imageValidator",["$q",function(e){var t={isImage:function(t){var n=e.defer(),a=new Image;return a.onload=function(){n.resolve(!0)},a.onerror=function(){n.resolve(!1)},a.src=t,n.promise}};return t}]),angular.module("risevision.widget.common").service("settingsSaver",["$q","$log","gadgetsApi","settingsParser",function(e,t,n,a){function i(e){var t=angular.copy(e);return delete t.params.id,delete t.params.companyId,delete t.params.rsW,delete t.params.rsH,t}this.saveSettings=function(o,r){var s=e.defer(),l=[],c="";o=i(o),r&&(l=r(o)),l.length>0&&(t.debug("Validation failed.",l),s.reject({alerts:l})),o.params.hasOwnProperty("layoutURL")&&(c+=o.params.layoutURL+"?",delete o.params.layoutURL),c+=a.encodeParams(o.params);var u=a.encodeAdditionalParams(o.additionalParams);return n.rpc.call("","rscmd_saveSettings",function(e){t.debug("encoded settings",JSON.stringify(e)),t.debug("Settings saved. ",o),s.resolve(e)},{params:c,additionalParams:u}),s.promise}}]).service("settingsGetter",["$q","gadgetsApi","$log","settingsParser","$window","defaultSettings",function(e,t,n,a,i,o){this.getAdditionalParams=function(){var i=e.defer(),r=o.additionalParams||{};return t.rpc.call("","rscmd_getAdditionalParams",function(e){e=e?a.parseAdditionalParams(e):{},n.debug("getAdditionalParams returns ",e),i.resolve($.extend(!0,r,e))}),i.promise},this.getParams=function(){var e=o.params||{};return angular.extend(e,a.parseParams(i.location.search))}}]).service("settingsParser",[function(){function e(e){return 0===e.indexOf("up_")?e.slice(3):null}this.parseAdditionalParams=function(e){return e?JSON.parse(e):{}},this.encodeAdditionalParams=function(e){return JSON.stringify(e)},this.encodeParams=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var a;a="object"==typeof e[n]?JSON.stringify(e[n]):e[n],t.push("up_"+encodeURIComponent(n)+"="+encodeURIComponent(a))}return t.join("&")},this.parseParams=function(t){"?"===t[0]&&(t=t.slice(1));for(var n={},a=t.split("&"),i=0;i<a.length;i++){var o=a[i].split("="),r=e(decodeURIComponent(o[0]));if(r)try{n[r]=JSON.parse(decodeURIComponent(o[1]))}catch(s){n[r]=decodeURIComponent(o[1])}}return n}}]).service("settingsCloser",["$q","$log","gadgetsApi",function(e,t,n){this.closeSettings=function(){var t=e.defer();return n.rpc.call("","rscmd_closeSettings",function(){t.resolve(!0)}),t.promise}}]).value("defaultSettings",{}),function(e){"use strict";e.module("risevision.widget.common.visualization",[]).factory("visualizationApi",["$q","$window",function(e,t){var n,a=e.defer(),i={get:function(){return n||(n=a.promise,t.google.visualization?a.resolve(t.google.visualization):t.google.setOnLoadCallback(function(){a.resolve(t.google.visualization)})),n}};return i}])}(angular),angular.module("risevision.widget.text.settings").controller("textSettingsController",["$scope","$rootScope","$log","$window","$timeout","googleFontLoader","FONT_SIZES","FONT_FAMILIES",function(e,t,n,a,i,o,r,s){function l(e,n){switch(n.command){case"FontName":if(m)return;if("custom"===n.value)return t.$broadcast("showCustom"),void 0}}function c(e,t){e.focus(),e.formatter.toggle("lineHeight",{value:t}),e.nodeChanged()}function u(e){var t,n,a=null;if(t=e.selection.getNode(),!m&&"SPAN"===t.nodeName&&w){if(a=e.dom.getStyle(t,"line-height"),!a){n=e.dom.getParents(t);for(var i=0;i<n.length;i+=1)if("SPAN"===n[i].nodeName&&e.dom.getStyle(n[i],"line-height")){a=e.dom.getStyle(n[i],"line-height");break}}a&&w.value(a.toString())}}function d(){e.tinymceOptions={plugins:"code colorpicker textcolor wordcount",skin_url:"//s3.amazonaws.com/rise-common/styles/tinymce/rise",font_formats:g(),formats:{fontsize:{inline:"span",split:!1,styles:{fontSize:"%value"}},lineHeight:{inline:"span",styles:{lineHeight:"%value"}},paragraph:{block:"p",styles:{margin:"0"}}},content_css:b,style_formats_merge:!0,fontsize_formats:r,min_height:175,menubar:!1,toolbar1:"fontselect fontsizeselect | forecolor backcolor | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist indent outdent lineheight | removeformat code",setup:function(t){t.addButton("lineheight",{type:"listbox",text:"Line Height",title:"Line Height",icon:!1,values:[{text:"Single",value:"1"},{text:"Double",value:"2"}],onselect:function(){c(t,this.value())},onPostRender:function(){w=this}}),t.on("init",function(){var n=document.querySelector(".mce-container-body").offsetWidth,a=x.getInt("rsW");a>n?document.querySelector(".mce-edit-area iframe").contentDocument.body.style.width=a+"px":document.querySelector(".mce-edit-area iframe").style.width=a+"px",p(t),m?(f(e.settings.additionalParams.customFonts.fonts),t.execCommand("FontName",!1,"verdana,geneva,sans-serif"),t.execCommand("FontSize",!1,"24px"),t.formatter.apply("paragraph"),t.formatter.register("lineHeight",{inline:"span",styles:{lineHeight:"%value"}}),w.value("2"),w.value("1"),c(t,"1")):(t.selection.select(t.getBody(),!0),t.selection.collapse(!1),y&&(t.execCommand("FontName",!1,y.replace(/'/g,"\\'").toLowerCase()+",sans-serif"),y="")),m=!1
}),t.on("ExecCommand",function(e){l(t,e)}),t.on("NodeChange",function(){u(t)})},init_instance_callback:function(e){var t=e.formatter.apply,n=e.formatter.remove;e.formatter.apply=function(n,a,i){var o={command:n,value:a.value};t(n,a,i),e.fire("ExecCommand",o)},e.formatter.remove=function(t,a,i){var o={command:t,value:a&&a.value?a.value:null};n(t,a,i),e.fire("ExecCommand",o)}}}}function p(t){var n=t.getDoc();e.settings.additionalParams.customFonts.fonts.length>0&&i(function a(){var t=n.styleSheets[0];t?angular.forEach(e.settings.additionalParams.customFonts.fonts,function(e){var n="font-family: "+e.family.replace(/'/g,"")+"; src: url('"+e.url.replace(/'/g,"\\'")+"');";t.addRule("@font-face",n)}):a()},200)}function f(e,t){function n(){t&&"function"==typeof t&&t()}Array.isArray(e)&&e.length>0?i(function a(){var t=document.styleSheets[0];t?angular.forEach(e,function(e){var n="font-family: "+e.family.replace(/'/g,"").toLowerCase()+"; src: url('"+e.url.replace(/'/g,"\\'")+"');";t.addRule("@font-face",n)}):a()},200):n()}function h(){var t="";return angular.forEach(e.settings.additionalParams.customFonts.fonts,function(e){t+=e.family+"="+e.family.replace(/'/g,"").toLowerCase()+",sans-serif;"}),t}function g(){return"Add Custom Font=custom;"+h()+s+v}var m=!0,v="",b=[],y="",w=null,x=new gadgets.Prefs;e.processFonts=function(){var t,n=document.createElement("div"),a="";n.innerHTML=e.settings.additionalParams.data,t=$(n),angular.forEach(t.find("span"),function(e){var t=$(e).css("font-family");t=t.replace(/[']/g,"").split(",")[0],-1===a.indexOf(t)&&(a+=t+",")}),e.settings.additionalParams.googleFonts=o.getFontsUsed(a),e.$parent.saveSettings()},e.$watch("tinymceOptions.font_formats",function(t){"undefined"!=typeof t&&(m||e.$broadcast("$tinymce:refresh"))}),e.$watch("settings.additionalParams.customFonts.fonts",function(e){"undefined"!=typeof e&&m&&o.getGoogleFonts().then(function(e){null!==e&&(v=e.fonts,b=e.urls,d())},function(e){n.warn(e),d()})}),e.$on("customFontLoaded",function(t,n){f([n]),y=n.family.replace(/'/g,""),e.settings.additionalParams.customFonts.fonts.push(n),e.tinymceOptions.font_formats=g()})}]).value("defaultSettings",{params:{},additionalParams:{data:"",customFonts:{formats:"",fonts:[]},googleFonts:[],scroll:{}}}),angular.module("risevision.widget.text.settings").directive("customFont",["$log",function(){return{restrict:"A",link:function(e,t){function n(){var t=null;return e.url?(t=decodeURI(e.url.trim()),t.split("/").pop().split(".")[0]):null}var a=$(t);e.url="",e.addFont=function(){var t,i=n();i&&(t=e.url.trim(),e.$emit("customFontLoaded",{family:i,url:t})),a.modal("hide")},e.$on("showCustom",function(){a.modal("show")})}}}]),angular.module("risevision.widget.text.settings").constant("FONT_FAMILIES","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;").constant("FONT_SIZES","8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NldHRpbmdzLm1pbi5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwicnVuIiwiJHRyYW5zbGF0ZSIsImtleSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJpc1N0cmluZyIsInVzZSIsInB1dCIsImdldCIsInByb3ZpZGVyIiwiJFNUT1JBR0VfS0VZIiwiJHByZWZlcnJlZExhbmd1YWdlIiwiJGxhbmd1YWdlS2V5QWxpYXNlcyIsIiRmYWxsYmFja0xhbmd1YWdlIiwiJGZhbGxiYWNrV2FzU3RyaW5nIiwiJHVzZXMiLCIkbmV4dExhbmciLCIkc3RvcmFnZUZhY3RvcnkiLCIkc3RvcmFnZVByZWZpeCIsIiRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSIsIiRpbnRlcnBvbGF0aW9uRmFjdG9yeSIsIiRsb2FkZXJGYWN0b3J5IiwiJGxvYWRlck9wdGlvbnMiLCIkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IiwiJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJsb2FkZXJDYWNoZSIsIiR0cmFuc2xhdGlvblRhYmxlIiwiJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsIiRzdG9yYWdlS2V5IiwiJGludGVycG9sYXRvckZhY3RvcmllcyIsIiRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kiLCIkY2xvYWtDbGFzc05hbWUiLCIkcG9zdENvbXBpbGluZ0VuYWJsZWQiLCJORVNURURfT0JKRUNUX0RFTElNSVRFUiIsInZlcnNpb24iLCJnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSIsImkiLCJsYW5ndWFnZSIsIm5hdiIsIndpbmRvdyIsIm5hdmlnYXRvciIsImJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyIsImlzQXJyYXkiLCJsYW5ndWFnZXMiLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImdldExvY2FsZSIsInNwbGl0Iiwiam9pbiIsImluZGV4T2YiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJsZW4iLCJ0cmltIiwidGhpcyIsInJlcGxhY2UiLCJuZWdvdGlhdGVMb2NhbGUiLCJhdmFpbCIsImxvY2FsZSIsImxvd2VyY2FzZSIsIm4iLCJwdXNoIiwiYWxpYXMiLCJsYW5nS2V5QWxpYXMiLCJoYXNXaWxkY2FyZEtleSIsImhhc0V4YWN0S2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2xpY2UiLCJwYXJ0cyIsInRyYW5zbGF0aW9ucyIsImxhbmdLZXkiLCJ0cmFuc2xhdGlvblRhYmxlIiwiaXNPYmplY3QiLCJleHRlbmQiLCJmbGF0T2JqZWN0IiwiY2xvYWtDbGFzc05hbWUiLCJuYW1lIiwiZGF0YSIsInBhdGgiLCJyZXN1bHQiLCJwcmV2S2V5Iiwia2V5V2l0aFBhdGgiLCJrZXlXaXRoU2hvcnRQYXRoIiwidmFsIiwiY29uY2F0IiwiYWRkSW50ZXJwb2xhdGlvbiIsImZhY3RvcnkiLCJ1c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbiIsInVzZUludGVycG9sYXRpb24iLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJ2YWx1ZSIsInNldHVwUHJlZmVycmVkTGFuZ3VhZ2UiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yIiwiaW5kaWNhdG9yIiwidHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJmYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tTdGFjayIsIkVycm9yIiwidXNlVXJsTG9hZGVyIiwidXJsIiwib3B0aW9ucyIsInVzZUxvYWRlciIsInVzZVN0YXRpY0ZpbGVzTG9hZGVyIiwibG9hZGVyRmFjdG9yeSIsInVzZUxvY2FsU3RvcmFnZSIsInVzZVN0b3JhZ2UiLCJ1c2VDb29raWVTdG9yYWdlIiwic3RvcmFnZUZhY3RvcnkiLCJzdG9yYWdlUHJlZml4IiwicHJlZml4IiwidXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyIsInVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIiLCJ1c2VQb3N0Q29tcGlsaW5nIiwiZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UiLCJmbiIsImlzRnVuY3Rpb24iLCJyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImxhbmd1YWdlS2V5cyIsImFsaWFzZXMiLCJ1c2VMb2FkZXJDYWNoZSIsImNhY2hlIiwidW5kZWZpbmVkIiwiJGdldCIsIiRsb2ciLCIkaW5qZWN0b3IiLCIkcm9vdFNjb3BlIiwiJHEiLCJTdG9yYWdlIiwiZmFsbGJhY2tJbmRleCIsInN0YXJ0RmFsbGJhY2tJdGVyYXRpb24iLCJkZWZhdWx0SW50ZXJwb2xhdG9yIiwicGVuZGluZ0xvYWRlciIsImludGVycG9sYXRvckhhc2hNYXAiLCJsYW5nUHJvbWlzZXMiLCJ0cmFuc2xhdGlvbklkIiwiaW50ZXJwb2xhdGVQYXJhbXMiLCJpbnRlcnBvbGF0aW9uSWQiLCJ0cmFuc2xhdGVBbGwiLCJ0cmFuc2xhdGlvbklkcyIsInJlc3VsdHMiLCJwcm9taXNlcyIsInRyYW5zbGF0ZSIsImRlZmVycmVkIiwiZGVmZXIiLCJyZWdhcmRsZXNzIiwicmVzb2x2ZSIsInRoZW4iLCJwcm9taXNlIiwiYyIsImFsbCIsImFwcGx5IiwicHJvbWlzZVRvV2FpdEZvciIsImluZGV4IiwiZGV0ZXJtaW5lVHJhbnNsYXRpb24iLCJyZWplY3QiLCJhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyIsInVzZUxhbmd1YWdlIiwiJGVtaXQiLCJzZXRMb2NhbGUiLCJmb3JFYWNoIiwiaW50ZXJwb2xhdG9yIiwiaWQiLCJsb2FkQXN5bmMiLCJsb2FkZXJPcHRpb25zIiwiJGh0dHAiLCJ0YWJsZSIsImludGVycG9sYXRvckZhY3RvcnkiLCJnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciIsImdldFRyYW5zbGF0aW9uVGFibGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uIiwiSW50ZXJwb2xhdG9yIiwiaW50ZXJwb2xhdGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCIsInRyYW5zbGF0ZUJ5SGFuZGxlciIsInJlc3VsdFN0cmluZyIsInJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tMYW5ndWFnZUluZGV4IiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50IiwiZmFsbGJhY2tUcmFuc2xhdGlvbiIsImZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50IiwidHJhbnNsYXRpb24iLCJzdWJzdHIiLCJtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24iLCJfdHJhbnNsYXRpb25JZCIsImRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiYWxpYXNlZEtleSIsImlzUG9zdENvbXBpbGluZ0VuYWJsZWQiLCJyZWZyZXNoIiwidGFibGVzIiwibG9hZGluZ0tleXMiLCJ0YWJsZURhdGEiLCJpbnN0YW50IiwiaXNVbmRlZmluZWQiLCJwb3NzaWJsZUxhbmdLZXlzIiwiaiIsImQiLCJwb3NzaWJsZUxhbmdLZXkiLCJ2ZXJzaW9uSW5mbyIsImVxdWFscyIsInByb2Nlc3NBc3luY1Jlc3VsdCIsIiRpbnRlcnBvbGF0ZSIsIiRsb2NhbGUiLCIkdHJhbnNsYXRlSW50ZXJwb2xhdG9yIiwiJGlkZW50aWZpZXIiLCIkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5Iiwic2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXMiLCJlc2NhcGVkIiwicGFyYW1zIiwiZWxlbWVudCIsInRleHQiLCJodG1sIiwic2FuaXRpemVQYXJhbXMiLCJzdHJpbmciLCJjb25zdGFudCIsImRpcmVjdGl2ZSIsIiRjb21waWxlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJzY29wZSIsImNvbXBpbGUiLCJ0RWxlbWVudCIsInRBdHRyIiwidHJhbnNsYXRlVmFsdWVzRXhpc3QiLCJ0cmFuc2xhdGVWYWx1ZXMiLCJ0cmFuc2xhdGVJbnRlcnBvbGF0aW9uIiwidHJhbnNsYXRlVmFsdWVFeGlzdCIsIm91dGVySFRNTCIsIm1hdGNoIiwiaW50ZXJwb2xhdGVSZWdFeHAiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsIndhdGNoZXJSZWdFeHAiLCJpRWxlbWVudCIsImlBdHRyIiwicHJlVGV4dCIsInBvc3RUZXh0Iiwib2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiIsImlzRGVmaW5lZCIsImludGVycG9sYXRlTWF0Y2hlcyIsIiRwYXJlbnQiLCJ3YXRjaGVyTWF0Y2hlcyIsIiR3YXRjaCIsIm5ld1ZhbHVlIiwidXBkYXRlVHJhbnNsYXRpb25zIiwib2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uIiwidHJhbnNsYXRlQXR0ciIsIiRvYnNlcnZlIiwiZGVmYXVsdFRleHQiLCJvYnNlcnZlVmFsdWVBdHRyaWJ1dGUiLCJhdHRyTmFtZSIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyIiwidXBkYXRlVHJhbnNsYXRpb24iLCJhcHBseVRyYW5zbGF0aW9uIiwic3VjY2Vzc2Z1bCIsImdsb2JhbGx5RW5hYmxlZCIsImxvY2FsbHlEZWZpbmVkIiwidHJhbnNsYXRlQ29tcGlsZSIsImxvY2FsbHlFbmFibGVkIiwiY29udGVudHMiLCIkYXR0ciIsInVuYmluZCIsIiRvbiIsImFwcGx5Q2xvYWsiLCJhZGRDbGFzcyIsInJlbW92ZUNsb2FrIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVMaXN0ZW5lciIsInRyYW5zbGF0ZUNsb2FrIiwiZmlsdGVyIiwidHJhbnNsYXRlRmlsdGVyIiwiaW50ZXJwb2xhdGlvbiIsIiRzdGF0ZWZ1bCIsIiRTYW5pdGl6ZVByb3ZpZGVyIiwiJCRzYW5pdGl6ZVVyaSIsImJ1ZiIsImh0bWxQYXJzZXIiLCJodG1sU2FuaXRpemVXcml0ZXIiLCJ1cmkiLCJpc0ltYWdlIiwidGVzdCIsInNhbml0aXplVGV4dCIsImNoYXJzIiwid3JpdGVyIiwibm9vcCIsIm1ha2VNYXAiLCJzdHIiLCJvYmoiLCJpdGVtcyIsImhhbmRsZXIiLCJwYXJzZVN0YXJ0VGFnIiwidGFnIiwidGFnTmFtZSIsInJlc3QiLCJ1bmFyeSIsImJsb2NrRWxlbWVudHMiLCJzdGFjayIsImxhc3QiLCJpbmxpbmVFbGVtZW50cyIsInBhcnNlRW5kVGFnIiwib3B0aW9uYWxFbmRUYWdFbGVtZW50cyIsInZvaWRFbGVtZW50cyIsImF0dHJzIiwiQVRUUl9SRUdFWFAiLCJkb3VibGVRdW90ZWRWYWx1ZSIsInNpbmdsZVF1b3RlZFZhbHVlIiwidW5xdW90ZWRWYWx1ZSIsImRlY29kZUVudGl0aWVzIiwic3RhcnQiLCJwb3MiLCJlbmQiLCJzcGVjaWFsRWxlbWVudHMiLCJSZWdFeHAiLCJDT01NRU5UX1JFR0VYUCIsIkNEQVRBX1JFR0VYUCIsImxhc3RJbmRleE9mIiwiY29tbWVudCIsInN1YnN0cmluZyIsIkRPQ1RZUEVfUkVHRVhQIiwiQkVHSU5HX0VORF9UQUdFX1JFR0VYUCIsIkVORF9UQUdfUkVHRVhQIiwiQkVHSU5fVEFHX1JFR0VYUCIsIlNUQVJUX1RBR19SRUdFWFAiLCIkc2FuaXRpemVNaW5FcnIiLCJoaWRkZW5QcmUiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImVuY29kZUVudGl0aWVzIiwiU1VSUk9HQVRFX1BBSVJfUkVHRVhQIiwiaGkiLCJjaGFyQ29kZUF0IiwibG93IiwiTk9OX0FMUEhBTlVNRVJJQ19SRUdFWFAiLCJ1cmlWYWxpZGF0b3IiLCJpZ25vcmUiLCJvdXQiLCJiaW5kIiwidmFsaWRFbGVtZW50cyIsImxrZXkiLCJ2YWxpZEF0dHJzIiwidXJpQXR0cnMiLCIkJG1pbkVyciIsIm9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cyIsIm9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMiLCJzdmdFbGVtZW50cyIsImh0bWxBdHRycyIsInN2Z0F0dHJzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiJHNhbml0aXplIiwiTElOS1lfVVJMX1JFR0VYUCIsIk1BSUxUT19SRUdFWFAiLCJ0YXJnZXQiLCJhZGRUZXh0IiwiYWRkTGluayIsInJhdyIsInN1ZmZpeCIsIm1ldGhvZCIsInN1Y2Nlc3MiLCJlcnJvciIsImxvYWRUcmFuc2xhdGlvbkZpbGUiLCJ0b0xvd2VyQ2FzZSIsIm9wdHMiLCJjb25maWciLCIkdHJhbnNsYXRlUHJvdmlkZXIiLCJMT0NBTEVTX1BSRUZJWCIsIkxPQ0FMRVNfU1VGSVgiLCIkIiwiUGx1Z2luIiwib3B0aW9uIiwiZWFjaCIsIiR0aGlzIiwiQWZmaXgiLCJERUZBVUxUUyIsIiR0YXJnZXQiLCJvbiIsInByb3h5IiwiY2hlY2tQb3NpdGlvbiIsImNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wIiwiJGVsZW1lbnQiLCJhZmZpeGVkIiwidW5waW4iLCJwaW5uZWRPZmZzZXQiLCJWRVJTSU9OIiwiUkVTRVQiLCJvZmZzZXQiLCJnZXRQaW5uZWRPZmZzZXQiLCJzY3JvbGxUb3AiLCJwb3NpdGlvbiIsInRvcCIsInNldFRpbWVvdXQiLCJpcyIsInNjcm9sbEhlaWdodCIsImhlaWdodCIsIm9mZnNldFRvcCIsIm9mZnNldEJvdHRvbSIsImJvdHRvbSIsImFmZml4IiwiY3NzIiwiYWZmaXhUeXBlIiwiZSIsIkV2ZW50IiwidHJpZ2dlciIsImlzRGVmYXVsdFByZXZlbnRlZCIsIm9sZCIsIkNvbnN0cnVjdG9yIiwibm9Db25mbGljdCIsIiRzcHkiLCJqUXVlcnkiLCJBbGVydCIsImRpc21pc3MiLCJlbCIsImNsb3NlIiwicmVtb3ZlRWxlbWVudCIsImRldGFjaCIsInJlbW92ZSIsInNlbGVjdG9yIiwicHJldmVudERlZmF1bHQiLCJoYXNDbGFzcyIsInBhcmVudCIsInN1cHBvcnQiLCJ0cmFuc2l0aW9uIiwib25lIiwiZW11bGF0ZVRyYW5zaXRpb25FbmQiLCJhbGVydCIsIkJ1dHRvbiIsInRvZ2dsZSIsInNldFN0YXRlIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJzdGF0ZSIsIiRlbCIsInJlc2V0VGV4dCIsInJlbW92ZUF0dHIiLCJjaGFuZ2VkIiwiY2xvc2VzdCIsIiRpbnB1dCIsImZpbmQiLCJwcm9wIiwidG9nZ2xlQ2xhc3MiLCJidXR0b24iLCIkYnRuIiwiQ2Fyb3VzZWwiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiaW50ZXJ2YWwiLCJwYXVzZSIsImN5Y2xlIiwia2V5ZG93biIsIiRpbmRpY2F0b3JzIiwicGF1c2VkIiwic2xpZGluZyIsIiRhY3RpdmUiLCIkaXRlbXMiLCJ3cmFwIiwid2hpY2giLCJwcmV2IiwibmV4dCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImdldEl0ZW1JbmRleCIsIml0ZW0iLCJjaGlsZHJlbiIsInRoYXQiLCJhY3RpdmVJbmRleCIsInR5cGUiLCIkbmV4dCIsImlzQ3ljbGluZyIsImRpcmVjdGlvbiIsImZhbGxiYWNrIiwicmVsYXRlZFRhcmdldCIsInNsaWRlRXZlbnQiLCIkbmV4dEluZGljYXRvciIsInNsaWRFdmVudCIsIm9mZnNldFdpZHRoIiwiY2Fyb3VzZWwiLCJocmVmIiwic2xpZGVJbmRleCIsIiRjYXJvdXNlbCIsIkNvbGxhcHNlIiwidHJhbnNpdGlvbmluZyIsImRpbWVuc2lvbiIsImhhc1dpZHRoIiwic2hvdyIsInN0YXJ0RXZlbnQiLCJhY3RpdmVzIiwiaGFzRGF0YSIsImNvbXBsZXRlIiwic2Nyb2xsU2l6ZSIsImNhbWVsQ2FzZSIsImhpZGUiLCJvZmZzZXRIZWlnaHQiLCJjb2xsYXBzZSIsIm5vdCIsImNsZWFyTWVudXMiLCJiYWNrZHJvcCIsImdldFBhcmVudCIsIkRyb3Bkb3duIiwiaXNBY3RpdmUiLCJkb2N1bWVudEVsZW1lbnQiLCJpbnNlcnRBZnRlciIsImtleUNvZGUiLCJzdG9wUHJvcGFnYXRpb24iLCJkZXNjIiwiZXEiLCJkcm9wZG93biIsIlRhYiIsIiR1bCIsInByZXZpb3VzIiwiYWN0aXZhdGUiLCJjb250YWluZXIiLCJjYWxsYmFjayIsInRhYiIsInRyYW5zaXRpb25FbmQiLCJ0cmFuc0VuZEV2ZW50TmFtZXMiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwic3R5bGUiLCJkdXJhdGlvbiIsImNhbGxlZCIsImV2ZW50Iiwic3BlY2lhbCIsImJzVHJhbnNpdGlvbkVuZCIsImJpbmRUeXBlIiwiZGVsZWdhdGVUeXBlIiwiaGFuZGxlIiwiaGFuZGxlT2JqIiwiYXJndW1lbnRzIiwiU2Nyb2xsU3B5IiwicHJvY2VzcyIsIiRib2R5IiwiJHNjcm9sbEVsZW1lbnQiLCJvZmZzZXRzIiwidGFyZ2V0cyIsImFjdGl2ZVRhcmdldCIsImdldFNjcm9sbEhlaWdodCIsIk1hdGgiLCJtYXgiLCJvZmZzZXRNZXRob2QiLCJvZmZzZXRCYXNlIiwiaXNXaW5kb3ciLCJzZWxmIiwibWFwIiwiJGhyZWYiLCJzb3J0IiwiYSIsImIiLCJtYXhTY3JvbGwiLCJwYXJlbnRzVW50aWwiLCJhY3RpdmUiLCJwYXJlbnRzIiwic2Nyb2xsc3B5IiwiX3JlbGF0ZWRUYXJnZXQiLCJNb2RhbCIsImJvZHkiLCIkYmFja2Ryb3AiLCJpc1Nob3duIiwic2Nyb2xsYmFyV2lkdGgiLCJyZW1vdGUiLCJsb2FkIiwia2V5Ym9hcmQiLCJjaGVja1Njcm9sbGJhciIsInNldFNjcm9sbGJhciIsImVzY2FwZSIsImFwcGVuZFRvIiwiZW5mb3JjZUZvY3VzIiwicmVzZXRTY3JvbGxiYXIiLCJvZmYiLCJoaWRlTW9kYWwiLCJoYXMiLCJyZW1vdmVCYWNrZHJvcCIsImFuaW1hdGUiLCJkb0FuaW1hdGUiLCJjdXJyZW50VGFyZ2V0IiwiZm9jdXMiLCJjYWxsYmFja1JlbW92ZSIsImNsaWVudFdpZHRoIiwiaW5uZXJXaWR0aCIsIm1lYXN1cmVTY3JvbGxiYXIiLCJib2R5UGFkIiwicGFyc2VJbnQiLCJzY3JvbGxEaXYiLCJjbGFzc05hbWUiLCJhcHBlbmQiLCJyZW1vdmVDaGlsZCIsIm1vZGFsIiwic2hvd0V2ZW50IiwiVG9vbHRpcCIsImVuYWJsZWQiLCJ0aW1lb3V0IiwiaG92ZXJTdGF0ZSIsImluaXQiLCJhbmltYXRpb24iLCJwbGFjZW1lbnQiLCJ0ZW1wbGF0ZSIsInRpdGxlIiwiZGVsYXkiLCJ2aWV3cG9ydCIsInBhZGRpbmciLCJnZXRPcHRpb25zIiwiJHZpZXdwb3J0IiwidHJpZ2dlcnMiLCJldmVudEluIiwiZXZlbnRPdXQiLCJlbnRlciIsImxlYXZlIiwiX29wdGlvbnMiLCJmaXhUaXRsZSIsImdldERlZmF1bHRzIiwiZ2V0RGVsZWdhdGVPcHRpb25zIiwiZGVmYXVsdHMiLCJjb25zdHJ1Y3RvciIsImNsZWFyVGltZW91dCIsImhhc0NvbnRlbnQiLCJpbkRvbSIsImNvbnRhaW5zIiwiJHRpcCIsInRpcCIsInRpcElkIiwiZ2V0VUlEIiwic2V0Q29udGVudCIsImF1dG9Ub2tlbiIsImF1dG9QbGFjZSIsImxlZnQiLCJkaXNwbGF5IiwiZ2V0UG9zaXRpb24iLCJhY3R1YWxXaWR0aCIsImFjdHVhbEhlaWdodCIsIm9yZ1BsYWNlbWVudCIsInBhcmVudERpbSIsInNjcm9sbCIsInJpZ2h0Iiwid2lkdGgiLCJjYWxjdWxhdGVkT2Zmc2V0IiwiZ2V0Q2FsY3VsYXRlZE9mZnNldCIsImFwcGx5UGxhY2VtZW50IiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImlzTmFOIiwic2V0T2Zmc2V0IiwidXNpbmciLCJwcm9wcyIsInJvdW5kIiwiZGVsdGEiLCJnZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEiLCJhcnJvd0RlbHRhIiwiYXJyb3dQb3NpdGlvbiIsImFycm93T2Zmc2V0UG9zaXRpb24iLCJyZXBsYWNlQXJyb3ciLCJhcnJvdyIsImdldFRpdGxlIiwiJGUiLCJpc0JvZHkiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvdXRlcldpZHRoIiwib3V0ZXJIZWlnaHQiLCJ2aWV3cG9ydFBhZGRpbmciLCJ2aWV3cG9ydERpbWVuc2lvbnMiLCJ0b3BFZGdlT2Zmc2V0IiwiYm90dG9tRWRnZU9mZnNldCIsImxlZnRFZGdlT2Zmc2V0IiwicmlnaHRFZGdlT2Zmc2V0IiwibyIsInJhbmRvbSIsImdldEVsZW1lbnRCeUlkIiwiJGFycm93IiwidmFsaWRhdGUiLCJwYXJlbnROb2RlIiwiZW5hYmxlIiwiZGlzYWJsZSIsInRvZ2dsZUVuYWJsZWQiLCJkZXN0cm95IiwicmVtb3ZlRGF0YSIsInRvb2x0aXAiLCJQb3BvdmVyIiwiY29udGVudCIsImdldENvbnRlbnQiLCJlbXB0eSIsInBvcG92ZXIiLCIkYW5pbWF0ZSIsImxpbmsiLCJleHBhbmQiLCJleHBhbmREb25lIiwiY29sbGFwc2VEb25lIiwic2hvdWxkQ29sbGFwc2UiLCJjbG9zZU90aGVycyIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkYXR0cnMiLCJhY2NvcmRpb25Db25maWciLCJncm91cHMiLCJvcGVuR3JvdXAiLCIkZXZhbCIsImdyb3VwIiwiaXNPcGVuIiwiYWRkR3JvdXAiLCJncm91cFNjb3BlIiwicmVtb3ZlR3JvdXAiLCJzcGxpY2UiLCJjb250cm9sbGVyQXMiLCJ0cmFuc2NsdWRlIiwidGVtcGxhdGVVcmwiLCJyZXF1aXJlIiwiaGVhZGluZyIsImlzRGlzYWJsZWQiLCJzZXRIZWFkaW5nIiwiYWNjb3JkaW9uQ3RybCIsIm9wZW5DbGFzcyIsInBhbmVsQ2xhc3MiLCJ0b2dnbGVPcGVuIiwiJGV2ZW50IiwiYWNjb3JkaW9uR3JvdXBDdHJsIiwiYWNjb3JkaW9uVHJhbnNjbHVkZSIsImNsb3NlYWJsZSIsIiR0aW1lb3V0IiwiYWxlcnRDdHJsIiwiZGlzbWlzc09uVGltZW91dCIsIiRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCIsIndhcm4iLCJiaW5kSHRtbFVuc2FmZSIsImFjdGl2ZUNsYXNzIiwidG9nZ2xlRXZlbnQiLCJidXR0b25Db25maWciLCJjdHJscyIsImJ1dHRvbnNDdHJsIiwibmdNb2RlbEN0cmwiLCIkcmVuZGVyIiwiJG1vZGVsVmFsdWUiLCJidG5SYWRpbyIsImRpc2FibGVkIiwidW5jaGVja2FibGUiLCIkYXBwbHkiLCIkc2V0Vmlld1ZhbHVlIiwiJGRvY3VtZW50IiwiZ2V0VHJ1ZVZhbHVlIiwiZ2V0Q2hlY2tib3hWYWx1ZSIsImJ0bkNoZWNrYm94VHJ1ZSIsImdldEZhbHNlVmFsdWUiLCJidG5DaGVja2JveEZhbHNlIiwiYXR0cmlidXRlVmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJhY3RpdmVFbGVtZW50IiwiJGludGVydmFsIiwiZ29OZXh0IiwiZGVzdHJveWVkIiwiY3VycmVudFNsaWRlIiwibm9UcmFuc2l0aW9uIiwiJGN1cnJlbnRUcmFuc2l0aW9uIiwic2xpZGVzIiwiU0xJREVfRElSRUNUSU9OIiwiTkVXX0FOSU1BVEUiLCJwaGFzZSIsImN1cnJlbnRJbmRleCIsInJlc3RhcnRUaW1lciIsImdldFNsaWRlQnlJbmRleCIsInJlc2V0VGltZXIiLCJjdXJyZW50SW50ZXJ2YWwiLCJ0aW1lckZuIiwiY2FuY2VsIiwiaXNQbGF5aW5nIiwibWlub3IiLCJOT19UUkFOU0lUSU9OIiwic2VsZWN0IiwibmV4dFNsaWRlIiwibmV4dEluZGV4IiwiaW5kZXhPZlNsaWRlIiwiZ2V0Q3VycmVudEluZGV4IiwibmV3SW5kZXgiLCJub1dyYXAiLCJwbGF5Iiwibm9QYXVzZSIsImFkZFNsaWRlIiwicmVtb3ZlU2xpZGUiLCJhY3R1YWwiLCJjYXJvdXNlbEN0cmwiLCIkYW5pbWF0ZUNzcyIsImJlZm9yZUFkZENsYXNzIiwiZG9uZSIsInN0b3BwZWQiLCJkaXJlY3Rpb25DbGFzcyIsInJlbW92ZUNsYXNzRm4iLCJiZWZvcmVSZW1vdmVDbGFzcyIsInNlcnZpY2UiLCJvcmRlckJ5RmlsdGVyIiwiY3JlYXRlUGFyc2VyIiwiZm9ybWF0IiwicmVnZXgiLCJmb3JtYXRDb2RlVG9SZWdleCIsImNvZGUiLCJpc1ZhbGlkIiwieWVhciIsIm1vbnRoIiwiZGF0ZSIsIlNQRUNJQUxfQ0hBUkFDVEVSU19SRUdFWFAiLCJwYXJzZXJzIiwieXl5eSIsInl5IiwieSIsIk1NTU0iLCJEQVRFVElNRV9GT1JNQVRTIiwiTU9OVEgiLCJNTU0iLCJTSE9SVE1PTlRIIiwiTU0iLCJNIiwiZGQiLCJFRUVFIiwiREFZIiwiRUVFIiwiU0hPUlREQVkiLCJISCIsImhvdXJzIiwiaGgiLCJIIiwiaCIsIm1tIiwibWludXRlcyIsIm0iLCJzc3MiLCJtaWxsaXNlY29uZHMiLCJzcyIsInNlY29uZHMiLCJzIiwiQU1QTVMiLCJwYXJzZSIsImlucHV0IiwiYmFzZURhdGUiLCJwYXJzZXIiLCJmaWVsZHMiLCJkdCIsImlzRGF0ZSIsImdldFRpbWUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJtYXBwZXIiLCJEYXRlIiwiJHdpbmRvdyIsImdldFN0eWxlIiwiY3NzcHJvcCIsImN1cnJlbnRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJpc1N0YXRpY1Bvc2l0aW9uZWQiLCJwYXJlbnRPZmZzZXRFbCIsImRvY0RvbUVsIiwib2Zmc2V0UGFyZW50IiwiZWxCQ1IiLCJvZmZzZXRQYXJlbnRCQ1IiLCJvZmZzZXRQYXJlbnRFbCIsImNsaWVudFRvcCIsImNsaWVudExlZnQiLCJzY3JvbGxMZWZ0IiwiYm91bmRpbmdDbGllbnRSZWN0IiwicGFnZVlPZmZzZXQiLCJwYWdlWE9mZnNldCIsInBvc2l0aW9uRWxlbWVudHMiLCJob3N0RWwiLCJ0YXJnZXRFbCIsInBvc2l0aW9uU3RyIiwiYXBwZW5kVG9Cb2R5IiwiaG9zdEVsUG9zIiwidGFyZ2V0RWxXaWR0aCIsInRhcmdldEVsSGVpZ2h0IiwidGFyZ2V0RWxQb3MiLCJwb3NpdGlvblN0clBhcnRzIiwicG9zMCIsInBvczEiLCJzaGlmdFdpZHRoIiwiY2VudGVyIiwic2hpZnRIZWlnaHQiLCJmb3JtYXREYXkiLCJmb3JtYXRNb250aCIsImZvcm1hdFllYXIiLCJmb3JtYXREYXlIZWFkZXIiLCJmb3JtYXREYXlUaXRsZSIsImZvcm1hdE1vbnRoVGl0bGUiLCJkYXRlcGlja2VyTW9kZSIsIm1pbk1vZGUiLCJtYXhNb2RlIiwic2hvd1dlZWtzIiwic3RhcnRpbmdEYXkiLCJ5ZWFyUmFuZ2UiLCJtaW5EYXRlIiwibWF4RGF0ZSIsInNob3J0Y3V0UHJvcGFnYXRpb24iLCJkYXRlRmlsdGVyIiwiZGF0ZXBpY2tlckNvbmZpZyIsIiRkYXRlcGlja2VyU3VwcHJlc3NFcnJvciIsIm1vZGVzIiwicmVmcmVzaFZpZXciLCJ1bmlxdWVJZCIsIiRpZCIsImZsb29yIiwiaW5pdERhdGUiLCJhY3RpdmVEYXRlIiwiJGlzRW1wdHkiLCIkaW52YWxpZCIsImRhdGVPYmplY3QiLCJjb21wYXJlIiwiYWN0aXZlRGF0ZUlkIiwidWlkIiwibmdNb2RlbEN0cmxfIiwicmVuZGVyIiwiJHZpZXdWYWx1ZSIsIl9yZWZyZXNoVmlldyIsIiRzZXRWYWxpZGl0eSIsImNyZWF0ZURhdGVPYmplY3QiLCJtb2RlbCIsImxhYmVsIiwic2VsZWN0ZWQiLCJjdXJyZW50IiwiY3VzdG9tQ2xhc3MiLCJkYXRlRGlzYWJsZWQiLCJtb2RlIiwiYXJyIiwic2l6ZSIsImFycmF5cyIsImZpeFRpbWVab25lIiwic2V0SG91cnMiLCJzZXRGdWxsWWVhciIsIm1vdmUiLCJzdGVwIiwieWVhcnMiLCJtb250aHMiLCJ0b2dnbGVNb2RlIiwia2V5cyIsMTMsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsImZvY3VzRWxlbWVudCIsImV2dCIsInNoaWZ0S2V5IiwiYWx0S2V5IiwiY3RybEtleSIsImhhbmRsZUtleURvd24iLCJkYXRlcGlja2VyQ3RybCIsImN0cmwiLCJnZXREYXlzSW5Nb250aCIsIkRBWVNfSU5fTU9OVEgiLCJnZXREYXRlcyIsInN0YXJ0RGF0ZSIsImRhdGVzIiwiQXJyYXkiLCJzZXREYXRlIiwiZ2V0SVNPODYwMVdlZWtOdW1iZXIiLCJjaGVja0RhdGUiLCJnZXREYXkiLCJ0aW1lIiwic2V0TW9udGgiLCJmaXJzdERheU9mTW9udGgiLCJkaWZmZXJlbmNlIiwibnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGgiLCJmaXJzdERhdGUiLCJkYXlzIiwic2Vjb25kYXJ5IiwibGFiZWxzIiwiYWJiciIsImZ1bGwiLCJyb3dzIiwid2Vla051bWJlcnMiLCJ0aHVyc2RheUluZGV4IiwibnVtV2Vla3MiLCJjdXJXZWVrIiwiZGF0ZTEiLCJkYXRlMiIsIm1pbiIsImdldFN0YXJ0aW5nWWVhciIsInJhbmdlIiwiZGF0ZXBpY2tlclBvcHVwIiwiZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwiLCJkYXRlcGlja2VyVGVtcGxhdGVVcmwiLCJodG1sNVR5cGVzIiwiZGF0ZXRpbWUtbG9jYWwiLCJjdXJyZW50VGV4dCIsImNsZWFyVGV4dCIsImNsb3NlVGV4dCIsImNsb3NlT25EYXRlU2VsZWN0aW9uIiwic2hvd0J1dHRvbkJhciIsIm9uT3BlbkZvY3VzIiwiJHBvc2l0aW9uIiwiZGF0ZVBhcnNlciIsImRhdGVwaWNrZXJQb3B1cENvbmZpZyIsIm5nTW9kZWwiLCJjYW1lbHRvRGFzaCIsIiQxIiwicGFyc2VEYXRlIiwidmlld1ZhbHVlIiwiaXNOdW1iZXIiLCJkYXRlRm9ybWF0IiwidmFsaWRhdG9yIiwibW9kZWxWYWx1ZSIsIm5nUmVxdWlyZWQiLCJkYXRlcGlja2VyQXBwZW5kVG9Cb2R5IiwiZ2V0VGV4dCIsIndhdGNoRGF0YSIsImlzSHRtbDVEYXRlSW5wdXQiLCJuZXdEYXRlRm9ybWF0IiwicG9wdXBFbCIsIm5nLW1vZGVsIiwibmctY2hhbmdlIiwidGVtcGxhdGUtdXJsIiwiZGF0ZXBpY2tlckVsIiwiZGF0ZXBpY2tlck9wdGlvbnMiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJhc3NpZ24iLCJvbGR2YWx1ZSIsIiRmb3JtYXR0ZXJzIiwiJCRwYXJzZXJOYW1lIiwiJHZhbGlkYXRvcnMiLCIkcGFyc2VycyIsInVuc2hpZnQiLCJkYXRlU2VsZWN0aW9uIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCJkb2N1bWVudENsaWNrQmluZCIsImlucHV0S2V5ZG93bkJpbmQiLCIkYnJvYWRjYXN0IiwidG9kYXkiLCIkcG9wdXAiLCJhZnRlciIsIiQkcGhhc2UiLCJvcGVuU2NvcGUiLCJvcGVuIiwiZHJvcGRvd25TY29wZSIsImNsb3NlRHJvcGRvd24iLCJrZXliaW5kRmlsdGVyIiwiZ2V0QXV0b0Nsb3NlIiwidG9nZ2xlRWxlbWVudCIsImdldFRvZ2dsZUVsZW1lbnQiLCJkcm9wZG93bkVsZW1lbnQiLCJnZXREcm9wZG93bkVsZW1lbnQiLCJmb2N1c1RvZ2dsZUVsZW1lbnQiLCJpc0tleW5hdkVuYWJsZWQiLCJmb2N1c0Ryb3Bkb3duRW50cnkiLCJkcm9wZG93bkNvbmZpZyIsImRyb3Bkb3duU2VydmljZSIsIiR0ZW1wbGF0ZVJlcXVlc3QiLCJ0ZW1wbGF0ZVNjb3BlIiwiZ2V0SXNPcGVuIiwiJG5ldyIsInNldElzT3BlbiIsInRvZ2dsZUludm9rZXIiLCJvblRvZ2dsZSIsImtleW5hdkVuYWJsZWQiLCJkcm9wZG93bkFwcGVuZFRvQm9keSIsImtleWJvYXJkTmF2IiwiZHJvcGRvd25NZW51IiwiYXV0b0Nsb3NlIiwiZ2V0RWxlbWVudCIsImVsZW1zIiwic2VsZWN0ZWRPcHRpb24iLCJ3YXNPcGVuIiwicmlnaHRhbGlnbiIsIm9wZW5Db250YWluZXIiLCJkcm9wZG93bk1lbnVUZW1wbGF0ZVVybCIsInRwbENvbnRlbnQiLCJuZXdFbCIsInJlcGxhY2VXaXRoIiwiJGRlc3Ryb3kiLCJvZmZEZXN0cm95IiwiZHJvcGRvd25DdHJsIiwidHBsVXJsIiwidG9nZ2xlRHJvcGRvd24iLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsImNyZWF0ZU5ldyIsImFkZCIsImlkeCIsInJlbW92ZVRvcCIsImVudHJpZXMiLCJoYXNLZXkiLCJ2YWx1ZXMiLCIkbW9kYWxTdGFjayIsImxpbmtGbiIsIm1vZGFsSW5DbGFzcyIsIk5PV19DTE9TSU5HX0VWRU5UIiwic2V0SXNBc3luYyIsInRBdHRycyIsImJhY2tkcm9wQ2xhc3MiLCJ3aW5kb3dDbGFzcyIsImdldFRvcCIsIiRpc1JlbmRlcmVkIiwibW9kYWxSZW5kZXJEZWZlck9iaiIsImFuaW1hdGlvblByb21pc2UiLCJ3aGVuIiwiaW5wdXRzV2l0aEF1dG9mb2N1cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtb2RhbFJlbmRlcmVkIiwibW9kYWxBbmltYXRpb24iLCJtb2RhbEFuaW1hdGlvbkNsYXNzIiwiJHRyYW5zY2x1ZGUiLCJjbG9uZSIsIiQkbXVsdGlNYXAiLCIkJHN0YWNrZWRNYXAiLCJiYWNrZHJvcEluZGV4IiwidG9wQmFja2Ryb3BJbmRleCIsIm9wZW5lZCIsIm9wZW5lZFdpbmRvd3MiLCJyZW1vdmVNb2RhbFdpbmRvdyIsIm1vZGFsSW5zdGFuY2UiLCJlbGVtZW50VG9SZWNlaXZlRm9jdXMiLCJtb2RhbFdpbmRvdyIsInJlbW92ZUFmdGVyQW5pbWF0ZSIsIm1vZGFsRG9tRWwiLCJtb2RhbFNjb3BlIiwibW9kYWxCb2R5Q2xhc3MiLCJvcGVuZWRDbGFzcyIsIk9QRU5FRF9NT0RBTF9DTEFTUyIsIm9wZW5lZENsYXNzZXMiLCJjaGVja1JlbW92ZUJhY2tkcm9wIiwiYmFja2Ryb3BEb21FbCIsImJhY2tkcm9wU2NvcGVSZWYiLCJiYWNrZHJvcFNjb3BlIiwiZG9tRWwiLCJhZnRlckFuaW1hdGluZyIsImFzeW5jRGVmZXJyZWQiLCJhc3luY1Byb21pc2UiLCJicm9hZGNhc3RDbG9zaW5nIiwicmVzdWx0T3JSZWFzb24iLCJjbG9zaW5nIiwiZGVmYXVsdFByZXZlbnRlZCIsImZvY3VzYWJsZUVsZW1lbnRMaXN0IiwiZm9jdXNJbmRleCIsInRhYmFiYmxlU2VsZWN0b3IiLCJuZXdCYWNrZHJvcEluZGV4IiwibG9hZEZvY3VzRWxlbWVudExpc3QiLCJmb2N1c0NoYW5nZWQiLCJpc0ZvY3VzSW5GaXJzdEl0ZW0iLCJmb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50IiwiaXNGb2N1c0luTGFzdEl0ZW0iLCJmb2N1c0ZpcnN0Rm9jdXNhYmxlRWxlbWVudCIsIm1vZGFsT3BlbmVyIiwicmVuZGVyRGVmZXJyZWQiLCJjdXJyQmFja2Ryb3BJbmRleCIsImFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwiLCJhbmd1bGFyRG9tRWwiLCJ3aW5kb3dUZW1wbGF0ZVVybCIsIndpbmRvdy1jbGFzcyIsImNsZWFyRm9jdXNMaXN0Q2FjaGUiLCIkJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkIiwicmVhc29uIiwiZGlzbWlzc0FsbCIsInRvcE1vZGFsIiwic3JjRWxlbWVudCIsImxlbmd0aDAiLCJtb2RhbERvbUUxIiwiJG1vZGFsUHJvdmlkZXIiLCIkY29udHJvbGxlciIsImdldFRlbXBsYXRlUHJvbWlzZSIsImdldFJlc29sdmVQcm9taXNlcyIsInJlc29sdmVzIiwicHJvbWlzZXNBcnIiLCJpbnZva2UiLCIkbW9kYWwiLCJwcm9taXNlQ2hhaW4iLCJnZXRQcm9taXNlQ2hhaW4iLCJtb2RhbE9wdGlvbnMiLCJtb2RhbFJlc3VsdERlZmVycmVkIiwibW9kYWxPcGVuZWREZWZlcnJlZCIsIm1vZGFsUmVuZGVyRGVmZXJyZWQiLCJyZW5kZXJlZCIsInNhbWVQcm9taXNlIiwidGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSIsInRwbEFuZFZhcnMiLCIkY2xvc2UiLCIkZGlzbWlzcyIsImN0cmxJbnN0YW5jZSIsImN0cmxMb2NhbHMiLCJyZXNvbHZlSXRlciIsIiRtb2RhbEluc3RhbmNlIiwiYmluZFRvQ29udHJvbGxlciIsImZpbmFsbHkiLCJzZXROdW1QYWdlcyIsIm51bVBhZ2VzIiwiaXRlbXNQZXJQYWdlIiwidG90YWxQYWdlcyIsImNhbGN1bGF0ZVRvdGFsUGFnZXMiLCJwYWdlIiwic2VsZWN0UGFnZSIsImNlaWwiLCJ0b3RhbEl0ZW1zIiwiY2xpY2tBbGxvd2VkIiwibmdEaXNhYmxlZCIsImJsdXIiLCJub1ByZXZpb3VzIiwibm9OZXh0IiwiYm91bmRhcnlMaW5rcyIsImRpcmVjdGlvbkxpbmtzIiwiZmlyc3RUZXh0IiwicHJldmlvdXNUZXh0IiwibmV4dFRleHQiLCJsYXN0VGV4dCIsInJvdGF0ZSIsInBhZ2luYXRpb25Db25maWciLCJtYWtlUGFnZSIsIm51bWJlciIsImdldFBhZ2VzIiwiY3VycmVudFBhZ2UiLCJwYWdlcyIsInN0YXJ0UGFnZSIsImVuZFBhZ2UiLCJpc01heFNpemVkIiwibWF4U2l6ZSIsInByZXZpb3VzUGFnZVNldCIsIm5leHRQYWdlU2V0IiwicGFnaW5hdGlvbkN0cmwiLCJvcmlnaW5hbFJlbmRlciIsImFsaWduIiwicGFnZXJDb25maWciLCJzbmFrZV9jYXNlIiwicmVnZXhwIiwic2VwYXJhdG9yIiwibGV0dGVyIiwiZGVmYXVsdE9wdGlvbnMiLCJwb3B1cERlbGF5IiwidXNlQ29udGVudEV4cCIsInRyaWdnZXJNYXAiLCJtb3VzZWVudGVyIiwiY2xpY2siLCJub25lIiwiZ2xvYmFsT3B0aW9ucyIsInNldFRyaWdnZXJzIiwiZGVmYXVsdFRyaWdnZXJTaG93IiwiZ2V0VHJpZ2dlcnMiLCJkaXJlY3RpdmVOYW1lIiwic3RhcnRTeW0iLCJlbmRTeW0iLCJ0b29sdGlwTGlua2VyIiwidG9nZ2xlVG9vbHRpcEJpbmQiLCJ0dFNjb3BlIiwiaGlkZVRvb2x0aXBCaW5kIiwic2hvd1Rvb2x0aXBCaW5kIiwiaGFzRW5hYmxlRXhwIiwicHJlcGFyZVRvb2x0aXAiLCJwb3B1cFRpbWVvdXQiLCIkZGlnZXN0IiwidHJhbnNpdGlvblRpbWVvdXQiLCJjb250ZW50RXhwIiwiY3JlYXRlVG9vbHRpcCIsImlzT3BlbkV4cCIsIm9yaWdTY29wZSIsInBvc2l0aW9uVG9vbHRpcCIsInBvc2l0aW9uVGltZW91dCIsInJlbW92ZVRvb2x0aXAiLCJ0b29sdGlwTGlua2VkU2NvcGUiLCJyZXBvc2l0aW9uU2NoZWR1bGVkIiwiJCRwb3N0RGlnZXN0IiwicHJlcFBvcHVwQ2xhc3MiLCJwcmVwUGxhY2VtZW50IiwicHJlcFBvcHVwRGVsYXkiLCJwb3B1cENsYXNzIiwicHJlcFRyaWdnZXJzIiwidW5yZWdpc3RlclRyaWdnZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInR0Qm94IiwidHRDc3MiLCJhcHBlbmRUb0JvZHlWYWwiLCIkc2NlIiwiZWxlbSIsImN1cnJlbnRTY29wZSIsInByZXZpb3VzRWxlbWVudCIsImN1cnJlbnRFbGVtZW50IiwidG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZVNjb3BlIiwiY2hhbmdlQ291bnRlciIsImNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQiLCJwYXJzZUFzUmVzb3VyY2VVcmwiLCJ0b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlIiwic3JjIiwidGhpc0NoYW5nZUlkIiwicmVzcG9uc2UiLCJuZXdTY29wZSIsInRvb2x0aXBBbmltYXRpb25DbGFzcyIsIiR0b29sdGlwIiwib3JpZ2luU2NvcGUiLCJ0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCIsInByb2dyZXNzQ29uZmlnIiwiYmFycyIsImFkZEJhciIsImJhciIsInJlY2FsY3VsYXRlUGVyY2VudGFnZSIsInBlcmNlbnQiLCJ0b0ZpeGVkIiwidG90YWxQZXJjZW50YWdlIiwicmVkdWNlIiwidG90YWwiLCJyZW1vdmVCYXIiLCIkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmciLCJwcm9ncmVzc0N0cmwiLCJzdGF0ZU9uIiwic3RhdGVPZmYiLCJ0aXRsZXMiLCJyYXRpbmdDb25maWciLCJ0bXBUaXRsZXMiLCJyYXRpbmdTdGF0ZXMiLCJidWlsZFRlbXBsYXRlT2JqZWN0cyIsInN0YXRlcyIsInJhdGUiLCJyZWFkb25seSIsIm9uSG92ZXIiLCJyZXNldCIsIm9uTGVhdmUiLCJvbktleWRvd24iLCJyYXRpbmdDdHJsIiwidGFicyIsInNlbGVjdGVkVGFiIiwib25EZXNlbGVjdCIsInNlbGVjdENhbGxlZCIsIm9uU2VsZWN0IiwiYWRkVGFiIiwicmVtb3ZlVGFiIiwibmV3QWN0aXZlSW5kZXgiLCJ2ZXJ0aWNhbCIsImp1c3RpZmllZCIsImVsbSIsInRhYnNldEN0cmwiLCIkdHJhbnNjbHVkZUZuIiwiaXNUYWJIZWFkaW5nIiwibm9kZSIsImhhc0F0dHJpYnV0ZSIsInRhYkNvbnRlbnRUcmFuc2NsdWRlIiwiaGVhZGluZ0VsZW1lbnQiLCJob3VyU3RlcCIsIm1pbnV0ZVN0ZXAiLCJzaG93TWVyaWRpYW4iLCJtZXJpZGlhbnMiLCJyZWFkb25seUlucHV0IiwibW91c2V3aGVlbCIsImFycm93a2V5cyIsInNob3dTcGlubmVycyIsInRpbWVwaWNrZXJDb25maWciLCJnZXRIb3Vyc0Zyb21UZW1wbGF0ZSIsInZhbGlkIiwibWVyaWRpYW4iLCJnZXRNaW51dGVzRnJvbVRlbXBsYXRlIiwicGFkIiwidG9TdHJpbmciLCJrZXlib2FyZENoYW5nZSIsIm1ha2VWYWxpZCIsInVwZGF0ZVRlbXBsYXRlIiwiaW52YWxpZEhvdXJzIiwiaW52YWxpZE1pbnV0ZXMiLCJhZGRNaW51dGVzIiwibmV3RGF0ZSIsImFkZE1pbnV0ZXNUb1NlbGVjdGVkIiwiaW5wdXRzIiwiaG91cnNJbnB1dEVsIiwibWludXRlc0lucHV0RWwiLCJzZXR1cE1vdXNld2hlZWxFdmVudHMiLCJzZXR1cEFycm93a2V5RXZlbnRzIiwic2V0dXBJbnB1dEV2ZW50cyIsIm5vSW5jcmVtZW50SG91cnMiLCJpbmNyZW1lbnRlZFNlbGVjdGVkIiwibm9EZWNyZW1lbnRIb3VycyIsImRlY3JlbWVudGVkU2VsZWN0ZWQiLCJub0luY3JlbWVudE1pbnV0ZXMiLCJub0RlY3JlbWVudE1pbnV0ZXMiLCJub1RvZ2dsZU1lcmlkaWFuIiwiJGVycm9yIiwiaXNTY3JvbGxpbmdVcCIsIm9yaWdpbmFsRXZlbnQiLCJ3aGVlbERlbHRhIiwiZGVsdGFZIiwiZGV0YWlsIiwiaW5jcmVtZW50SG91cnMiLCJkZWNyZW1lbnRIb3VycyIsImluY3JlbWVudE1pbnV0ZXMiLCJkZWNyZW1lbnRNaW51dGVzIiwidXBkYXRlSG91cnMiLCJ1cGRhdGVNaW51dGVzIiwiaW52YWxpZGF0ZSIsInNldE1pbnV0ZXMiLCJ0b2dnbGVNZXJpZGlhbiIsInRpbWVwaWNrZXJDdHJsIiwiJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQiLCJmaW5kRW5kRXZlbnROYW1lIiwiZW5kRXZlbnROYW1lcyIsInRyYW5zRWxlbWVudCIsIiR0cmFuc2l0aW9uIiwiZW5kRXZlbnROYW1lIiwidHJhbnNpdGlvbkVuZEhhbmRsZXIiLCJ0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyIsImFuaW1hdGlvbkVuZEV2ZW50TmFtZXMiLCJ0cmFuc2l0aW9uRW5kRXZlbnROYW1lIiwiYW5pbWF0aW9uRW5kRXZlbnROYW1lIiwiVFlQRUFIRUFEX1JFR0VYUCIsIml0ZW1OYW1lIiwic291cmNlIiwidmlld01hcHBlciIsIm1vZGVsTWFwcGVyIiwidHlwZWFoZWFkUGFyc2VyIiwiSE9UX0tFWVMiLCJldmVudERlYm91bmNlVGltZSIsIm9yaWdpbmFsU2NvcGUiLCJmaXJlUmVjYWxjdWxhdGluZyIsIm1vdmVJblByb2dyZXNzIiwidGltZW91dEV2ZW50UHJvbWlzZSIsIm1hdGNoZXMiLCJyZWNhbGN1bGF0ZVBvc2l0aW9uIiwibW9kZWxDdHJsIiwibmdNb2RlbE9wdGlvbnMiLCJtaW5MZW5ndGgiLCJ0eXBlYWhlYWRNaW5MZW5ndGgiLCJoYXNGb2N1cyIsIndhaXRUaW1lIiwidHlwZWFoZWFkV2FpdE1zIiwiaXNFZGl0YWJsZSIsInR5cGVhaGVhZEVkaXRhYmxlIiwiaXNMb2FkaW5nU2V0dGVyIiwidHlwZWFoZWFkTG9hZGluZyIsIm9uU2VsZWN0Q2FsbGJhY2siLCJ0eXBlYWhlYWRPblNlbGVjdCIsImlzU2VsZWN0T25CbHVyIiwidHlwZWFoZWFkU2VsZWN0T25CbHVyIiwiaXNOb1Jlc3VsdHNTZXR0ZXIiLCJ0eXBlYWhlYWROb1Jlc3VsdHMiLCJpbnB1dEZvcm1hdHRlciIsInR5cGVhaGVhZElucHV0Rm9ybWF0dGVyIiwidHlwZWFoZWFkQXBwZW5kVG9Cb2R5IiwiZm9jdXNGaXJzdCIsInR5cGVhaGVhZEZvY3VzRmlyc3QiLCJzZWxlY3RPbkV4YWN0IiwidHlwZWFoZWFkU2VsZWN0T25FeGFjdCIsInBhcnNlZE1vZGVsIiwiaW52b2tlTW9kZWxTZXR0ZXIiLCIkc2V0TW9kZWxWYWx1ZSIsIiRvcHRpb25zIiwiZ2V0dGVyU2V0dGVyIiwiJCQkcCIsInBhcnNlclJlc3VsdCIsInR5cGVhaGVhZCIsInBvcHVwSWQiLCJhcmlhLWF1dG9jb21wbGV0ZSIsImFyaWEtb3ducyIsInBvcFVwRWwiLCJtb3ZlLWluLXByb2dyZXNzIiwicXVlcnkiLCJ0eXBlYWhlYWRUZW1wbGF0ZVVybCIsInR5cGVhaGVhZFBvcHVwVGVtcGxhdGVVcmwiLCJyZXNldE1hdGNoZXMiLCJhY3RpdmVJZHgiLCJnZXRNYXRjaElkIiwiaW5wdXRJc0V4YWN0TWF0Y2giLCJpbnB1dFZhbHVlIiwidG9VcHBlckNhc2UiLCJnZXRNYXRjaGVzQXN5bmMiLCJsb2NhbHMiLCJvbkN1cnJlbnRSZXF1ZXN0IiwidGltZW91dFByb21pc2UiLCJzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0IiwiY2FuY2VsUHJldmlvdXNUaW1lb3V0IiwiY2FuZGlkYXRlVmlld1ZhbHVlIiwiZW1wdHlWaWV3VmFsdWUiLCIkbW9kZWwiLCIkaXRlbSIsIiRsYWJlbCIsInR5cGVhaGVhZEZvY3VzT25TZWxlY3QiLCJkaXNtaXNzQ2xpY2tIYW5kbGVyIiwicG9wdXBUZW1wbGF0ZVVybCIsIm1hdGNoSWR4Iiwic2VsZWN0QWN0aXZlIiwic2VsZWN0TWF0Y2giLCJjbG9uZWRFbGVtZW50IiwiZXNjYXBlUmVnZXhwIiwicXVlcnlUb0VzY2FwZSIsImNvbnRhaW5zSHRtbCIsIm1hdGNoSXRlbSIsImlzU2FuaXRpemVQcmVzZW50IiwidHJ1c3RBc0h0bWwiLCIkdGVtcGxhdGVDYWNoZSIsIiQkY3NwIiwicHJlcGVuZCIsImxvYWRlciIsIm9ubG9hZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJvbmVycm9yIiwibG9hZFNjcmlwdCIsInNjcmlwdCIsImFwcGVuZENoaWxkIiwibG9hZENTUyIsInJlbCIsImhlYWQiLCJkZWZhdWx0U2V0dGluZyIsImJ5Iiwic3BlZWQiLCJwdWQiLCJlcnIiLCJ1aVRpbnltY2VDb25maWciLCJnZW5lcmF0ZWRJZHMiLCJJRF9BVFRSIiwiYmFzZVVybCIsInRpbnltY2UiLCJiYXNlVVJMIiwidG9nZ2xlRGlzYWJsZSIsImVuc3VyZUluc3RhbmNlIiwidGlueUluc3RhbmNlIiwiZ2V0Qm9keSIsInNldHRpbmdzIiwiZXhwcmVzc2lvbiIsImZvcm0iLCJ1cGRhdGVWaWV3IiwiZWRpdG9yIiwiJHNldCIsInVpVGlueW1jZSIsInNldHVwT3B0aW9ucyIsInNldHVwIiwiZWQiLCIkc2V0UHJpc3RpbmUiLCJzYXZlIiwiZ2V0VHJ1c3RlZEh0bWwiLCJnZXREb2MiLCJmaXJlIiwiZWlkIiwicGFyZW50RWxlbWVudCIsImV4ZWNDb21tYW5kIiwiaGlkZUxhYmVsIiwiZmlsZVR5cGUiLCJoYXNWYWxpZEV4dGVuc2lvbiIsImV4dGVuc2lvbnMiLCJ0ZXN0VXJsIiwidGVzdEltYWdlIiwiaW1hZ2UiLCJJbWFnZSIsImludmFsaWRUeXBlIiwidXJsUmVnRXhwIiwiZG9WYWxpZGF0aW9uIiwiZm9yY2VkVmFsaWQiLCJhbGxvd0luaXRFbXB0eSIsImluaXRFbXB0eSIsImluZm8iLCJkaXNhYmxlU2F2ZSIsInNldHRpbmdzU2F2ZXIiLCJzZXR0aW5nc0dldHRlciIsInNldHRpbmdzQ2xvc2VyIiwiYWRkaXRpb25hbFBhcmFtcyIsImFsZXJ0cyIsImdldEFkZGl0aW9uYWxQYXJhbSIsImRlZmF1bHRWYWwiLCJzZXRBZGRpdGlvbmFsUGFyYW0iLCJsb2FkQWRkaXRpb25hbFBhcmFtcyIsImdldEFkZGl0aW9uYWxQYXJhbXMiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwic2F2ZVNldHRpbmdzIiwiY2xvc2VTZXR0aW5ncyIsImdldFBhcmFtcyIsIiRlbG0iLCIkd2F0Y2hDb2xsZWN0aW9uIiwibmV3QWxlcnRzIiwib2xkQWxlcnRzIiwiU1RPUkFHRV9GSUxFX1VSTF9CQVNFIiwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0UiLCJnZXRTdG9yYWdlVXJsRGF0YSIsImdldFN0b3JhZ2VUeXBlIiwic3RvcmFnZVVybCIsImdldENvbXBhbnlJZCIsInAiLCJwYWlyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY29tcGFueUlkIiwiZmlsZU5hbWUiLCJwb3AiLCJmb2xkZXIiLCJnYWRnZXRzIiwiYW5ndWxhckxvYWQiLCJsb2FkRm9udHMiLCJmYW1pbHkiLCJmb250cyIsInVybHMiLCJzcGFjZXMiLCJmb250QmFzZVVybCIsImV4Y2x1ZGUiLCJhbGxGb250cyIsImdldEdvb2dsZUZvbnRzIiwicmVzcCIsInN1YnNldHMiLCJnZXRGb250c1VzZWQiLCJmYW1pbHlMaXN0IiwiZm9udHNVc2VkIiwiaTE4biIsImZhbGxiYWNrTG5nIiwicmVzR2V0UGF0aCIsImdhZGdldHNBcGkiLCJzZXR0aW5nc1BhcnNlciIsInByb2Nlc3NTZXR0aW5ncyIsIm5ld1NldHRpbmdzIiwiY29weSIsInJzVyIsInJzSCIsImRlYnVnIiwibGF5b3V0VVJMIiwiZW5jb2RlUGFyYW1zIiwiYWRkaXRpb25hbFBhcmFtc1N0ciIsImVuY29kZUFkZGl0aW9uYWxQYXJhbXMiLCJycGMiLCJKU09OIiwic3RyaW5naWZ5IiwiZGVmYXVsdFNldHRpbmdzIiwiZGVmYXVsdEFkZGl0aW9uYWxQYXJhbXMiLCJwYXJzZUFkZGl0aW9uYWxQYXJhbXMiLCJkZWZhdWx0UGFyYW1zIiwicGFyc2VQYXJhbXMiLCJsb2NhdGlvbiIsInNlYXJjaCIsInN0cmlwUHJlZml4IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicGFyYW1zU3RyIiwidmFycyIsImdvb2dsZSIsInZpc3VhbGl6YXRpb24iLCJzZXRPbkxvYWRDYWxsYmFjayIsImdvb2dsZUZvbnRMb2FkZXIiLCJGT05UX1NJWkVTIiwiRk9OVF9GQU1JTElFUyIsImluaXRDb21tYW5kcyIsImFyZ3MiLCJjb21tYW5kIiwiX2lzTG9hZGluZyIsImFwcGx5TGluZUhlaWdodCIsImZvcm1hdHRlciIsIm5vZGVDaGFuZ2VkIiwidXBkYXRlTGluZUhlaWdodCIsInNlbGVjdGVkTm9kZSIsInNlbGVjdGVkTm9kZVBhcmVudHMiLCJzZWxlY3Rpb24iLCJnZXROb2RlIiwibm9kZU5hbWUiLCJfbGluZUhlaWdodFRvb2wiLCJkb20iLCJnZXRQYXJlbnRzIiwiaW5pdFRpbnlNQ0UiLCJ0aW55bWNlT3B0aW9ucyIsInBsdWdpbnMiLCJza2luX3VybCIsImZvbnRfZm9ybWF0cyIsImdldEZvbnRGb3JtYXRzIiwiZm9ybWF0cyIsImZvbnRzaXplIiwiaW5saW5lIiwic3R5bGVzIiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0IiwicGFyYWdyYXBoIiwiYmxvY2siLCJtYXJnaW4iLCJjb250ZW50X2NzcyIsIl9nb29nbGVGb250VXJscyIsInN0eWxlX2Zvcm1hdHNfbWVyZ2UiLCJmb250c2l6ZV9mb3JtYXRzIiwibWluX2hlaWdodCIsIm1lbnViYXIiLCJ0b29sYmFyMSIsImFkZEJ1dHRvbiIsImljb24iLCJvbnNlbGVjdCIsIm9uUG9zdFJlbmRlciIsIm1jZUNvbnRhaW5lckRpdldpZHRoIiwicXVlcnlTZWxlY3RvciIsInBsYWNlaG9sZGVyV2lkdGgiLCJfcHJlZnMiLCJnZXRJbnQiLCJjb250ZW50RG9jdW1lbnQiLCJhZGRDdXN0b21Gb250c1RvRnJhbWUiLCJhZGRDdXN0b21Gb250c1RvRG9jdW1lbnQiLCJjdXN0b21Gb250cyIsInJlZ2lzdGVyIiwiX2N1c3RvbUZvbnRUb1NlbGVjdCIsImluaXRfaW5zdGFuY2VfY2FsbGJhY2siLCJvbGRBcHBseSIsIm9sZFJlbW92ZSIsImRvYyIsImdldFNoZWV0Iiwic2hlZXQiLCJzdHlsZVNoZWV0cyIsImZvbnQiLCJydWxlIiwiYWRkUnVsZSIsImNiIiwiZ2V0Q3VzdG9tRm9udEZvcm1hdHMiLCJfZ29vZ2xlRm9udHMiLCJQcmVmcyIsInByb2Nlc3NGb250cyIsIiR3cmFwcGVyIiwid3JhcHBlciIsImZhbWlsaWVzIiwic3BhbiIsImdvb2dsZUZvbnRzIiwiZ2V0RmFtaWx5IiwiZGVjb2RlVVJJIiwiYWRkRm9udCJdLCJtYXBwaW5ncyI6IkFBWUFBLFFBQVFDLE9BQU8sMEJBQTJCLE9BRXpDQyxLQUFLLGFBQWMsU0FBVUMsR0FFNUIsR0FBSUMsR0FBTUQsRUFBV0UsYUFDakJDLEVBQVVILEVBQVdHLFVBRXJCQyxFQUFvQyxXQUN0QyxHQUFJQyxHQUFZTCxFQUFXTSxtQkFDdkJULFNBQVFVLFNBQVNGLEdBQ25CTCxFQUFXUSxJQUFJSCxHQUlmRixFQUFRTSxJQUFJUixFQUFLRCxFQUFXUSxPQUk1QkwsR0FDR0EsRUFBUU8sSUFBSVQsR0FHZkQsRUFBV1EsSUFBSUwsRUFBUU8sSUFBSVQsSUFBTSxTQUFTRyxHQUYxQ0EsSUFJT1AsUUFBUVUsU0FBU1AsRUFBV00sc0JBQ3JDTixFQUFXUSxJ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QUVadGtCLEdBQU9qbEIsSUFBTSxHQWdCYmlsQixFQUFPby9CLFFBQVUsV0FDZixHQUNFcmtELEdBREUwOEMsRUFBU3lILEdBR1R6SCxLQUNGMThDLEVBQU1pbEIsRUFBT2psQixJQUFJbEQsT0FFakJtb0IsRUFBT3ZoQixNQUFNLG9CQUFxQmc1QyxPQUFPQSxFQUFRMThDLElBQUlBLEtBR3ZEK1UsRUFBSTRKLE1BQU0sU0FHWnNHLEVBQU8zYSxJQUFJLGFBQWMsV0FDdkJ5SyxFQUFJNEosTUFBTSxlQU10QnZsQixRQUFRQyxPQUFPLG1DQUNaZ08sU0FBUyxnQkFDUixxaEJBZURBLFNBQVMsYUFDUiIsImZpbGUiOiJqcy9zZXR0aW5ncy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGFuZ3VsYXItdHJhbnNsYXRlIC0gdjIuNS4yIC0gMjAxNC0xMi0xMFxuICogaHR0cDovL2dpdGh1Yi5jb20vYW5ndWxhci10cmFuc2xhdGUvYW5ndWxhci10cmFuc2xhdGVcbiAqIENvcHlyaWdodCAoYykgMjAxNCA7IExpY2Vuc2VkIE1JVFxuICovXG4vKipcbiAqIEBuZ2RvYyBvdmVydmlld1xuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG1haW4gbW9kdWxlIHdoaWNoIGhvbGRzIGV2ZXJ5dGhpbmcgdG9nZXRoZXIuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJywgWyduZyddKVxuXG4ucnVuKFsnJHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgkdHJhbnNsYXRlKSB7XG5cbiAgdmFyIGtleSA9ICR0cmFuc2xhdGUuc3RvcmFnZUtleSgpLFxuICAgICAgc3RvcmFnZSA9ICR0cmFuc2xhdGUuc3RvcmFnZSgpO1xuXG4gIHZhciBmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJlZmVycmVkID0gJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpO1xuICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHByZWZlcnJlZCkpIHtcbiAgICAgICR0cmFuc2xhdGUudXNlKHByZWZlcnJlZCk7XG4gICAgICAvLyAkdHJhbnNsYXRlLnVzZSgpIHdpbGwgYWxzbyByZW1lbWJlciB0aGUgbGFuZ3VhZ2UuXG4gICAgICAvLyBTbywgd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHN0b3JhZ2UucHV0KCkgaGVyZS5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcmFnZS5wdXQoa2V5LCAkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHN0b3JhZ2UpIHtcbiAgICBpZiAoIXN0b3JhZ2UuZ2V0KGtleSkpIHtcbiAgICAgIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdHJhbnNsYXRlLnVzZShzdG9yYWdlLmdldChrZXkpKVsnY2F0Y2gnXShmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKCR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKSkpIHtcbiAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCkpO1xuICB9XG59XSk7XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICR0cmFuc2xhdGVQcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byByZWdpc3RlciB0cmFuc2xhdGlvbi10YWJsZXMsIGFzeW5jaHJvbm91cyBsb2FkZXJzXG4gKiBhbmQgc2ltaWxhciB0byBjb25maWd1cmUgdHJhbnNsYXRpb24gYmVoYXZpb3IgZGlyZWN0bHkgaW5zaWRlIG9mIGEgbW9kdWxlLlxuICpcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5wcm92aWRlcignJHRyYW5zbGF0ZScsIFsnJFNUT1JBR0VfS0VZJywgZnVuY3Rpb24gKCRTVE9SQUdFX0tFWSkge1xuXG4gIHZhciAkdHJhbnNsYXRpb25UYWJsZSA9IHt9LFxuICAgICAgJHByZWZlcnJlZExhbmd1YWdlLFxuICAgICAgJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IFtdLFxuICAgICAgJGxhbmd1YWdlS2V5QWxpYXNlcyxcbiAgICAgICRmYWxsYmFja0xhbmd1YWdlLFxuICAgICAgJGZhbGxiYWNrV2FzU3RyaW5nLFxuICAgICAgJHVzZXMsXG4gICAgICAkbmV4dExhbmcsXG4gICAgICAkc3RvcmFnZUZhY3RvcnksXG4gICAgICAkc3RvcmFnZUtleSA9ICRTVE9SQUdFX0tFWSxcbiAgICAgICRzdG9yYWdlUHJlZml4LFxuICAgICAgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5LFxuICAgICAgJGludGVycG9sYXRpb25GYWN0b3J5LFxuICAgICAgJGludGVycG9sYXRvckZhY3RvcmllcyA9IFtdLFxuICAgICAgJGludGVycG9sYXRpb25TYW5pdGl6YXRpb25TdHJhdGVneSA9IGZhbHNlLFxuICAgICAgJGxvYWRlckZhY3RvcnksXG4gICAgICAkY2xvYWtDbGFzc05hbWUgPSAndHJhbnNsYXRlLWNsb2FrJyxcbiAgICAgICRsb2FkZXJPcHRpb25zLFxuICAgICAgJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCxcbiAgICAgICRub3RGb3VuZEluZGljYXRvclJpZ2h0LFxuICAgICAgJHBvc3RDb21waWxpbmdFbmFibGVkID0gZmFsc2UsXG4gICAgICBORVNURURfT0JKRUNUX0RFTElNSVRFUiA9ICcuJyxcbiAgICAgIGxvYWRlckNhY2hlO1xuXG4gIHZhciB2ZXJzaW9uID0gJzIuNS4yJztcblxuICAvLyB0cmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxhbmd1YWdlXG4gIHZhciBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbmF2ID0gd2luZG93Lm5hdmlnYXRvcixcbiAgICAgICAgYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzID0gWydsYW5ndWFnZScsICdicm93c2VyTGFuZ3VhZ2UnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndXNlckxhbmd1YWdlJ10sXG4gICAgICAgIGksXG4gICAgICAgIGxhbmd1YWdlO1xuXG4gICAgLy8gc3VwcG9ydCBmb3IgSFRNTCA1LjEgXCJuYXZpZ2F0b3IubGFuZ3VhZ2VzXCJcbiAgICBpZiAoYW5ndWxhci5pc0FycmF5KG5hdi5sYW5ndWFnZXMpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmF2Lmxhbmd1YWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYW5ndWFnZSA9IG5hdi5sYW5ndWFnZXNbaV07XG4gICAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0IGZvciBvdGhlciB3ZWxsIGtub3duIHByb3BlcnRpZXMgaW4gYnJvd3NlcnNcbiAgICBmb3IgKGkgPSAwOyBpIDwgYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsYW5ndWFnZSA9IG5hdlticm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXNbaV1dO1xuICAgICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbGFuZ3VhZ2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlJztcblxuICAvLyB0cmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxuICB2YXIgZ2V0TG9jYWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UoKSB8fCAnJykuc3BsaXQoJy0nKS5qb2luKCdfJyk7XG4gIH07XG4gIGdldExvY2FsZS5kaXNwbGF5TmFtZSA9ICdhbmd1bGFyLXRyYW5zbGF0ZS9zZXJ2aWNlOiBnZXRMb2NhbGUnO1xuXG4gIC8qKlxuICAgKiBAbmFtZSBpbmRleE9mXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBpbmRleE9mIHBvbHlmaWxsLiBLaW5kYSBzb3J0YS5cbiAgICpcbiAgICogQHBhcmFtIHthcnJheX0gYXJyYXkgQXJyYXkgdG8gc2VhcmNoIGluLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoRWxlbWVudCBFbGVtZW50IHRvIHNlYXJjaCBmb3IuXG4gICAqXG4gICAqIEByZXR1cm5zIHtpbnR9IEluZGV4IG9mIHNlYXJjaCBlbGVtZW50LlxuICAgKi9cbiAgdmFyIGluZGV4T2YgPSBmdW5jdGlvbihhcnJheSwgc2VhcmNoRWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldID09PSBzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lIHRyaW1cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIHRyaW0gcG9seWZpbGxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlIGZyb20gYm90aCBlbmRzXG4gICAqL1xuICB2YXIgdHJpbSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgfTtcblxuICB2YXIgbmVnb3RpYXRlTG9jYWxlID0gZnVuY3Rpb24gKHByZWZlcnJlZCkge1xuXG4gICAgdmFyIGF2YWlsID0gW10sXG4gICAgICAgIGxvY2FsZSA9IGFuZ3VsYXIubG93ZXJjYXNlKHByZWZlcnJlZCksXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBuID0gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGg7XG5cbiAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgYXZhaWwucHVzaChhbmd1bGFyLmxvd2VyY2FzZSgkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzW2ldKSk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4T2YoYXZhaWwsIGxvY2FsZSkgPiAtMSkge1xuICAgICAgcmV0dXJuIHByZWZlcnJlZDtcbiAgICB9XG5cbiAgICBpZiAoJGxhbmd1YWdlS2V5QWxpYXNlcykge1xuICAgICAgdmFyIGFsaWFzO1xuICAgICAgZm9yICh2YXIgbGFuZ0tleUFsaWFzIGluICRsYW5ndWFnZUtleUFsaWFzZXMpIHtcbiAgICAgICAgdmFyIGhhc1dpbGRjYXJkS2V5ID0gZmFsc2U7XG4gICAgICAgIHZhciBoYXNFeGFjdEtleSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgkbGFuZ3VhZ2VLZXlBbGlhc2VzLCBsYW5nS2V5QWxpYXMpICYmXG4gICAgICAgICAgYW5ndWxhci5sb3dlcmNhc2UobGFuZ0tleUFsaWFzKSA9PT0gYW5ndWxhci5sb3dlcmNhc2UocHJlZmVycmVkKTtcblxuICAgICAgICBpZiAobGFuZ0tleUFsaWFzLnNsaWNlKC0xKSA9PT0gJyonKSB7XG4gICAgICAgICAgaGFzV2lsZGNhcmRLZXkgPSBsYW5nS2V5QWxpYXMuc2xpY2UoMCwgLTEpID09PSBwcmVmZXJyZWQuc2xpY2UoMCwgbGFuZ0tleUFsaWFzLmxlbmd0aC0xKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzRXhhY3RLZXkgfHwgaGFzV2lsZGNhcmRLZXkpIHtcbiAgICAgICAgICBhbGlhcyA9ICRsYW5ndWFnZUtleUFsaWFzZXNbbGFuZ0tleUFsaWFzXTtcbiAgICAgICAgICBpZiAoaW5kZXhPZihhdmFpbCwgYW5ndWxhci5sb3dlcmNhc2UoYWxpYXMpKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gYWxpYXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHBhcnRzID0gcHJlZmVycmVkLnNwbGl0KCdfJyk7XG5cbiAgICBpZiAocGFydHMubGVuZ3RoID4gMSAmJiBpbmRleE9mKGF2YWlsLCBhbmd1bGFyLmxvd2VyY2FzZShwYXJ0c1swXSkpID4gLTEpIHtcbiAgICAgIHJldHVybiBwYXJ0c1swXTtcbiAgICB9XG5cbiAgICAvLyBJZiBldmVyeXRoaW5nIGZhaWxzLCBqdXN0IHJldHVybiB0aGUgcHJlZmVycmVkLCB1bmNoYW5nZWQuXG4gICAgcmV0dXJuIHByZWZlcnJlZDtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uc1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIG5ldyB0cmFuc2xhdGlvbiB0YWJsZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2Uga2V5LlxuICAgKlxuICAgKiBUbyByZWdpc3RlciBhIHRyYW5zbGF0aW9uIHRhYmxlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSwgcGFzcyBhIGRlZmluZWQgbGFuZ3VhZ2VcbiAgICoga2V5IGFzIGZpcnN0IHBhcmFtZXRlci5cbiAgICpcbiAgICogPHByZT5cbiAgICogIC8vIHJlZ2lzdGVyIHRyYW5zbGF0aW9uIHRhYmxlIGZvciBsYW5ndWFnZTogJ2RlX0RFJ1xuICAgKiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZGVfREUnLCB7XG4gICAqICAgICdHUkVFVElORyc6ICdIYWxsbyBXZWx0ISdcbiAgICogIH0pO1xuICAgKlxuICAgKiAgLy8gcmVnaXN0ZXIgYW5vdGhlciBvbmVcbiAgICogICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuX1VTJywge1xuICAgKiAgICAnR1JFRVRJTkcnOiAnSGVsbG8gd29ybGQhJ1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBXaGVuIHJlZ2lzdGVyaW5nIG11bHRpcGxlIHRyYW5zbGF0aW9uIHRhYmxlcyBmb3IgZm9yIHRoZSBzYW1lIGxhbmd1YWdlIGtleSxcbiAgICogdGhlIGFjdHVhbCB0cmFuc2xhdGlvbiB0YWJsZSBnZXRzIGV4dGVuZGVkLiBUaGlzIGFsbG93cyB5b3UgdG8gZGVmaW5lIG1vZHVsZVxuICAgKiBzcGVjaWZpYyB0cmFuc2xhdGlvbiB3aGljaCBvbmx5IGdldCBhZGRlZCwgb25jZSBhIHNwZWNpZmljIG1vZHVsZSBpcyBsb2FkZWQgaW5cbiAgICogeW91ciBhcHAuXG4gICAqXG4gICAqIEludm9raW5nIHRoaXMgbWV0aG9kIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHRyYW5zbGF0aW9uIHRhYmxlIHdoaWNoIHdhc1xuICAgKiByZWdpc3RlcmVkIHdpdGggbm8gbGFuZ3VhZ2Uga2V5LiBJbnZva2luZyBpdCB3aXRoIGEgbGFuZ3VhZ2Uga2V5IHJldHVybnMgdGhlXG4gICAqIHJlbGF0ZWQgdHJhbnNsYXRpb24gdGFibGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB0cmFuc2xhdGlvblRhYmxlIEEgcGxhaW4gb2xkIEphdmFTY3JpcHQgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyBhIHRyYW5zbGF0aW9uIHRhYmxlLlxuICAgKlxuICAgKi9cbiAgdmFyIHRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvblRhYmxlKSB7XG5cbiAgICBpZiAoIWxhbmdLZXkgJiYgIXRyYW5zbGF0aW9uVGFibGUpIHtcbiAgICAgIHJldHVybiAkdHJhbnNsYXRpb25UYWJsZTtcbiAgICB9XG5cbiAgICBpZiAobGFuZ0tleSAmJiAhdHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobGFuZ0tleSkpIHtcbiAgICAgICAgcmV0dXJuICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pKSB7XG4gICAgICAgICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldID0ge307XG4gICAgICB9XG4gICAgICBhbmd1bGFyLmV4dGVuZCgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSwgZmxhdE9iamVjdCh0cmFuc2xhdGlvblRhYmxlKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMudHJhbnNsYXRpb25zID0gdHJhbnNsYXRpb25zO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjY2xvYWtDbGFzc05hbWVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBMZXQncyB5b3UgY2hhbmdlIHRoZSBjbGFzcyBuYW1lIGZvciBgdHJhbnNsYXRlLWNsb2FrYCBkaXJlY3RpdmUuXG4gICAqIERlZmF1bHQgY2xhc3MgbmFtZSBpcyBgdHJhbnNsYXRlLWNsb2FrYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdHJhbnNsYXRlLWNsb2FrIGNsYXNzIG5hbWVcbiAgICovXG4gIHRoaXMuY2xvYWtDbGFzc05hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgcmV0dXJuICRjbG9ha0NsYXNzTmFtZTtcbiAgICB9XG4gICAgJGNsb2FrQ2xhc3NOYW1lID0gbmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgZmxhdE9iamVjdFxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRmxhdHMgYW4gb2JqZWN0LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZmxhdHRlbiBnaXZlbiB0cmFuc2xhdGlvbiBkYXRhIHdpdGhcbiAgICogbmFtZXNwYWNlcywgc28gdGhleSBhcmUgbGF0ZXIgYWNjZXNzaWJsZSB2aWEgZG90IG5vdGF0aW9uLlxuICAgKi9cbiAgdmFyIGZsYXRPYmplY3QgPSBmdW5jdGlvbiAoZGF0YSwgcGF0aCwgcmVzdWx0LCBwcmV2S2V5KSB7XG4gICAgdmFyIGtleSwga2V5V2l0aFBhdGgsIGtleVdpdGhTaG9ydFBhdGgsIHZhbDtcblxuICAgIGlmICghcGF0aCkge1xuICAgICAgcGF0aCA9IFtdO1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0ge307XG4gICAgfVxuICAgIGZvciAoa2V5IGluIGRhdGEpIHtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YWwgPSBkYXRhW2tleV07XG4gICAgICBpZiAoYW5ndWxhci5pc09iamVjdCh2YWwpKSB7XG4gICAgICAgIGZsYXRPYmplY3QodmFsLCBwYXRoLmNvbmNhdChrZXkpLCByZXN1bHQsIGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXlXaXRoUGF0aCA9IHBhdGgubGVuZ3RoID8gKCcnICsgcGF0aC5qb2luKE5FU1RFRF9PQkpFQ1RfREVMSU1JVEVSKSArIE5FU1RFRF9PQkpFQ1RfREVMSU1JVEVSICsga2V5KSA6IGtleTtcbiAgICAgICAgaWYocGF0aC5sZW5ndGggJiYga2V5ID09PSBwcmV2S2V5KXtcbiAgICAgICAgICAvLyBDcmVhdGUgc2hvcnRjdXQgcGF0aCAoZm9vLmJhciA9PSBmb28uYmFyLmJhcilcbiAgICAgICAgICBrZXlXaXRoU2hvcnRQYXRoID0gJycgKyBwYXRoLmpvaW4oTkVTVEVEX09CSkVDVF9ERUxJTUlURVIpO1xuICAgICAgICAgIC8vIExpbmsgaXQgdG8gb3JpZ2luYWwgcGF0aFxuICAgICAgICAgIHJlc3VsdFtrZXlXaXRoU2hvcnRQYXRoXSA9ICdAOicgKyBrZXlXaXRoUGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRba2V5V2l0aFBhdGhdID0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjYWRkSW50ZXJwb2xhdGlvblxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEFkZHMgaW50ZXJwb2xhdGlvbiBzZXJ2aWNlcyB0byBhbmd1bGFyLXRyYW5zbGF0ZSwgc28gaXQgY2FuIG1hbmFnZSB0aGVtLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZmFjdG9yeSBJbnRlcnBvbGF0aW9uIHNlcnZpY2UgZmFjdG9yeVxuICAgKi9cbiAgdGhpcy5hZGRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLnB1c2goZmFjdG9yeSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvblxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uYWxpdHkgb2YgbWVzc2FnZWZvcm1hdC5qcy5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBoYXZpbmcgaGlnaCBsZXZlbCBwbHVyYWxpemF0aW9uIGFuZCBnZW5kZXIgc2VsZWN0aW9uLlxuICAgKi9cbiAgdGhpcy51c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VJbnRlcnBvbGF0aW9uKCckdHJhbnNsYXRlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24nKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB3aGljaCBpbnRlcnBvbGF0aW9uIHN0eWxlIHRvIHVzZSBhcyBkZWZhdWx0LCBhcHBsaWNhdGlvbi13aWRlLlxuICAgKiBTaW1wbHkgcGFzcyBhIGZhY3Rvcnkvc2VydmljZSBuYW1lLiBUaGUgaW50ZXJwb2xhdGlvbiBzZXJ2aWNlIGhhcyB0byBpbXBsZW1lbnRcbiAgICogdGhlIGNvcnJlY3QgaW50ZXJmYWNlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBJbnRlcnBvbGF0aW9uIHNlcnZpY2UgbmFtZS5cbiAgICovXG4gIHRoaXMudXNlSW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJGludGVycG9sYXRpb25GYWN0b3J5ID0gZmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVNhbml0aXplU3RyYXRlZ3lcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTaW1wbHkgc2V0cyBhIHNhbml0YXRpb24gc3RyYXRlZ3kgdHlwZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFN0cmF0ZWd5IHR5cGUuXG4gICAqL1xuICB0aGlzLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcHJlZmVycmVkTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIG9mIHRoZSByZWdpc3RlcmVkIHRyYW5zbGF0aW9uIHRhYmxlcyB0byB1c2UgZm9yIHRyYW5zbGF0aW9uXG4gICAqIGF0IGluaXRpYWwgc3RhcnR1cCBieSBwYXNzaW5nIGEgbGFuZ3VhZ2Uga2V5LiBTaW1pbGFyIHRvIGAkdHJhbnNsYXRlUHJvdmlkZXIjdXNlYFxuICAgKiBvbmx5IHRoYXQgaXQgc2F5cyB3aGljaCBsYW5ndWFnZSB0byAqKnByZWZlcioqLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICpcbiAgICovXG4gIHRoaXMucHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbihsYW5nS2V5KSB7XG4gICAgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZShsYW5nS2V5KTtcbiAgICByZXR1cm4gdGhpcztcblxuICB9O1xuICB2YXIgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IGxhbmdLZXk7XG4gICAgfVxuICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XG4gIH07XG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kLiBFLmcuIHdoZW5cbiAgICogc2V0dGluZyB0aGUgaW5kaWNhdG9yIGFzICdYJyBhbmQgb25lIHRyaWVzIHRvIHRyYW5zbGF0ZSBhIHRyYW5zbGF0aW9uIGlkXG4gICAqIGNhbGxlZCBgTk9UX0ZPVU5EYCwgdGhpcyB3aWxsIHJlc3VsdCBpbiBgWCBOT1RfRk9VTkQgWGAuXG4gICAqXG4gICAqIEludGVybmFsbHkgdGhpcyBtZXRob2RzIHNldHMgYSBsZWZ0IGluZGljYXRvciBhbmQgYSByaWdodCBpbmRpY2F0b3IgdXNpbmdcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCgpYCBhbmRcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQoKWAuXG4gICAqXG4gICAqICoqTm90ZSoqOiBUaGVzZSBtZXRob2RzIGF1dG9tYXRpY2FsbHkgYWRkIGEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRoZSBpbmRpY2F0b3JzXG4gICAqIGFuZCB0aGUgdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLCBjb3VsZCBiZSBhbnkgc3RyaW5nLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQoaW5kaWNhdG9yKTtcbiAgICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodChpbmRpY2F0b3IpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIGxlZnQgdG8gdGhlXG4gICAqIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvci5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgaWYgKCFpbmRpY2F0b3IpIHtcbiAgICAgIHJldHVybiAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0O1xuICAgIH1cbiAgICAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0ID0gaW5kaWNhdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIHJpZ2h0IHRvIHRoZVxuICAgKiB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICBpZiAoIWluZGljYXRvcikge1xuICAgICAgcmV0dXJuICRub3RGb3VuZEluZGljYXRvclJpZ2h0O1xuICAgIH1cbiAgICAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGluZGljYXRvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2ZhbGxiYWNrTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIG9mIHRoZSByZWdpc3RlcmVkIHRyYW5zbGF0aW9uIHRhYmxlcyB0byB1c2Ugd2hlbiBtaXNzaW5nIHRyYW5zbGF0aW9uc1xuICAgKiBhdCBpbml0aWFsIHN0YXJ0dXAgYnkgcGFzc2luZyBhIGxhbmd1YWdlIGtleS4gU2ltaWxhciB0byBgJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZWBcbiAgICogb25seSB0aGF0IGl0IHNheXMgd2hpY2ggbGFuZ3VhZ2UgdG8gKipmYWxsYmFjayoqLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3x8YXJyYXl9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqXG4gICAqL1xuICB0aGlzLmZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGZhbGxiYWNrU3RhY2sgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xuICAgICAgICAkZmFsbGJhY2tXYXNTdHJpbmcgPSB0cnVlO1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZSA9IFsgbGFuZ0tleSBdO1xuICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzQXJyYXkobGFuZ0tleSkpIHtcbiAgICAgICAgJGZhbGxiYWNrV2FzU3RyaW5nID0gZmFsc2U7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlID0gbGFuZ0tleTtcbiAgICAgIH1cbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKCRwcmVmZXJyZWRMYW5ndWFnZSkgICYmIGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsICRwcmVmZXJyZWRMYW5ndWFnZSkgPCAwKSB7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkZmFsbGJhY2tXYXNTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldCB3aGljaCB0cmFuc2xhdGlvbiB0YWJsZSB0byB1c2UgZm9yIHRyYW5zbGF0aW9uIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gV2hlblxuICAgKiB0cnlpbmcgdG8gJ3VzZScgYSBsYW5ndWFnZSB3aGljaCBpc24ndCBwcm92aWRlZCwgaXQnbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAqXG4gICAqIFlvdSBhY3R1YWxseSBkb24ndCBoYXZlIHRvIHVzZSB0aGlzIG1ldGhvZCBzaW5jZSBgJHRyYW5zbGF0ZVByb3ZpZGVyI3ByZWZlcnJlZExhbmd1YWdlYFxuICAgKiBkb2VzIHRoZSBqb2IgdG9vLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICovXG4gIHRoaXMudXNlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgaWYgKCEkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSAmJiAoISRsb2FkZXJGYWN0b3J5KSkge1xuICAgICAgICAvLyBvbmx5IHRocm93IGFuIGVycm9yLCB3aGVuIG5vdCBsb2FkaW5nIHRyYW5zbGF0aW9uIGRhdGEgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJHRyYW5zbGF0ZVByb3ZpZGVyIGNvdWxkbid0IGZpbmQgdHJhbnNsYXRpb25UYWJsZSBmb3IgbGFuZ0tleTogJ1wiICsgbGFuZ0tleSArIFwiJ1wiKTtcbiAgICAgIH1cbiAgICAgICR1c2VzID0gbGFuZ0tleTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJHVzZXM7XG4gIH07XG5cbiAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3N0b3JhZ2VLZXlcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIGtleSBtdXN0IHJlcHJlc2VudCB0aGUgY2hvb3NlZCBsYW5ndWFnZSBieSBhIHVzZXIgaW4gdGhlIHN0b3JhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgQSBrZXkgZm9yIHRoZSBzdG9yYWdlLlxuICAgKi9cbiAgdmFyIHN0b3JhZ2VLZXkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleSkge1xuICAgICAgaWYgKCRzdG9yYWdlUHJlZml4KSB7XG4gICAgICAgIHJldHVybiAkc3RvcmFnZVByZWZpeCArICRzdG9yYWdlS2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuICRzdG9yYWdlS2V5O1xuICAgIH1cbiAgICAkc3RvcmFnZUtleSA9IGtleTtcbiAgfTtcblxuICB0aGlzLnN0b3JhZ2VLZXkgPSBzdG9yYWdlS2V5O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlVXJsTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlVXJsTG9hZGVyYCBleHRlbnNpb24gc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVXJsXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VVcmxMb2FkZXIgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTG9hZGVyKCckdHJhbnNsYXRlVXJsTG9hZGVyJywgYW5ndWxhci5leHRlbmQoeyB1cmw6IHVybCB9LCBvcHRpb25zKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTdGF0aWNGaWxlc0xvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyYCBleHRlbnNpb24gc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VTdGF0aWNGaWxlc0xvYWRlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTG9hZGVyKCckdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXInLCBvcHRpb25zKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBhbnkgb3RoZXIgc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2FkZXJGYWN0b3J5IEZhY3RvcnkgbmFtZSB0byB1c2VcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZUxvYWRlciA9IGZ1bmN0aW9uIChsb2FkZXJGYWN0b3J5LCBvcHRpb25zKSB7XG4gICAgJGxvYWRlckZhY3RvcnkgPSBsb2FkZXJGYWN0b3J5O1xuICAgICRsb2FkZXJPcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvY2FsU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZWAgc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKlxuICAgKi9cbiAgdGhpcy51c2VMb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlU3RvcmFnZSgnJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlQ29va2llU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VgIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cbiAgICovXG4gIHRoaXMudXNlQ29va2llU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VTdG9yYWdlKCckdHJhbnNsYXRlQ29va2llU3RvcmFnZScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBjdXN0b20gc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKi9cbiAgdGhpcy51c2VTdG9yYWdlID0gZnVuY3Rpb24gKHN0b3JhZ2VGYWN0b3J5KSB7XG4gICAgJHN0b3JhZ2VGYWN0b3J5ID0gc3RvcmFnZUZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNzdG9yYWdlUHJlZml4XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBwcmVmaXggZm9yIHN0b3JhZ2Uga2V5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4IFN0b3JhZ2Uga2V5IHByZWZpeFxuICAgKi9cbiAgdGhpcy5zdG9yYWdlUHJlZml4ID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGlmICghcHJlZml4KSB7XG4gICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbiAgICAkc3RvcmFnZVByZWZpeCA9IHByZWZpeDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2dcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYnVpbHQtaW4gbG9nIGhhbmRsZXIgd2hlbiB0cnlpbmcgdG8gdHJhbnNsYXRlXG4gICAqIGEgdHJhbnNsYXRpb24gSWQgd2hpY2ggZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogVGhpcyBpcyBhY3R1YWxseSBhIHNob3J0Y3V0IG1ldGhvZCBmb3IgYHVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoKWAuXG4gICAqXG4gICAqL1xuICB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcignJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFeHBlY3RzIGEgZmFjdG9yeSBuYW1lIHdoaWNoIGxhdGVyIGdldHMgaW5zdGFudGlhdGVkIHdpdGggYCRpbmplY3RvcmAuXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIHRlbGwgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGEgY3VzdG9tXG4gICAqIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIuIEp1c3QgYnVpbGQgYSBmYWN0b3J5IHdoaWNoIHJldHVybnMgYSBmdW5jdGlvblxuICAgKiBhbmQgZXhwZWN0cyBhIHRyYW5zbGF0aW9uIGlkIGFzIGFyZ3VtZW50LlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKCdjdXN0b21IYW5kbGVyJyk7XG4gICAqICB9KTtcbiAgICpcbiAgICogIGFwcC5mYWN0b3J5KCdjdXN0b21IYW5kbGVyJywgZnVuY3Rpb24gKGRlcDEsIGRlcDIpIHtcbiAgICogICAgcmV0dXJuIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAqICAgICAgLy8gc29tZXRoaW5nIHdpdGggdHJhbnNsYXRpb25JZCBhbmQgZGVwMSBhbmQgZGVwMlxuICAgKiAgICB9O1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBGYWN0b3J5IG5hbWVcbiAgICovXG4gIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ID0gZmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVBvc3RDb21waWxpbmdcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJZiBwb3N0IGNvbXBpbGluZyBpcyBlbmFibGVkLCBhbGwgdHJhbnNsYXRlZCB2YWx1ZXMgd2lsbCBiZSBwcm9jZXNzZWRcbiAgICogYWdhaW4gd2l0aCBBbmd1bGFySlMnICRjb21waWxlLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VQb3N0Q29tcGlsaW5nKHRydWUpO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBGYWN0b3J5IG5hbWVcbiAgICovXG4gIHRoaXMudXNlUG9zdENvbXBpbGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICRwb3N0Q29tcGlsaW5nRW5hYmxlZCA9ICEoIXZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdHJ5IHRvIGRldGVybWluZSBvbiBpdHMgb3duIHdoaWNoIGxhbmd1YWdlIGtleVxuICAgKiB0byBzZXQgYXMgcHJlZmVycmVkIGxhbmd1YWdlLiBXaGVuIGBmbmAgaXMgZ2l2ZW4sIGFuZ3VsYXItdHJhbnNsYXRlIHVzZXMgaXRcbiAgICogdG8gZGV0ZXJtaW5lIGEgbGFuZ3VhZ2Uga2V5LCBvdGhlcndpc2UgaXQgdXNlcyB0aGUgYnVpbHQtaW4gYGdldExvY2FsZSgpYFxuICAgKiBtZXRob2QuXG4gICAqXG4gICAqIFRoZSBgZ2V0TG9jYWxlKClgIHJldHVybnMgYSBsYW5ndWFnZSBrZXkgaW4gdGhlIGZvcm1hdCBgW2xhbmddX1tjb3VudHJ5XWAgb3JcbiAgICogYFtsYW5nXWAgZGVwZW5kaW5nIG9uIHdoYXQgdGhlIGJyb3dzZXIgcHJvdmlkZXMuXG4gICAqXG4gICAqIFVzZSB0aGlzIG1ldGhvZCBhdCB5b3VyIG93biByaXNrLCBzaW5jZSBub3QgYWxsIGJyb3dzZXJzIHJldHVybiBhIHZhbGlkXG4gICAqIGxvY2FsZS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBmbiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgYSBicm93c2VyJ3MgbG9jYWxlXG4gICAqL1xuICB0aGlzLmRldGVybWluZVByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGZuKSB7XG5cbiAgICB2YXIgbG9jYWxlID0gKGZuICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihmbikpID8gZm4oKSA6IGdldExvY2FsZSgpO1xuXG4gICAgaWYgKCEkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aCkge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbG9jYWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBuZWdvdGlhdGVMb2NhbGUobG9jYWxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3JlZ2lzdGVyQXZhaWxhYmxlTGFuZ3VhZ2VLZXlzXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgc2V0IG9mIGxhbmd1YWdlIGtleXMgdGhlIGFwcCB3aWxsIHdvcmsgd2l0aC4gVXNlIHRoaXMgbWV0aG9kIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGhcbiAgICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlIGRldGVybWluZVByZWZlcnJlZExhbmd1YWdlfS5cbiAgICogV2hlbiBhdmFpbGFibGUgbGFuZ3VhZ2VzIGtleXMgYXJlIHJlZ2lzdGVyZWQsIGFuZ3VsYXItdHJhbnNsYXRlXG4gICAqIHRyaWVzIHRvIGZpbmQgdGhlIGJlc3QgZml0dGluZyBsYW5ndWFnZSBrZXkgZGVwZW5kaW5nIG9uIHRoZSBicm93c2VycyBsb2NhbGUsXG4gICAqIGNvbnNpZGVyaW5nIHlvdXIgbGFuZ3VhZ2Uga2V5IGNvbnZlbnRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBsYW5ndWFnZUtleXMgQXJyYXkgb2YgbGFuZ3VhZ2Uga2V5cyB0aGUgeW91ciBhcHAgd2lsbCB1c2VcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBhbGlhc2VzIEFsaWFzIG1hcC5cbiAgICovXG4gIHRoaXMucmVnaXN0ZXJBdmFpbGFibGVMYW5ndWFnZUtleXMgPSBmdW5jdGlvbiAobGFuZ3VhZ2VLZXlzLCBhbGlhc2VzKSB7XG4gICAgaWYgKGxhbmd1YWdlS2V5cykge1xuICAgICAgJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IGxhbmd1YWdlS2V5cztcbiAgICAgIGlmIChhbGlhc2VzKSB7XG4gICAgICAgICRsYW5ndWFnZUtleUFsaWFzZXMgPSBhbGlhc2VzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9hZGVyQ2FjaGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBjYWNoZSBmb3IgaW50ZXJuYWwgJGh0dHAgYmFzZWQgbG9hZGVycy5cbiAgICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlIGRldGVybWluZVByZWZlcnJlZExhbmd1YWdlfS5cbiAgICogV2hlbiBmYWxzZSB0aGUgY2FjaGUgd2lsbCBiZSBkaXNhYmxlZCAoZGVmYXVsdCkuIFdoZW4gdHJ1ZSBvciB1bmRlZmluZWRcbiAgICogdGhlIGNhY2hlIHdpbGwgYmUgYSBkZWZhdWx0IChzZWUgJGNhY2hlRmFjdG9yeSkuIFdoZW4gYW4gb2JqZWN0IGl0IHdpbGxcbiAgICogYmUgdHJlYXQgYXMgYSBjYWNoZSBvYmplY3QgaXRzZWxmOiB0aGUgdXNhZ2UgaXMgJGh0dHAoe2NhY2hlOiBjYWNoZX0pXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWNoZSBib29sZWFuLCBzdHJpbmcgb3IgY2FjaGUtb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZUxvYWRlckNhY2hlID0gZnVuY3Rpb24gKGNhY2hlKSB7XG4gICAgaWYgKGNhY2hlID09PSBmYWxzZSkge1xuICAgICAgLy8gZGlzYWJsZSBjYWNoZVxuICAgICAgbG9hZGVyQ2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChjYWNoZSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIEFKUyBkZWZhdWx0c1xuICAgICAgbG9hZGVyQ2FjaGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mKGNhY2hlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBkZWZhdWx0XG4gICAgICBsb2FkZXJDYWNoZSA9ICckdHJhbnNsYXRpb25DYWNoZSc7XG4gICAgfSBlbHNlIGlmIChjYWNoZSkge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIGdpdmVuIG9uZSAoc2VlICRjYWNoZUZhY3RvcnkpXG4gICAgICBsb2FkZXJDYWNoZSA9IGNhY2hlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG9iamVjdFxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICAgKiBAcmVxdWlyZXMgJGxvZ1xuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICAgKiBAcmVxdWlyZXMgJHFcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSBgJHRyYW5zbGF0ZWAgc2VydmljZSBpcyB0aGUgYWN0dWFsIGNvcmUgb2YgYW5ndWxhci10cmFuc2xhdGUuIEl0IGV4cGVjdHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgKiBhbmQgb3B0aW9uYWwgaW50ZXJwb2xhdGUgcGFyYW1ldGVycyB0byB0cmFuc2xhdGUgY29udGVudHMuXG4gICAqXG4gICAqIDxwcmU+XG4gICAqICAkdHJhbnNsYXRlKCdIRUFETElORV9URVhUJykudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICogICAgJHNjb3BlLnRyYW5zbGF0ZWRUZXh0ID0gdHJhbnNsYXRpb247XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfGFycmF5fSB0cmFuc2xhdGlvbklkIEEgdG9rZW4gd2hpY2ggcmVwcmVzZW50cyBhIHRyYW5zbGF0aW9uIGlkXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgY2FuIGJlIG9wdGlvbmFsbHkgYW4gYXJyYXkgb2YgdHJhbnNsYXRpb24gaWRzIHdoaWNoXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgdGhhdCB0aGUgZnVuY3Rpb24gcmV0dXJucyBhbiBvYmplY3Qgd2hlcmUgZWFjaCBrZXlcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdGhlIHRyYW5zbGF0aW9uIGlkIGFuZCB0aGUgdmFsdWUgdGhlIHRyYW5zbGF0aW9uLlxuICAgKiBAcGFyYW0ge29iamVjdD19IGludGVycG9sYXRlUGFyYW1zIEFuIG9iamVjdCBoYXNoIGZvciBkeW5hbWljIHZhbHVlc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJwb2xhdGlvbklkIFRoZSBpZCBvZiB0aGUgaW50ZXJwb2xhdGlvbiB0byB1c2VcbiAgICogQHJldHVybnMge29iamVjdH0gcHJvbWlzZVxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gW1xuICAgICckbG9nJyxcbiAgICAnJGluamVjdG9yJyxcbiAgICAnJHJvb3RTY29wZScsXG4gICAgJyRxJyxcbiAgICBmdW5jdGlvbiAoJGxvZywgJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkcSkge1xuXG4gICAgICB2YXIgU3RvcmFnZSxcbiAgICAgICAgICBkZWZhdWx0SW50ZXJwb2xhdG9yID0gJGluamVjdG9yLmdldCgkaW50ZXJwb2xhdGlvbkZhY3RvcnkgfHwgJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbicpLFxuICAgICAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZSxcbiAgICAgICAgICBpbnRlcnBvbGF0b3JIYXNoTWFwID0ge30sXG4gICAgICAgICAgbGFuZ1Byb21pc2VzID0ge30sXG4gICAgICAgICAgZmFsbGJhY2tJbmRleCxcbiAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uO1xuXG4gICAgICB2YXIgJHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKSB7XG5cbiAgICAgICAgLy8gRHVjayBkZXRlY3Rpb246IElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhbiBhcnJheSwgYSBidW5jaCBvZiB0cmFuc2xhdGlvbnMgd2FzIHJlcXVlc3RlZC5cbiAgICAgICAgLy8gVGhlIHJlc3VsdCBpcyBhbiBvYmplY3QuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICAvLyBJbnNwaXJlZCBieSBRLmFsbFNldHRsZWQgYnkgS3JpcyBLb3dhbFxuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS9ibG9iL2IwZmE3Mjk4MDcxN2RjMjAyZmZjM2NiZjAzYjkzNmUxMGViYmI5ZDcvcS5qcyNMMTU1My0xNTYzXG4gICAgICAgICAgLy8gVGhpcyB0cmFuc2Zvcm1zIGFsbCBwcm9taXNlcyByZWdhcmRsZXNzIHJlc29sdmVkIG9yIHJlamVjdGVkXG4gICAgICAgICAgdmFyIHRyYW5zbGF0ZUFsbCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkcykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTsgLy8gc3RvcmluZyB0aGUgYWN0dWFsIHJlc3VsdHNcbiAgICAgICAgICAgIHZhciBwcm9taXNlcyA9IFtdOyAvLyBwcm9taXNlcyB0byB3YWl0IGZvclxuICAgICAgICAgICAgLy8gV3JhcHMgdGhlIHByb21pc2UgYSkgYmVpbmcgYWx3YXlzIHJlc29sdmVkIGFuZCBiKSBzdG9yaW5nIHRoZSBsaW5rIGlkLT52YWx1ZVxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICAgIHZhciByZWdhcmRsZXNzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0c1t0cmFuc2xhdGlvbklkXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoW3RyYW5zbGF0aW9uSWQsIHZhbHVlXSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIC8vIHdlIGRvbid0IGNhcmUgd2hldGhlciB0aGUgcHJvbWlzZSB3YXMgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQ7IGp1c3Qgc3RvcmUgdGhlIHZhbHVlc1xuICAgICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpLnRoZW4ocmVnYXJkbGVzcywgcmVnYXJkbGVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjID0gdHJhbnNsYXRpb25JZHMubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICAgIHByb21pc2VzLnB1c2godHJhbnNsYXRlKHRyYW5zbGF0aW9uSWRzW2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3YWl0IGZvciBhbGwgKGluY2x1ZGluZyBzdG9yaW5nIHRvIHJlc3VsdHMpXG4gICAgICAgICAgICByZXR1cm4gJHEuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSByZXN1bHRzXG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRlQWxsKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAvLyB0cmltIG9mZiBhbnkgd2hpdGVzcGFjZVxuICAgICAgICBpZiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSB0cmltLmFwcGx5KHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb21pc2VUb1dhaXRGb3IgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBwcm9taXNlID0gJHByZWZlcnJlZExhbmd1YWdlID9cbiAgICAgICAgICAgIGxhbmdQcm9taXNlc1skcHJlZmVycmVkTGFuZ3VhZ2VdIDpcbiAgICAgICAgICAgIGxhbmdQcm9taXNlc1skdXNlc107XG5cbiAgICAgICAgICBmYWxsYmFja0luZGV4ID0gMDtcblxuICAgICAgICAgIGlmICgkc3RvcmFnZUZhY3RvcnkgJiYgIXByb21pc2UpIHtcbiAgICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlcmUncyBubyBwZW5kaW5nIHByb21pc2UgZm9yICRwcmVmZXJyZWRMYW5ndWFnZSBvclxuICAgICAgICAgICAgLy8gJHVzZXMuIE1heWJlIHRoZXJlJ3Mgb25lIHBlbmRpbmcgZm9yIGEgbGFuZ3VhZ2UgdGhhdCBjb21lcyBmcm9tXG4gICAgICAgICAgICAvLyBzdG9yYWdlLlxuICAgICAgICAgICAgdmFyIGxhbmdLZXkgPSBTdG9yYWdlLmdldCgkc3RvcmFnZUtleSk7XG4gICAgICAgICAgICBwcm9taXNlID0gbGFuZ1Byb21pc2VzW2xhbmdLZXldO1xuXG4gICAgICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgbGFuZ0tleSk7XG4gICAgICAgICAgICAgICAgLy8gbWF5YmUgdGhlIGxhbmd1YWdlIGZyb20gc3RvcmFnZSBpcyBhbHNvIGRlZmluZWQgYXMgZmFsbGJhY2sgbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAvLyB3ZSBpbmNyZWFzZSB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2UgaW5kZXggdG8gbm90IHNlYXJjaCBpbiB0aGF0IGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgLy8gYXMgZmFsbGJhY2ssIHNpbmNlIGl0J3MgcHJvYmFibHkgdGhlIGZpcnN0IHVzZWQgbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UgdGhlIGluZGV4IHN0YXJ0cyBhZnRlciB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgICAgIGZhbGxiYWNrSW5kZXggPSAoaW5kZXggPT09IDApID8gMSA6IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgY2FuIG1ha2Ugc3VyZSB0byBBTFdBWVMgZmFsbGJhY2sgdG8gcHJlZmVycmVkIGxhbmd1YWdlIGF0IGxlYXN0XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsICRwcmVmZXJyZWRMYW5ndWFnZSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZS5wdXNoKCRwcmVmZXJyZWRMYW5ndWFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfSgpKTtcblxuICAgICAgICBpZiAoIXByb21pc2VUb1dhaXRGb3IpIHtcbiAgICAgICAgICAvLyBubyBwcm9taXNlIHRvIHdhaXQgZm9yPyBva2F5LiBUaGVuIHRoZXJlJ3Mgbm8gbG9hZGVyIHJlZ2lzdGVyZWRcbiAgICAgICAgICAvLyBub3IgaXMgYSBvbmUgcGVuZGluZyBmb3IgbGFuZ3VhZ2UgdGhhdCBjb21lcyBmcm9tIHN0b3JhZ2UuXG4gICAgICAgICAgLy8gV2UgY2FuIGp1c3QgdHJhbnNsYXRlLlxuICAgICAgICAgIGRldGVybWluZVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9taXNlVG9XYWl0Rm9yLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGV0ZXJtaW5lVHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgIH0sIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQXBwbGllcyBub3QgZm91bnQgaW5kaWNhdG9ycyB0byBnaXZlbiB0cmFuc2xhdGlvbiBpZCwgaWYgbmVlZGVkLlxuICAgICAgICogVGhpcyBmdW5jdGlvbiBnZXRzIG9ubHkgZXhlY3V0ZWQsIGlmIGEgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdCxcbiAgICAgICAqIHdoaWNoIGlzIHdoeSBhIHRyYW5zbGF0aW9uIGlkIGlzIGV4cGVjdGVkIGFzIGFyZ3VtZW50LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2xhdGlvbklkIFRyYW5zbGF0aW9uIGlkLlxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gU2FtZSBhcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBidXQgYXBwbGllZCB3aXRoIG5vdCBmb3VuZFxuICAgICAgICogaW5kaWNhdG9ycy5cbiAgICAgICAqL1xuICAgICAgdmFyIGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgLy8gYXBwbHlpbmcgbm90Rm91bmRJbmRpY2F0b3JzXG4gICAgICAgIGlmICgkbm90Rm91bmRJbmRpY2F0b3JMZWZ0KSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IFskbm90Rm91bmRJbmRpY2F0b3JMZWZ0LCB0cmFuc2xhdGlvbklkXS5qb2luKCcgJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRub3RGb3VuZEluZGljYXRvclJpZ2h0KSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IFt0cmFuc2xhdGlvbklkLCAkbm90Rm91bmRJbmRpY2F0b3JSaWdodF0uam9pbignICcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSB1c2VMYW5ndWFnZVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIE1ha2VzIGFjdHVhbCB1c2Ugb2YgYSBsYW5ndWFnZSBieSBzZXR0aW5nIGEgZ2l2ZW4gbGFuZ3VhZ2Uga2V5IGFzIHVzZWRcbiAgICAgICAqIGxhbmd1YWdlIGFuZCBpbmZvcm1zIHJlZ2lzdGVyZWQgaW50ZXJwb2xhdG9ycyB0byBhbHNvIHVzZSB0aGUgZ2l2ZW5cbiAgICAgICAqIGtleSBhcyBsb2NhbGUuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtrZXl9IExvY2FsZSBrZXkuXG4gICAgICAgKi9cbiAgICAgIHZhciB1c2VMYW5ndWFnZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgJHVzZXMgPSBrZXk7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywge2xhbmd1YWdlOiBrZXl9KTtcblxuICAgICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5KSB7XG4gICAgICAgICAgU3RvcmFnZS5wdXQoJHRyYW5zbGF0ZS5zdG9yYWdlS2V5KCksICR1c2VzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbmZvcm0gZGVmYXVsdCBpbnRlcnBvbGF0b3JcbiAgICAgICAgZGVmYXVsdEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgICAvLyBpbmZvcm0gYWxsIG90aGVycyB0b28hXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpbnRlcnBvbGF0b3JIYXNoTWFwLCBmdW5jdGlvbiAoaW50ZXJwb2xhdG9yLCBpZCkge1xuICAgICAgICAgIGludGVycG9sYXRvckhhc2hNYXBbaWRdLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRW5kJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgbG9hZEFzeW5jXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogS2lja3Mgb2YgcmVnaXN0ZXJlZCBhc3luYyBsb2FkZXIgdXNpbmcgYCRpbmplY3RvcmAgYW5kIGFwcGxpZXMgZXhpc3RpbmdcbiAgICAgICAqIGxvYWRlciBvcHRpb25zLiBXaGVuIHJlc29sdmVkLCBpdCB1cGRhdGVzIHRyYW5zbGF0aW9uIHRhYmxlcyBhY2NvcmRpbmdseVxuICAgICAgICogb3IgcmVqZWN0cyB3aXRoIGdpdmVuIGxhbmd1YWdlIGtleS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IExhbmd1YWdlIGtleS5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZS5cbiAgICAgICAqL1xuICAgICAgdmFyIGxvYWRBc3luYyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICB0aHJvdyAnTm8gbGFuZ3VhZ2Uga2V5IHNwZWNpZmllZCBmb3IgbG9hZGluZy4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ1N0YXJ0Jywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgcGVuZGluZ0xvYWRlciA9IHRydWU7XG5cbiAgICAgICAgdmFyIGNhY2hlID0gbG9hZGVyQ2FjaGU7XG4gICAgICAgIGlmICh0eXBlb2YoY2FjaGUpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vIGdldHRpbmcgb24tZGVtYW5kIGluc3RhbmNlIG9mIGxvYWRlclxuICAgICAgICAgIGNhY2hlID0gJGluamVjdG9yLmdldChjYWNoZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9hZGVyT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbG9hZGVyT3B0aW9ucywge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICRodHRwOiBhbmd1bGFyLmV4dGVuZCh7fSwge1xuICAgICAgICAgICAgY2FjaGU6IGNhY2hlXG4gICAgICAgICAgfSwgJGxvYWRlck9wdGlvbnMuJGh0dHApXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRpbmplY3Rvci5nZXQoJGxvYWRlckZhY3RvcnkpKGxvYWRlck9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB2YXIgdHJhbnNsYXRpb25UYWJsZSA9IHt9O1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nU3VjY2VzcycsIHtsYW5ndWFnZToga2V5fSk7XG5cbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YSwgZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRyYW5zbGF0aW9uVGFibGUsIGZsYXRPYmplY3QodGFibGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0cmFuc2xhdGlvblRhYmxlLCBmbGF0T2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGVuZGluZ0xvYWRlciA9IGZhbHNlO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICB0YWJsZTogdHJhbnNsYXRpb25UYWJsZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRW5kJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRXJyb3InLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChrZXkpO1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRW5kJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSkge1xuICAgICAgICBTdG9yYWdlID0gJGluamVjdG9yLmdldCgkc3RvcmFnZUZhY3RvcnkpO1xuXG4gICAgICAgIGlmICghU3RvcmFnZS5nZXQgfHwgIVN0b3JhZ2UucHV0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IHVzZSBzdG9yYWdlIFxcJycgKyAkc3RvcmFnZUZhY3RvcnkgKyAnXFwnLCBtaXNzaW5nIGdldCgpIG9yIHB1dCgpIG1ldGhvZCEnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBhcHBseSBhZGRpdGlvbmFsIHNldHRpbmdzXG4gICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKGRlZmF1bHRJbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KSkge1xuICAgICAgICBkZWZhdWx0SW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSgkaW50ZXJwb2xhdGlvblNhbml0aXphdGlvblN0cmF0ZWd5KTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgd2UgaGF2ZSBhZGRpdGlvbmFsIGludGVycG9sYXRpb25zIHRoYXQgd2VyZSBhZGRlZCB2aWFcbiAgICAgIC8vICR0cmFuc2xhdGVQcm92aWRlci5hZGRJbnRlcnBvbGF0aW9uKCksIHdlIGhhdmUgdG8gbWFwJ2VtXG4gICAgICBpZiAoJGludGVycG9sYXRvckZhY3Rvcmllcy5sZW5ndGgpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRpbnRlcnBvbGF0b3JGYWN0b3JpZXMsIGZ1bmN0aW9uIChpbnRlcnBvbGF0b3JGYWN0b3J5KSB7XG4gICAgICAgICAgdmFyIGludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoaW50ZXJwb2xhdG9yRmFjdG9yeSk7XG4gICAgICAgICAgLy8gc2V0dGluZyBpbml0aWFsIGxvY2FsZSBmb3IgZWFjaCBpbnRlcnBvbGF0aW9uIHNlcnZpY2VcbiAgICAgICAgICBpbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCRwcmVmZXJyZWRMYW5ndWFnZSB8fCAkdXNlcyk7XG4gICAgICAgICAgLy8gYXBwbHkgYWRkaXRpb25hbCBzZXR0aW5nc1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oaW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSkpIHtcbiAgICAgICAgICAgIGludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3koJGludGVycG9sYXRpb25TYW5pdGl6YXRpb25TdHJhdGVneSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIG1ha2UnZW0gcmVjb2duaXphYmxlIHRocm91Z2ggaWRcbiAgICAgICAgICBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRvci5nZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllcigpXSA9IGludGVycG9sYXRvcjtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgZ2V0VHJhbnNsYXRpb25UYWJsZVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zbGF0aW9uIHRhYmxlXG4gICAgICAgKiBvciBpcyByZWplY3RlZCBpZiBhbiBlcnJvciBvY2N1cnJlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gbGFuZ0tleVxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX1cbiAgICAgICAqL1xuICAgICAgdmFyIGdldFRyYW5zbGF0aW9uVGFibGUgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCR0cmFuc2xhdGlvblRhYmxlLCBsYW5nS2V5KSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxhbmdQcm9taXNlc1tsYW5nS2V5XSkge1xuICAgICAgICAgIGxhbmdQcm9taXNlc1tsYW5nS2V5XS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLnRhYmxlKTtcbiAgICAgICAgICB9LCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSBnZXRGYWxsYmFja1RyYW5zbGF0aW9uXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgdG8gdGhlIHRyYW5zbGF0aW9uXG4gICAgICAgKiBvciBiZSByZWplY3RlZCBpZiBubyB0cmFuc2xhdGlvbiB3YXMgZm91bmQgZm9yIHRoZSBsYW5ndWFnZS5cbiAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY3VycmVudGx5IG9ubHkgdXNlZCBmb3IgZmFsbGJhY2sgbGFuZ3VhZ2UgdHJhbnNsYXRpb24uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGxhbmdLZXkgVGhlIGxhbmd1YWdlIHRvIHRyYW5zbGF0ZSB0by5cbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9XG4gICAgICAgKi9cbiAgICAgIHZhciBnZXRGYWxsYmFja1RyYW5zbGF0aW9uID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICBnZXRUcmFuc2xhdGlvblRhYmxlKGxhbmdLZXkpLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uVGFibGUpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyYW5zbGF0aW9uVGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKGxhbmdLZXkpO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVQYXJhbXMpKTtcbiAgICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGRlZmVycmVkLnJlamVjdCk7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIHRyYW5zbGF0aW9uXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGZhbGxiYWNrIGxhbmd1YWdlIHRyYW5zbGF0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBsYW5nS2V5IFRoZSBsYW5ndWFnZSB0byB0cmFuc2xhdGUgdG8uXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAgICovXG4gICAgICB2YXIgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICB2YXIgcmVzdWx0LCB0cmFuc2xhdGlvblRhYmxlID0gJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV07XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uVGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyYW5zbGF0aW9uVGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZShsYW5nS2V5KTtcbiAgICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSB0cmFuc2xhdGVCeUhhbmRsZXJcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogVHJhbnNsYXRlIGJ5IG1pc3NpbmcgdHJhbnNsYXRpb24gaGFuZGxlci5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHJldHVybnMgdHJhbnNsYXRpb24gY3JlYXRlZCBieSAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciBvciB0cmFuc2xhdGlvbklkIGlzICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIGlzXG4gICAgICAgKiBhYnNlbnRcbiAgICAgICAqL1xuICAgICAgdmFyIHRyYW5zbGF0ZUJ5SGFuZGxlciA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBoYW5kbGVyIGZhY3RvcnkgLSB3ZSBtaWdodCBhbHNvIGNhbGwgaXQgaGVyZSB0byBkZXRlcm1pbmUgaWYgaXQgcHJvdmlkZXNcbiAgICAgICAgLy8gYSBkZWZhdWx0IHRleHQgZm9yIGEgdHJhbnNsYXRpb25pZCB0aGF0IGNhbid0IGJlIGZvdW5kIGFueXdoZXJlIGluIG91ciB0YWJsZXNcbiAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSkge1xuICAgICAgICAgIHZhciByZXN1bHRTdHJpbmcgPSAkaW5qZWN0b3IuZ2V0KCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSkodHJhbnNsYXRpb25JZCwgJHVzZXMpO1xuICAgICAgICAgIGlmIChyZXN1bHRTdHJpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFN0cmluZztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIFJlY3Vyc2l2ZSBoZWxwZXIgZnVuY3Rpb24gZm9yIGZhbGxiYWNrVHJhbnNsYXRpb24gdGhhdCB3aWxsIHNlcXVlbnRpYWxseSBsb29rXG4gICAgICAgKiBmb3IgYSB0cmFuc2xhdGlvbiBpbiB0aGUgZmFsbGJhY2tMYW5ndWFnZXMgc3RhcnRpbmcgd2l0aCBmYWxsYmFja0xhbmd1YWdlSW5kZXguXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleFxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX0gUHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb24uXG4gICAgICAgKi9cbiAgICAgIHZhciByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChmYWxsYmFja0xhbmd1YWdlSW5kZXgsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICBpZiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4IDwgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGxhbmdLZXkgPSAkZmFsbGJhY2tMYW5ndWFnZVtmYWxsYmFja0xhbmd1YWdlSW5kZXhdO1xuICAgICAgICAgIGdldEZhbGxiYWNrVHJhbnNsYXRpb24obGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikudGhlbihcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIExvb2sgaW4gdGhlIG5leHQgZmFsbGJhY2sgbGFuZ3VhZ2UgZm9yIGEgdHJhbnNsYXRpb24uXG4gICAgICAgICAgICAgIC8vIEl0IGRlbGF5cyB0aGUgcmVzb2x2aW5nIGJ5IHBhc3NpbmcgYW5vdGhlciBwcm9taXNlIHRvIHJlc29sdmUuXG4gICAgICAgICAgICAgIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCArIDEsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBObyB0cmFuc2xhdGlvbiBmb3VuZCBpbiBhbnkgZmFsbGJhY2sgbGFuZ3VhZ2VcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudFxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBSZWN1cnNpdmUgaGVscGVyIGZ1bmN0aW9uIGZvciBmYWxsYmFja1RyYW5zbGF0aW9uIHRoYXQgd2lsbCBzZXF1ZW50aWFsbHkgbG9va1xuICAgICAgICogZm9yIGEgdHJhbnNsYXRpb24gaW4gdGhlIGZhbGxiYWNrTGFuZ3VhZ2VzIHN0YXJ0aW5nIHdpdGggZmFsbGJhY2tMYW5ndWFnZUluZGV4LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBmYWxsYmFja0xhbmd1YWdlSW5kZXhcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICAgKi9cbiAgICAgIHZhciByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQgPSBmdW5jdGlvbiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgICAgaWYgKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCA8ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBsYW5nS2V5ID0gJGZhbGxiYWNrTGFuZ3VhZ2VbZmFsbGJhY2tMYW5ndWFnZUluZGV4XTtcbiAgICAgICAgICByZXN1bHQgPSBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudChsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50KGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCArIDEsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGVzIHdpdGggdGhlIHVzYWdlIG9mIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX0gUHJvbWlzZSwgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNsYXRpb24uXG4gICAgICAgKi9cbiAgICAgIHZhciBmYWxsYmFja1RyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgLy8gU3RhcnQgd2l0aCB0aGUgZmFsbGJhY2tMYW5ndWFnZSB3aXRoIGluZGV4IDBcbiAgICAgICAgcmV0dXJuIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlKChzdGFydEZhbGxiYWNrSXRlcmF0aW9uPjAgPyBzdGFydEZhbGxiYWNrSXRlcmF0aW9uIDogZmFsbGJhY2tJbmRleCksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGVzIHdpdGggdGhlIHVzYWdlIG9mIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge1N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgICAqL1xuICAgICAgdmFyIGZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgLy8gU3RhcnQgd2l0aCB0aGUgZmFsbGJhY2tMYW5ndWFnZSB3aXRoIGluZGV4IDBcbiAgICAgICAgcmV0dXJuIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudCgoc3RhcnRGYWxsYmFja0l0ZXJhdGlvbj4wID8gc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA6IGZhbGxiYWNrSW5kZXgpLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkZXRlcm1pbmVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKSB7XG5cbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICB2YXIgdGFibGUgPSAkdXNlcyA/ICR0cmFuc2xhdGlvblRhYmxlWyR1c2VzXSA6ICR0cmFuc2xhdGlvblRhYmxlLFxuICAgICAgICAgICAgSW50ZXJwb2xhdG9yID0gKGludGVycG9sYXRpb25JZCkgPyBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRpb25JZF0gOiBkZWZhdWx0SW50ZXJwb2xhdG9yO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XG4gICAgICAgIGlmICh0YWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGFibGVbdHJhbnNsYXRpb25JZF07XG5cbiAgICAgICAgICAvLyBJZiB1c2luZyBsaW5rLCByZXJ1biAkdHJhbnNsYXRlIHdpdGggbGlua2VkIHRyYW5zbGF0aW9uSWQgYW5kIHJldHVybiBpdFxuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcblxuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpXG4gICAgICAgICAgICAgIC50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uLCBpbnRlcnBvbGF0ZVBhcmFtcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIC8vIGZvciBsb2dnaW5nIHB1cnBvc2VzIG9ubHkgKGFzIGluICR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nKSwgdmFsdWUgaXMgbm90IHJldHVybmVkIHRvIHByb21pc2VcbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyKSB7XG4gICAgICAgICAgICBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc2luY2Ugd2UgY291bGRuJ3QgdHJhbnNsYXRlIHRoZSBpbml0YWwgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkLFxuICAgICAgICAgIC8vIHdlIHRyeSBpdCBub3cgd2l0aCBvbmUgb3IgbW9yZSBmYWxsYmFjayBsYW5ndWFnZXMsIGlmIGZhbGxiYWNrIGxhbmd1YWdlKHMpIGlzXG4gICAgICAgICAgLy8gY29uZmlndXJlZC5cbiAgICAgICAgICBpZiAoJHVzZXMgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICBmYWxsYmFja1RyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoX3RyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyhfdHJhbnNsYXRpb25JZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyICYmIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgICAgLy8gTm93LCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgbWlzc2luZyB0cmFuc2xhdGlvbnMgYW5kIG5vXG4gICAgICAgICAgICAvLyBhc3luY0xvYWRlciBpcyBwZW5kaW5nLCB3ZSBleGVjdXRlIHRoZSBoYW5kbGVyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyh0cmFuc2xhdGlvbklkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgdmFyIGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKSB7XG5cbiAgICAgICAgdmFyIHJlc3VsdCwgdGFibGUgPSAkdXNlcyA/ICR0cmFuc2xhdGlvblRhYmxlWyR1c2VzXSA6ICR0cmFuc2xhdGlvblRhYmxlLFxuICAgICAgICAgICAgSW50ZXJwb2xhdG9yID0gKGludGVycG9sYXRpb25JZCkgPyBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRpb25JZF0gOiBkZWZhdWx0SW50ZXJwb2xhdG9yO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XG4gICAgICAgIGlmICh0YWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGFibGVbdHJhbnNsYXRpb25JZF07XG5cbiAgICAgICAgICAvLyBJZiB1c2luZyBsaW5rLCByZXJ1biAkdHJhbnNsYXRlIHdpdGggbGlua2VkIHRyYW5zbGF0aW9uSWQgYW5kIHJldHVybiBpdFxuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgICAvLyBmb3IgbG9nZ2luZyBwdXJwb3NlcyBvbmx5IChhcyBpbiAkdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyksIHZhbHVlIGlzIG5vdCByZXR1cm5lZCB0byBwcm9taXNlXG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgICAgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNpbmNlIHdlIGNvdWxkbid0IHRyYW5zbGF0ZSB0aGUgaW5pdGFsIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCxcbiAgICAgICAgICAvLyB3ZSB0cnkgaXQgbm93IHdpdGggb25lIG9yIG1vcmUgZmFsbGJhY2sgbGFuZ3VhZ2VzLCBpZiBmYWxsYmFjayBsYW5ndWFnZShzKSBpc1xuICAgICAgICAgIC8vIGNvbmZpZ3VyZWQuXG4gICAgICAgICAgaWYgKCR1c2VzICYmICRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgZmFsbGJhY2tJbmRleCA9IDA7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlciAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0cy5cbiAgICAgICAgICAgIC8vIE5vdywgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGhhbmRsZXIgZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zIGFuZCBub1xuICAgICAgICAgICAgLy8gYXN5bmNMb2FkZXIgaXMgcGVuZGluZywgd2UgZXhlY3V0ZSB0aGUgaGFuZGxlclxuICAgICAgICAgICAgcmVzdWx0ID0gbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNwcmVmZXJyZWRMYW5ndWFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IGZvciB0aGUgcHJlZmVycmVkIGxhbmd1YWdlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IGxhbmd1YWdlIFN0cmluZyBvciBBcnJheSB0byBiZSB1c2VkIGFzIHByZWZlcnJlZExhbmd1YWdlIChjaGFuZ2luZyBhdCBydW50aW1lKVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gcHJlZmVycmVkIGxhbmd1YWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgaWYobGFuZ0tleSkge1xuICAgICAgICAgIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UobGFuZ0tleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRwcmVmZXJyZWRMYW5ndWFnZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjY2xvYWtDbGFzc05hbWVcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyZWQgY2xhc3MgbmFtZSBmb3IgYHRyYW5zbGF0ZS1jbG9ha2AgZGlyZWN0aXZlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gY2xvYWtDbGFzc05hbWVcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRjbG9ha0NsYXNzTmFtZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjZmFsbGJhY2tMYW5ndWFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IGZvciB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzIG9yIHNldHMgYSBuZXcgZmFsbGJhY2sgc3RhY2suXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBsYW5nS2V5IGxhbmd1YWdlIFN0cmluZyBvciBBcnJheSBvZiBmYWxsYmFjayBsYW5ndWFnZXMgdG8gYmUgdXNlZCAodG8gY2hhbmdlIHN0YWNrIGF0IHJ1bnRpbWUpXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfHxhcnJheX0gZmFsbGJhY2sgbGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuZmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIGlmIChsYW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgbGFuZ0tleSAhPT0gbnVsbCkge1xuICAgICAgICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XG5cbiAgICAgICAgICAvLyBhcyB3ZSBtaWdodCBoYXZlIGFuIGFzeW5jIGxvYWRlciBpbml0aWF0ZWQgYW5kIGEgbmV3IHRyYW5zbGF0aW9uIGxhbmd1YWdlIG1pZ2h0IGhhdmUgYmVlbiBkZWZpbmVkXG4gICAgICAgICAgLy8gd2UgbmVlZCB0byBhZGQgdGhlIHByb21pc2UgdG8gdGhlIHN0YWNrIGFsc28uIFNvIC0gaXRlcmF0ZS5cbiAgICAgICAgICBpZiAoJGxvYWRlckZhY3RvcnkpIHtcbiAgICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dKSB7XG4gICAgICAgICAgICAgICAgICBsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dID0gbG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgJHRyYW5zbGF0ZS51c2UoJHRyYW5zbGF0ZS51c2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmYWxsYmFja1dhc1N0cmluZykge1xuICAgICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2U7XG4gICAgICAgIH1cblxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VGYWxsYmFja0xhbmd1YWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTZXRzIHRoZSBmaXJzdCBrZXkgb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlIHN0YWNrIHRvIGJlIHVzZWQgZm9yIHRyYW5zbGF0aW9uLlxuICAgICAgICogVGhlcmVmb3JlIGFsbCBsYW5ndWFnZXMgaW4gdGhlIGZhbGxiYWNrIGFycmF5IEJFRk9SRSB0aGlzIGtleSB3aWxsIGJlIHNraXBwZWQhXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBsYW5nS2V5IENvbnRhaW5zIHRoZSBsYW5nS2V5IHRoZSBpdGVyYXRpb24gc2hhbGwgc3RhcnQgd2l0aC4gU2V0IHRvIGZhbHNlIGlmIHlvdSB3YW50IHRvXG4gICAgICAgKiBnZXQgYmFjayB0byB0aGUgd2hvbGUgc3RhY2tcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS51c2VGYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgaWYgKGxhbmdLZXkgIT09IHVuZGVmaW5lZCAmJiBsYW5nS2V5ICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKCFsYW5nS2V5KSB7XG4gICAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxhbmdLZXlQb3NpdGlvbiA9IGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsIGxhbmdLZXkpO1xuICAgICAgICAgICAgaWYgKGxhbmdLZXlQb3NpdGlvbiA+IC0xKSB7XG4gICAgICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPSBsYW5nS2V5UG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNwcm9wb3NlZExhbmd1YWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgb2YgbGFuZ3VhZ2UgdGhhdCBpcyBjdXJyZW50bHkgbG9hZGVkIGFzeW5jaHJvbm91c2x5LlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gbGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUucHJvcG9zZWRMYW5ndWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRuZXh0TGFuZztcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjc3RvcmFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyByZWdpc3RlcmVkIHN0b3JhZ2UuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7b2JqZWN0fSBTdG9yYWdlXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuc3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFN0b3JhZ2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggbGFuZ3VhZ2UgdG8gdXNlIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gVGhpcyBtZXRob2QgaXNcbiAgICAgICAqIHVzZWQgdG8gY2hhbmdlIGxhbmd1YWdlIGF0IHJ1bnRpbWUuIEl0IGFsc28gdGFrZXMgY2FyZSBvZiBzdG9yaW5nIHRoZSBsYW5ndWFnZVxuICAgICAgICoga2V5IGluIGEgY29uZmlndXJlZCBzdG9yZSB0byBsZXQgeW91ciBhcHAgcmVtZW1iZXIgdGhlIGNob29zZWQgbGFuZ3VhZ2UuXG4gICAgICAgKlxuICAgICAgICogV2hlbiB0cnlpbmcgdG8gJ3VzZScgYSBsYW5ndWFnZSB3aGljaCBpc24ndCBhdmFpbGFibGUgaXQgdHJpZXMgdG8gbG9hZCBpdFxuICAgICAgICogYXN5bmNocm9ub3VzbHkgd2l0aCByZWdpc3RlcmVkIGxvYWRlcnMuXG4gICAgICAgKlxuICAgICAgICogUmV0dXJucyBwcm9taXNlIG9iamVjdCB3aXRoIGxvYWRlZCBsYW5ndWFnZSBmaWxlIGRhdGFcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiAkdHJhbnNsYXRlLnVzZShcImVuX1VTXCIpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgKiAgICRzY29wZS50ZXh0ID0gJHRyYW5zbGF0ZShcIkhFTExPXCIpO1xuICAgICAgICogfSk7XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBMYW5ndWFnZSBrZXlcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gTGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUudXNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgIHJldHVybiAkdXNlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZVN0YXJ0Jywge2xhbmd1YWdlOiBrZXl9KTtcblxuICAgICAgICAvLyBUcnkgdG8gZ2V0IHRoZSBhbGlhc2VkIGxhbmd1YWdlIGtleVxuICAgICAgICB2YXIgYWxpYXNlZEtleSA9IG5lZ290aWF0ZUxvY2FsZShrZXkpO1xuICAgICAgICBpZiAoYWxpYXNlZEtleSkge1xuICAgICAgICAgIGtleSA9IGFsaWFzZWRLZXk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGVyZSBpc24ndCBhIHRyYW5zbGF0aW9uIHRhYmxlIGZvciB0aGUgbGFuZ3VhZ2Ugd2UndmUgcmVxdWVzdGVkLFxuICAgICAgICAvLyB3ZSBsb2FkIGl0IGFzeW5jaHJvbm91c2x5XG4gICAgICAgIGlmICghJHRyYW5zbGF0aW9uVGFibGVba2V5XSAmJiAkbG9hZGVyRmFjdG9yeSAmJiAhbGFuZ1Byb21pc2VzW2tleV0pIHtcbiAgICAgICAgICAkbmV4dExhbmcgPSBrZXk7XG4gICAgICAgICAgbGFuZ1Byb21pc2VzW2tleV0gPSBsb2FkQXN5bmMoa2V5KS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zKHRyYW5zbGF0aW9uLmtleSwgdHJhbnNsYXRpb24udGFibGUpO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbi5rZXkpO1xuXG4gICAgICAgICAgICB1c2VMYW5ndWFnZSh0cmFuc2xhdGlvbi5rZXkpO1xuICAgICAgICAgICAgaWYgKCRuZXh0TGFuZyA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICRuZXh0TGFuZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbjtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoJG5leHRMYW5nID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgJG5leHRMYW5nID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVycm9yJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChrZXkpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShrZXkpO1xuICAgICAgICAgIHVzZUxhbmd1YWdlKGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjc3RvcmFnZUtleVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUga2V5IGZvciB0aGUgc3RvcmFnZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0b3JhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuc3RvcmFnZUtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2VLZXkoKTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaXNQb3N0Q29tcGlsaW5nRW5hYmxlZFxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB3aGV0aGVyIHBvc3QgY29tcGlsaW5nIGlzIGVuYWJsZWQgb3Igbm90XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7Ym9vbH0gc3RvcmFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5pc1Bvc3RDb21waWxpbmdFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJHBvc3RDb21waWxpbmdFbmFibGVkO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNyZWZyZXNoXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZWZyZXNoZXMgYSB0cmFuc2xhdGlvbiB0YWJsZSBwb2ludGVkIGJ5IHRoZSBnaXZlbiBsYW5nS2V5LiBJZiBsYW5nS2V5IGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICAgKiB0aGUgbW9kdWxlIHdpbGwgZHJvcCBhbGwgZXhpc3RlbnQgdHJhbnNsYXRpb24gdGFibGVzIGFuZCBsb2FkIG5ldyB2ZXJzaW9uIG9mIHRob3NlIHdoaWNoXG4gICAgICAgKiBhcmUgY3VycmVudGx5IGluIHVzZS5cbiAgICAgICAqXG4gICAgICAgKiBSZWZyZXNoIG1lYW5zIHRoYXQgdGhlIG1vZHVsZSB3aWxsIGRyb3AgdGFyZ2V0IHRyYW5zbGF0aW9uIHRhYmxlIGFuZCB0cnkgdG8gbG9hZCBpdCBhZ2Fpbi5cbiAgICAgICAqXG4gICAgICAgKiBJbiBjYXNlIHRoZXJlIGFyZSBubyBsb2FkZXJzIHJlZ2lzdGVyZWQgdGhlIHJlZnJlc2goKSBtZXRob2Qgd2lsbCB0aHJvdyBhbiBFcnJvci5cbiAgICAgICAqXG4gICAgICAgKiBJZiB0aGUgbW9kdWxlIGlzIGFibGUgdG8gcmVmcmVzaCB0cmFuc2xhdGlvbiB0YWJsZXMgcmVmcmVzaCgpIG1ldGhvZCB3aWxsIGJyb2FkY2FzdFxuICAgICAgICogJHRyYW5zbGF0ZVJlZnJlc2hTdGFydCBhbmQgJHRyYW5zbGF0ZVJlZnJlc2hFbmQgZXZlbnRzLlxuICAgICAgICpcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiAvLyB0aGlzIHdpbGwgZHJvcCBhbGwgY3VycmVudGx5IGV4aXN0ZW50IHRyYW5zbGF0aW9uIHRhYmxlcyBhbmQgcmVsb2FkIHRob3NlIHdoaWNoIGFyZVxuICAgICAgICogLy8gY3VycmVudGx5IGluIHVzZVxuICAgICAgICogJHRyYW5zbGF0ZS5yZWZyZXNoKCk7XG4gICAgICAgKiAvLyB0aGlzIHdpbGwgcmVmcmVzaCBhIHRyYW5zbGF0aW9uIHRhYmxlIGZvciB0aGUgZW5fVVMgbGFuZ3VhZ2VcbiAgICAgICAqICR0cmFuc2xhdGUucmVmcmVzaCgnZW5fVVMnKTtcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleSBvZiB0aGUgdGFibGUsIHdoaWNoIGhhcyB0byBiZSByZWZyZXNoZWRcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtwcm9taXNlfSBQcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIGluIGNhc2UgYSB0cmFuc2xhdGlvbiB0YWJsZXMgcmVmcmVzaGluZ1xuICAgICAgICogcHJvY2VzcyBpcyBmaW5pc2hlZCBzdWNjZXNzZnVsbHksIGFuZCByZWplY3QgaWYgbm90LlxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnJlZnJlc2ggPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICBpZiAoISRsb2FkZXJGYWN0b3J5KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IHJlZnJlc2ggdHJhbnNsYXRpb24gdGFibGUsIG5vIGxvYWRlciByZWdpc3RlcmVkIScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlKCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaEVuZCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWZyZXNoRW5kJywge2xhbmd1YWdlOiBsYW5nS2V5fSk7XG4gICAgICAgIH1cblxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaFN0YXJ0Jywge2xhbmd1YWdlOiBsYW5nS2V5fSk7XG5cbiAgICAgICAgaWYgKCFsYW5nS2V5KSB7XG4gICAgICAgICAgLy8gaWYgdGhlcmUncyBubyBsYW5ndWFnZSBrZXkgc3BlY2lmaWVkIHdlIHJlZnJlc2ggQUxMIFRIRSBUSElOR1MhXG4gICAgICAgICAgdmFyIHRhYmxlcyA9IFtdLCBsb2FkaW5nS2V5cyA9IHt9O1xuXG4gICAgICAgICAgLy8gcmVsb2FkIHJlZ2lzdGVyZWQgZmFsbGJhY2sgbGFuZ3VhZ2VzXG4gICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgIHRhYmxlcy5wdXNoKGxvYWRBc3luYygkZmFsbGJhY2tMYW5ndWFnZVtpXSkpO1xuICAgICAgICAgICAgICBsb2FkaW5nS2V5c1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlbG9hZCBjdXJyZW50bHkgdXNlZCBsYW5ndWFnZVxuICAgICAgICAgIGlmICgkdXNlcyAmJiAhbG9hZGluZ0tleXNbJHVzZXNdKSB7XG4gICAgICAgICAgICB0YWJsZXMucHVzaChsb2FkQXN5bmMoJHVzZXMpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkcS5hbGwodGFibGVzKS50aGVuKGZ1bmN0aW9uICh0YWJsZURhdGEpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJsZURhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgIGlmICgkdHJhbnNsYXRpb25UYWJsZVtkYXRhLmtleV0pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgJHRyYW5zbGF0aW9uVGFibGVbZGF0YS5rZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRyYW5zbGF0aW9ucyhkYXRhLmtleSwgZGF0YS50YWJsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICgkdXNlcykge1xuICAgICAgICAgICAgICB1c2VMYW5ndWFnZSgkdXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIGlmICgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSkge1xuXG4gICAgICAgICAgbG9hZEFzeW5jKGxhbmdLZXkpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyhkYXRhLmtleSwgZGF0YS50YWJsZSk7XG4gICAgICAgICAgICBpZiAobGFuZ0tleSA9PT0gJHVzZXMpIHtcbiAgICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0sIHJlamVjdCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaW5zdGFudFxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIHRyYW5zbGF0aW9uIGluc3RhbnRseSBmcm9tIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBsb2FkZWQgdHJhbnNsYXRpb24uIEFsbCBydWxlc1xuICAgICAgICogcmVnYXJkaW5nIHRoZSBjdXJyZW50IGxhbmd1YWdlLCB0aGUgcHJlZmVycmVkIGxhbmd1YWdlIG9mIGV2ZW4gZmFsbGJhY2sgbGFuZ3VhZ2VzIHdpbGwgYmVcbiAgICAgICAqIHVzZWQgZXhjZXB0IGFueSBwcm9taXNlIGhhbmRsaW5nLiBJZiBhIGxhbmd1YWdlIHdhcyBub3QgZm91bmQsIGFuIGFzeW5jaHJvbm91cyBsb2FkaW5nXG4gICAgICAgKiB3aWxsIGJlIGludm9rZWQgaW4gdGhlIGJhY2tncm91bmQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgY2FuIGJlIG9wdGlvbmFsbHkgYW4gYXJyYXkgb2YgdHJhbnNsYXRpb24gaWRzIHdoaWNoXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzIHRoYXQgdGhlIGZ1bmN0aW9uJ3MgcHJvbWlzZSByZXR1cm5zIGFuIG9iamVjdCB3aGVyZVxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCBrZXkgaXMgdGhlIHRyYW5zbGF0aW9uIGlkIGFuZCB0aGUgdmFsdWUgdGhlIHRyYW5zbGF0aW9uLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IGludGVycG9sYXRlUGFyYW1zIFBhcmFtc1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGludGVycG9sYXRpb25JZCBUaGUgaWQgb2YgdGhlIGludGVycG9sYXRpb24gdG8gdXNlXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkge1xuXG4gICAgICAgIC8vIERldGVjdCB1bmRlZmluZWQgYW5kIG51bGwgdmFsdWVzIHRvIHNob3J0ZW4gdGhlIGV4ZWN1dGlvbiBhbmQgcHJldmVudCBleGNlcHRpb25zXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbklkID09PSBudWxsIHx8IGFuZ3VsYXIuaXNVbmRlZmluZWQodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIER1Y2sgZGV0ZWN0aW9uOiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIGEgYnVuY2ggb2YgdHJhbnNsYXRpb25zIHdhcyByZXF1ZXN0ZWQuXG4gICAgICAgIC8vIFRoZSByZXN1bHQgaXMgYW4gb2JqZWN0LlxuICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgYyA9IHRyYW5zbGF0aW9uSWQubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHRzW3RyYW5zbGF0aW9uSWRbaV1dID0gJHRyYW5zbGF0ZS5pbnN0YW50KHRyYW5zbGF0aW9uSWRbaV0sIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIGRpc2NhcmRlZCB1bmFjY2VwdGFibGUgdmFsdWVzLiBTbyB3ZSBqdXN0IG5lZWQgdG8gdmVyaWZ5IGlmIHRyYW5zbGF0aW9uSWQgaXMgZW1wdHkgU3RyaW5nXG4gICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHRyYW5zbGF0aW9uSWQpICYmIHRyYW5zbGF0aW9uSWQubGVuZ3RoIDwgMSkge1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJpbSBvZmYgYW55IHdoaXRlc3BhY2VcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJpbS5hcHBseSh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQsIHBvc3NpYmxlTGFuZ0tleXMgPSBbXTtcbiAgICAgICAgaWYgKCRwcmVmZXJyZWRMYW5ndWFnZSkge1xuICAgICAgICAgIHBvc3NpYmxlTGFuZ0tleXMucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkdXNlcykge1xuICAgICAgICAgIHBvc3NpYmxlTGFuZ0tleXMucHVzaCgkdXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHBvc3NpYmxlTGFuZ0tleXMgPSBwb3NzaWJsZUxhbmdLZXlzLmNvbmNhdCgkZmFsbGJhY2tMYW5ndWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGQgPSBwb3NzaWJsZUxhbmdLZXlzLmxlbmd0aDsgaiA8IGQ7IGorKykge1xuICAgICAgICAgIHZhciBwb3NzaWJsZUxhbmdLZXkgPSBwb3NzaWJsZUxhbmdLZXlzW2pdO1xuICAgICAgICAgIGlmICgkdHJhbnNsYXRpb25UYWJsZVtwb3NzaWJsZUxhbmdLZXldKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mICR0cmFuc2xhdGlvblRhYmxlW3Bvc3NpYmxlTGFuZ0tleV1bdHJhbnNsYXRpb25JZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlc3VsdCAmJiByZXN1bHQgIT09ICcnKSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRyYW5zbGF0aW9uIG9mIGRlZmF1bHQgaW50ZXJwb2xhdG9yIGlmIG5vdCBmb3VuZCBhbnl0aGluZy5cbiAgICAgICAgICByZXN1bHQgPSBkZWZhdWx0SW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zKTtcbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdmVyc2lvbkluZm9cbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmVyc2lvbiBpbmZvcm1hdGlvbiBmb3IgdGhlIGFuZ3VsYXItdHJhbnNsYXRlIGxpYnJhcnlcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGFuZ3VsYXItdHJhbnNsYXRlIHZlcnNpb25cbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS52ZXJzaW9uSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2xvYWRlckNhY2hlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBkZWZpbmVkIGxvYWRlckNhY2hlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW58c3RyaW5nfG9iamVjdH0gY3VycmVudCB2YWx1ZSBvZiBsb2FkZXJDYWNoZVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmxvYWRlckNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbG9hZGVyQ2FjaGU7XG4gICAgICB9O1xuXG4gICAgICBpZiAoJGxvYWRlckZhY3RvcnkpIHtcblxuICAgICAgICAvLyBJZiBhdCBsZWFzdCBvbmUgYXN5bmMgbG9hZGVyIGlzIGRlZmluZWQgYW5kIHRoZXJlIGFyZSBub1xuICAgICAgICAvLyAoZGVmYXVsdCkgdHJhbnNsYXRpb25zIGF2YWlsYWJsZSB3ZSBzaG91bGQgdHJ5IHRvIGxvYWQgdGhlbS5cbiAgICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKCR0cmFuc2xhdGlvblRhYmxlLCB7fSkpIHtcbiAgICAgICAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsc28sIGlmIHRoZXJlIGFyZSBhbnkgZmFsbGJhY2sgbGFuZ3VhZ2UgcmVnaXN0ZXJlZCwgd2Ugc3RhcnRcbiAgICAgICAgLy8gbG9hZGluZyB0aGVtIGFzeW5jaHJvbm91c2x5IGFzIHNvb24gYXMgd2UgY2FuLlxuICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHByb2Nlc3NBc3luY1Jlc3VsdCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zKHRyYW5zbGF0aW9uLmtleSwgdHJhbnNsYXRpb24udGFibGUpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHsgbGFuZ3VhZ2U6IHRyYW5zbGF0aW9uLmtleSB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbjtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSA9IGxvYWRBc3luYygkZmFsbGJhY2tMYW5ndWFnZVtpXSkudGhlbihwcm9jZXNzQXN5bmNSZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gJHRyYW5zbGF0ZTtcbiAgICB9XG4gIF07XG59XSk7XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cbiAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZXMgYW5ndWxhcidzIGAkaW50ZXJwb2xhdGVgIHNlcnZpY2VzIHRvIGludGVycG9sYXRlIHN0cmluZ3MgYWdhaW5zdCBzb21lIHZhbHVlcy5cbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9ICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IgSW50ZXJwb2xhdG9yIHNlcnZpY2VcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5mYWN0b3J5KCckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nLCBbJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uICgkaW50ZXJwb2xhdGUpIHtcblxuICB2YXIgJHRyYW5zbGF0ZUludGVycG9sYXRvciA9IHt9LFxuICAgICAgJGxvY2FsZSxcbiAgICAgICRpZGVudGlmaWVyID0gJ2RlZmF1bHQnLFxuICAgICAgJHNhbml0aXplVmFsdWVTdHJhdGVneSA9IG51bGwsXG4gICAgICAvLyBtYXAgb2YgYWxsIHNhbml0aXplIHN0cmF0ZWdpZXNcbiAgICAgIHNhbml0aXplVmFsdWVTdHJhdGVnaWVzID0ge1xuICAgICAgICBlc2NhcGVkOiBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyYW1zLCBrZXkpKSB7XG4gICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2PjwvZGl2PicpLnRleHQocGFyYW1zW2tleV0pLmh0bWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICB2YXIgc2FuaXRpemVQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNhbml0aXplVmFsdWVTdHJhdGVnaWVzWyRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3ldKSkge1xuICAgICAgcmVzdWx0ID0gc2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXNbJHNhbml0aXplVmFsdWVTdHJhdGVneV0ocGFyYW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gcGFyYW1zO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jc2V0TG9jYWxlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBjdXJyZW50IGxvY2FsZSAodGhpcyBpcyBjdXJyZW50bHkgbm90IHVzZSBpbiB0aGlzIGludGVycG9sYXRpb24pLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIExhbmd1YWdlIGtleSBvciBsb2NhbGUuXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAkbG9jYWxlID0gbG9jYWxlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIGFuIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJwb2xhdGlvbiBzZXJ2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSAkaWRlbnRpZmllclxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5nZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJGlkZW50aWZpZXI7XG4gIH07XG5cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5ID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNpbnRlcnBvbGF0ZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEludGVycG9sYXRlcyBnaXZlbiBzdHJpbmcgYWdhaW5zIGdpdmVuIGludGVycG9sYXRlIHBhcmFtcyB1c2luZyBhbmd1bGFyc1xuICAgKiBgJGludGVycG9sYXRlYCBzZXJ2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIChzdHJpbmcsIGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgaWYgKCRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3kpIHtcbiAgICAgIGludGVycG9sYXRlUGFyYW1zID0gc2FuaXRpemVQYXJhbXMoaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgIH1cbiAgICByZXR1cm4gJGludGVycG9sYXRlKHN0cmluZykoaW50ZXJwb2xhdGVQYXJhbXMgfHwge30pO1xuICB9O1xuXG4gIHJldHVybiAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLmNvbnN0YW50KCckU1RPUkFHRV9LRVknLCAnTkdfVFJBTlNMQVRFX0xBTkdfS0VZJyk7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlXG4gKiBAcmVxdWlyZXMgJGNvbXBpbGVcbiAqIEByZXF1aXJlcyAkZmlsdGVyXG4gKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVHJhbnNsYXRlcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBlaXRoZXIgdGhyb3VnaCBhdHRyaWJ1dGUgb3IgRE9NIGNvbnRlbnQuXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgYHRyYW5zbGF0ZWAgZmlsdGVyIHRvIHRyYW5zbGF0ZSB0cmFuc2xhdGlvbiBpZC4gSXQgcG9zc2libGUgdG9cbiAqIHBhc3MgYW4gb3B0aW9uYWwgYHRyYW5zbGF0ZS12YWx1ZXNgIG9iamVjdCBsaXRlcmFsIGFzIHN0cmluZyBpbnRvIHRyYW5zbGF0aW9uIGlkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlIFRyYW5zbGF0aW9uIGlkIHdoaWNoIGNvdWxkIGJlIGVpdGhlciBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLXZhbHVlcyBWYWx1ZXMgdG8gcGFzcyBpbnRvIHRyYW5zbGF0aW9uIGlkLiBDYW4gYmUgcGFzc2VkIGFzIG9iamVjdCBsaXRlcmFsIHN0cmluZyBvciBpbnRlcnBvbGF0ZWQgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtYXR0ci1BVFRSIHRyYW5zbGF0ZSBUcmFuc2xhdGlvbiBpZCBhbmQgcHV0IGl0IGludG8gQVRUUiBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1kZWZhdWx0IHdpbGwgYmUgdXNlZCB1bmxlc3MgdHJhbnNsYXRpb24gd2FzIHN1Y2Nlc3NmdWxcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHRyYW5zbGF0ZS1jb21waWxlIChkZWZhdWx0IHRydWUgaWYgcHJlc2VudCkgZGVmaW5lcyBsb2NhbGx5IGFjdGl2YXRpb24gb2Yge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VQb3N0Q29tcGlsaW5nfVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU+VFJBTlNMQVRJT05fSUQ8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cInt7dHJhbnNsYXRpb25JZH19XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPnt7dHJhbnNsYXRpb25JZH19PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiPldJVEhfVkFMVUVTPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPldJVEhfVkFMVUVTPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS1hdHRyLXRpdGxlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fSdcbiAgICAgICAgfSkucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JykuY29udHJvbGxlcignVHJhbnNsYXRlQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICRzY29wZS52YWx1ZXMgPSB7XG4gICAgICAgICAgdmFsdWU6IDc4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjZW5hcmlvLmpzXCI+XG4gICAgICBpdCgnc2hvdWxkIHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5qZWN0KGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkY29tcGlsZSkge1xuICAgICAgICAgICRyb290U2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT1cInt7dHJhbnNsYXRpb25JZH19XCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT5UUkFOU0xBVElPTl9JRDwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU+e3t0cmFuc2xhdGlvbklkfX08L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlIHRyYW5zbGF0ZS1hdHRyLXRpdGxlPVwiVFJBTlNMQVRJT05fSURcIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYXR0cigndGl0bGUnKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGUnLCBbJyR0cmFuc2xhdGUnLCAnJHEnLCAnJGludGVycG9sYXRlJywgJyRjb21waWxlJywgJyRwYXJzZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCR0cmFuc2xhdGUsICRxLCAkaW50ZXJwb2xhdGUsICRjb21waWxlLCAkcGFyc2UsICRyb290U2NvcGUpIHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUUnLFxuICAgIHNjb3BlOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCwgdEF0dHIpIHtcblxuICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlc0V4aXN0ID0gKHRBdHRyLnRyYW5zbGF0ZVZhbHVlcykgP1xuICAgICAgICB0QXR0ci50cmFuc2xhdGVWYWx1ZXMgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVJbnRlcnBvbGF0aW9uID0gKHRBdHRyLnRyYW5zbGF0ZUludGVycG9sYXRpb24pID9cbiAgICAgICAgdEF0dHIudHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlRXhpc3QgPSB0RWxlbWVudFswXS5vdXRlckhUTUwubWF0Y2goL3RyYW5zbGF0ZS12YWx1ZS0rL2kpO1xuXG4gICAgICB2YXIgaW50ZXJwb2xhdGVSZWdFeHAgPSBcIl4oLiopKFwiICsgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkgKyBcIi4qXCIgKyAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCkgKyBcIikoLiopXCIsXG4gICAgICAgICAgd2F0Y2hlclJlZ0V4cCA9IFwiXiguKilcIiArICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpICsgXCIoLiopXCIgKyAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCkgKyBcIiguKilcIjtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxpbmtGbihzY29wZSwgaUVsZW1lbnQsIGlBdHRyKSB7XG5cbiAgICAgICAgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMgPSB7fTtcbiAgICAgICAgc2NvcGUucHJlVGV4dCA9IFwiXCI7XG4gICAgICAgIHNjb3BlLnBvc3RUZXh0ID0gXCJcIjtcbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uSWRzID0ge307XG5cbiAgICAgICAgLy8gRW5zdXJlcyBhbnkgY2hhbmdlIG9mIHRoZSBhdHRyaWJ1dGUgXCJ0cmFuc2xhdGVcIiBjb250YWluaW5nIHRoZSBpZCB3aWxsXG4gICAgICAgIC8vIGJlIHJlLXN0b3JlZCB0byB0aGUgc2NvcGUncyBcInRyYW5zbGF0aW9uSWRcIi5cbiAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgbm8gY29udGVudCwgdGhlIGVsZW1lbnQncyB0ZXh0IHZhbHVlICh3aGl0ZSBzcGFjZXMgdHJpbW1lZCBvZmYpIHdpbGwgYmUgdXNlZC5cbiAgICAgICAgdmFyIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgIGlmIChhbmd1bGFyLmVxdWFscyh0cmFuc2xhdGlvbklkICwgJycpIHx8ICFhbmd1bGFyLmlzRGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0cmFuc2xhdGlvbiBpZCBieSBpbm5lciBodG1sIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGVNYXRjaGVzID0gaUVsZW1lbnQudGV4dCgpLm1hdGNoKGludGVycG9sYXRlUmVnRXhwKTtcbiAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRyYW5zbGF0aW9uIGlkIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGludGVycG9sYXRlTWF0Y2hlcykpIHtcbiAgICAgICAgICAgICAgc2NvcGUucHJlVGV4dCA9IGludGVycG9sYXRlTWF0Y2hlc1sxXTtcbiAgICAgICAgICAgICAgc2NvcGUucG9zdFRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbM107XG4gICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9ICRpbnRlcnBvbGF0ZShpbnRlcnBvbGF0ZU1hdGNoZXNbMl0pKHNjb3BlLiRwYXJlbnQpO1xuICAgICAgICAgICAgICB3YXRjaGVyTWF0Y2hlcyA9IGlFbGVtZW50LnRleHQoKS5tYXRjaCh3YXRjaGVyUmVnRXhwKTtcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh3YXRjaGVyTWF0Y2hlcykgJiYgd2F0Y2hlck1hdGNoZXNbMl0gJiYgd2F0Y2hlck1hdGNoZXNbMl0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKHdhdGNoZXJNYXRjaGVzWzJdLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9IGlFbGVtZW50LnRleHQoKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9ic2VydmVBdHRyaWJ1dGVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGVBdHRyKSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUodHJhbnNsYXRlQXR0ciwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzW3RyYW5zbGF0ZUF0dHJdID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGUnLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIHRyYW5zbGF0ZUF0dHIgaW4gaUF0dHIpIHtcbiAgICAgICAgICBpZihpQXR0ci5oYXNPd25Qcm9wZXJ0eSh0cmFuc2xhdGVBdHRyKSAmJiB0cmFuc2xhdGVBdHRyLnN1YnN0cigwLCAxMykgPT09ICd0cmFuc2xhdGVBdHRyJykge1xuICAgICAgICAgICAgb2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uKHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGVEZWZhdWx0JywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGVmYXVsdFRleHQgPSB2YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlc0V4aXN0KSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZVZhbHVlcycsIGZ1bmN0aW9uIChpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgaWYgKGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcywgJHBhcnNlKGludGVycG9sYXRlUGFyYW1zKShzY29wZS4kcGFyZW50KSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlRXhpc3QpIHtcbiAgICAgICAgICB2YXIgb2JzZXJ2ZVZhbHVlQXR0cmlidXRlID0gZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZShhdHRyTmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gYW5ndWxhci5sb3dlcmNhc2UoYXR0ck5hbWUuc3Vic3RyKDE0LCAxKSkgKyBhdHRyTmFtZS5zdWJzdHIoMTUpO1xuICAgICAgICAgICAgICBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtc1thdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIGlBdHRyKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlBdHRyLCBhdHRyKSAmJiBhdHRyLnN1YnN0cigwLCAxNCkgPT09ICd0cmFuc2xhdGVWYWx1ZScgJiYgYXR0ciAhPT0gJ3RyYW5zbGF0ZVZhbHVlcycpIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZVZhbHVlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1hc3RlciB1cGRhdGUgZnVuY3Rpb25cbiAgICAgICAgdmFyIHVwZGF0ZVRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdHJhbnNsYXRpb25JZHMpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHRyYW5zbGF0aW9uSWRzW2tleV0pIHtcbiAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb24oa2V5LCB0cmFuc2xhdGlvbklkc1trZXldLCBzY29wZSwgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBQdXQgdHJhbnNsYXRpb24gcHJvY2Vzc2luZyBmdW5jdGlvbiBvdXRzaWRlIGxvb3BcbiAgICAgICAgdmFyIHVwZGF0ZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24odHJhbnNsYXRlQXR0ciwgdHJhbnNsYXRpb25JZCwgc2NvcGUsIGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbilcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uLCBzY29wZSwgdHJ1ZSwgdHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIHNjb3BlLCBmYWxzZSwgdHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBwbHlUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSwgc2NvcGUsIHN1Y2Nlc3NmdWwsIHRyYW5zbGF0ZUF0dHIpIHtcbiAgICAgICAgICBpZiAodHJhbnNsYXRlQXR0ciA9PT0gJ3RyYW5zbGF0ZScpIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdHJhbnNsYXRlIGludG8gaW5uZXJIVE1MXG4gICAgICAgICAgICBpZiAoIXN1Y2Nlc3NmdWwgJiYgdHlwZW9mIHNjb3BlLmRlZmF1bHRUZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHNjb3BlLmRlZmF1bHRUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaUVsZW1lbnQuaHRtbChzY29wZS5wcmVUZXh0ICsgdmFsdWUgKyBzY29wZS5wb3N0VGV4dCk7XG4gICAgICAgICAgICB2YXIgZ2xvYmFsbHlFbmFibGVkID0gJHRyYW5zbGF0ZS5pc1Bvc3RDb21waWxpbmdFbmFibGVkKCk7XG4gICAgICAgICAgICB2YXIgbG9jYWxseURlZmluZWQgPSB0eXBlb2YgdEF0dHIudHJhbnNsYXRlQ29tcGlsZSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICB2YXIgbG9jYWxseUVuYWJsZWQgPSBsb2NhbGx5RGVmaW5lZCAmJiB0QXR0ci50cmFuc2xhdGVDb21waWxlICE9PSAnZmFsc2UnO1xuICAgICAgICAgICAgaWYgKChnbG9iYWxseUVuYWJsZWQgJiYgIWxvY2FsbHlEZWZpbmVkKSB8fCBsb2NhbGx5RW5hYmxlZCkge1xuICAgICAgICAgICAgICAkY29tcGlsZShpRWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRyYW5zbGF0ZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGlmICghc3VjY2Vzc2Z1bCAmJiB0eXBlb2Ygc2NvcGUuZGVmYXVsdFRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gc2NvcGUuZGVmYXVsdFRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IGlBdHRyLiRhdHRyW3RyYW5zbGF0ZUF0dHJdLnN1YnN0cigxNSk7XG4gICAgICAgICAgICBpRWxlbWVudC5hdHRyKGF0dHJpYnV0ZU5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKCdpbnRlcnBvbGF0ZVBhcmFtcycsIHVwZGF0ZVRyYW5zbGF0aW9ucywgdHJ1ZSk7XG5cbiAgICAgICAgLy8gRW5zdXJlcyB0aGUgdGV4dCB3aWxsIGJlIHJlZnJlc2hlZCBhZnRlciB0aGUgY3VycmVudCBsYW5ndWFnZSB3YXMgY2hhbmdlZFxuICAgICAgICAvLyB3LyAkdHJhbnNsYXRlLnVzZSguLi4pXG4gICAgICAgIHZhciB1bmJpbmQgPSAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZUNoYW5nZVN1Y2Nlc3MnLCB1cGRhdGVUcmFuc2xhdGlvbnMpO1xuXG4gICAgICAgIC8vIGVuc3VyZSB0cmFuc2xhdGlvbiB3aWxsIGJlIGxvb2tlZCB1cCBhdCBsZWFzdCBvbmVcbiAgICAgICAgaWYgKGlFbGVtZW50LnRleHQoKS5sZW5ndGgpIHtcbiAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKCcnKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHVuYmluZCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVDbG9ha1xuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqIEByZXF1aXJlcyAkdHJhbnNsYXRlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqICRkZXNjcmlwdGlvblxuICogQWRkcyBhIGB0cmFuc2xhdGUtY2xvYWtgIGNsYXNzIG5hbWUgdG8gdGhlIGdpdmVuIGVsZW1lbnQgd2hlcmUgdGhpcyBkaXJlY3RpdmVcbiAqIGlzIGFwcGxpZWQgaW5pdGlhbGx5IGFuZCByZW1vdmVzIGl0LCBvbmNlIGEgbG9hZGVyIGhhcyBmaW5pc2hlZCBsb2FkaW5nLlxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSB1c2VkIHRvIHByZXZlbnQgaW5pdGlhbCBmbGlja2VyaW5nIHdoZW4gbG9hZGluZyB0cmFuc2xhdGlvblxuICogZGF0YSBhc3luY2hyb25vdXNseS5cbiAqXG4gKiBUaGUgY2xhc3MgbmFtZSBpcyBkZWZpbmVkIGluXG4gKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjY2xvYWtDbGFzc05hbWUgJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1jbG9hayBJZiBhIHRyYW5zbGF0aW9uSWQgaXMgcHJvdmlkZWQsIGl0IHdpbGwgYmUgdXNlZCBmb3Igc2hvd2luZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgaGlkaW5nIHRoZSBjbG9hay4gQmFzaWNhbGx5IGl0IHJlbGllcyBvbiB0aGUgdHJhbnNsYXRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUuXG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUNsb2FrJywgWyckcm9vdFNjb3BlJywgJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHRyYW5zbGF0ZSkge1xuXG4gIHJldHVybiB7XG4gICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50KSB7XG4gICAgICB2YXIgYXBwbHlDbG9hayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3MoJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVDbG9hayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdEVsZW1lbnQucmVtb3ZlQ2xhc3MoJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVMaXN0ZW5lciA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVDbG9haygpO1xuICAgICAgICByZW1vdmVMaXN0ZW5lcigpO1xuICAgICAgICByZW1vdmVMaXN0ZW5lciA9IG51bGw7XG4gICAgICB9KTtcbiAgICAgIGFwcGx5Q2xvYWsoKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxpbmtGbihzY29wZSwgaUVsZW1lbnQsIGlBdHRyKSB7XG4gICAgICAgIC8vIFJlZ2lzdGVyIGEgd2F0Y2hlciBmb3IgdGhlIGRlZmluZWQgdHJhbnNsYXRpb24gYWxsb3dpbmcgYSBmaW5lIHR1bmVkIGNsb2FrXG4gICAgICAgIGlmIChpQXR0ci50cmFuc2xhdGVDbG9hayAmJiBpQXR0ci50cmFuc2xhdGVDbG9hay5sZW5ndGgpIHtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlQ2xvYWsnLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkKS50aGVuKHJlbW92ZUNsb2FrLCBhcHBseUNsb2FrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5maWx0ZXI6dHJhbnNsYXRlXG4gKiBAcmVxdWlyZXMgJHBhcnNlXG4gKiBAcmVxdWlyZXMgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gKiBAZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZXMgYCR0cmFuc2xhdGVgIHNlcnZpY2UgdG8gdHJhbnNsYXRlIGNvbnRlbnRzLiBBY2NlcHRzIGludGVycG9sYXRlIHBhcmFtZXRlcnNcbiAqIHRvIHBhc3MgZHluYW1pemVkIHZhbHVlcyB0aG91Z2ggdHJhbnNsYXRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uSWQgQSB0cmFuc2xhdGlvbiBpZCB0byBiZSB0cmFuc2xhdGVkLlxuICogQHBhcmFtIHsqPX0gaW50ZXJwb2xhdGVQYXJhbXMgT3B0aW9uYWwgb2JqZWN0IGxpdGVyYWwgKGFzIGhhc2ggb3Igc3RyaW5nKSB0byBwYXNzIHZhbHVlcyBpbnRvIHRyYW5zbGF0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRyYW5zbGF0ZWQgdGV4dC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRyYW5zbGF0ZUN0cmxcIj5cblxuICAgICAgICA8cHJlPnt7ICdUUkFOU0xBVElPTl9JRCcgfCB0cmFuc2xhdGUgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyB0cmFuc2xhdGlvbklkIHwgdHJhbnNsYXRlIH19PC9wcmU+XG4gICAgICAgIDxwcmU+e3sgJ1dJVEhfVkFMVUVTJyB8IHRyYW5zbGF0ZTone3ZhbHVlOiA1fScgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyAnV0lUSF9WQUxVRVMnIHwgdHJhbnNsYXRlOnZhbHVlcyB9fTwvcHJlPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicsIHtcbiAgICAgICAgICAnVFJBTlNMQVRJT05fSUQnOiAnSGVsbG8gdGhlcmUhJyxcbiAgICAgICAgICAnV0lUSF9WQUxVRVMnOiAnVGhlIGZvbGxvd2luZyB2YWx1ZSBpcyBkeW5hbWljOiB7e3ZhbHVlfX0nXG4gICAgICAgIH0pO1xuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JykuY29udHJvbGxlcignVHJhbnNsYXRlQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICRzY29wZS52YWx1ZXMgPSB7XG4gICAgICAgICAgdmFsdWU6IDc4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5maWx0ZXIoJ3RyYW5zbGF0ZScsIFsnJHBhcnNlJywgJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJHBhcnNlLCAkdHJhbnNsYXRlKSB7XG4gIHZhciB0cmFuc2xhdGVGaWx0ZXIgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb24pIHtcblxuICAgIGlmICghYW5ndWxhci5pc09iamVjdChpbnRlcnBvbGF0ZVBhcmFtcykpIHtcbiAgICAgIGludGVycG9sYXRlUGFyYW1zID0gJHBhcnNlKGludGVycG9sYXRlUGFyYW1zKSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJHRyYW5zbGF0ZS5pbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uKTtcbiAgfTtcblxuICAvLyBTaW5jZSBBbmd1bGFySlMgMS4zLCBmaWx0ZXJzIHdoaWNoIGFyZSBub3Qgc3RhdGVsZXNzIChkZXBlbmRpbmcgYXQgdGhlIHNjb3BlKVxuICAvLyBoYXZlIHRvIGV4cGxpY2l0IGRlZmluZSB0aGlzIGJlaGF2aW9yLlxuICB0cmFuc2xhdGVGaWx0ZXIuJHN0YXRlZnVsID0gdHJ1ZTtcblxuICByZXR1cm4gdHJhbnNsYXRlRmlsdGVyO1xufV0pO1xuXG4vKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4zLjIwXG4gKiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuICogTGljZW5zZTogTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cblxudmFyICRzYW5pdGl6ZU1pbkVyciA9IGFuZ3VsYXIuJCRtaW5FcnIoJyRzYW5pdGl6ZScpO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nU2FuaXRpemVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICMgbmdTYW5pdGl6ZVxuICpcbiAqIFRoZSBgbmdTYW5pdGl6ZWAgbW9kdWxlIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gc2FuaXRpemUgSFRNTC5cbiAqXG4gKlxuICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9XCJuZ1Nhbml0aXplXCI+PC9kaXY+XG4gKlxuICogU2VlIHtAbGluayBuZ1Nhbml0aXplLiRzYW5pdGl6ZSBgJHNhbml0aXplYH0gZm9yIHVzYWdlLlxuICovXG5cbi8qXG4gKiBIVE1MIFBhcnNlciBCeSBNaXNrbyBIZXZlcnkgKG1pc2tvQGhldmVyeS5jb20pXG4gKiBiYXNlZCBvbjogIEhUTUwgUGFyc2VyIEJ5IEpvaG4gUmVzaWcgKGVqb2huLm9yZylcbiAqIE9yaWdpbmFsIGNvZGUgYnkgRXJpayBBcnZpZHNzb24sIE1vemlsbGEgUHVibGljIExpY2Vuc2VcbiAqIGh0dHA6Ly9lcmlrLmVhZS5uZXQvc2ltcGxlaHRtbHBhcnNlci9zaW1wbGVodG1scGFyc2VyLmpzXG4gKlxuICogLy8gVXNlIGxpa2Ugc286XG4gKiBodG1sUGFyc2VyKGh0bWxTdHJpbmcsIHtcbiAqICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycywgdW5hcnkpIHt9LFxuICogICAgIGVuZDogZnVuY3Rpb24odGFnKSB7fSxcbiAqICAgICBjaGFyczogZnVuY3Rpb24odGV4dCkge30sXG4gKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cbiAqIH0pO1xuICpcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzYW5pdGl6ZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICAgVGhlIGlucHV0IGlzIHNhbml0aXplZCBieSBwYXJzaW5nIHRoZSBIVE1MIGludG8gdG9rZW5zLiBBbGwgc2FmZSB0b2tlbnMgKGZyb20gYSB3aGl0ZWxpc3QpIGFyZVxuICogICB0aGVuIHNlcmlhbGl6ZWQgYmFjayB0byBwcm9wZXJseSBlc2NhcGVkIGh0bWwgc3RyaW5nLiBUaGlzIG1lYW5zIHRoYXQgbm8gdW5zYWZlIGlucHV0IGNhbiBtYWtlXG4gKiAgIGl0IGludG8gdGhlIHJldHVybmVkIHN0cmluZywgaG93ZXZlciwgc2luY2Ugb3VyIHBhcnNlciBpcyBtb3JlIHN0cmljdCB0aGFuIGEgdHlwaWNhbCBicm93c2VyXG4gKiAgIHBhcnNlciwgaXQncyBwb3NzaWJsZSB0aGF0IHNvbWUgb2JzY3VyZSBpbnB1dCwgd2hpY2ggd291bGQgYmUgcmVjb2duaXplZCBhcyB2YWxpZCBIVE1MIGJ5IGFcbiAqICAgYnJvd3Nlciwgd29uJ3QgbWFrZSBpdCB0aHJvdWdoIHRoZSBzYW5pdGl6ZXIuIFRoZSBpbnB1dCBtYXkgYWxzbyBjb250YWluIFNWRyBtYXJrdXAuXG4gKiAgIFRoZSB3aGl0ZWxpc3QgaXMgY29uZmlndXJlZCB1c2luZyB0aGUgZnVuY3Rpb25zIGBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdGAgYW5kXG4gKiAgIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgIG9mIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyIGAkY29tcGlsZVByb3ZpZGVyYH0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgSFRNTCBpbnB1dC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFNhbml0aXplZCBIVE1MLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJzYW5pdGl6ZUV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzYW5pdGl6ZUV4YW1wbGUnLCBbJ25nU2FuaXRpemUnXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHNjZScsIGZ1bmN0aW9uKCRzY29wZSwgJHNjZSkge1xuICAgICAgICAgICAgICRzY29wZS5zbmlwcGV0ID1cbiAgICAgICAgICAgICAgICc8cCBzdHlsZT1cImNvbG9yOmJsdWVcIj5hbiBodG1sXFxuJyArXG4gICAgICAgICAgICAgICAnPGVtIG9ubW91c2VvdmVyPVwidGhpcy50ZXh0Q29udGVudD1cXCdQV04zRCFcXCdcIj5jbGljayBoZXJlPC9lbT5cXG4nICtcbiAgICAgICAgICAgICAgICdzbmlwcGV0PC9wPic7XG4gICAgICAgICAgICAgJHNjb3BlLmRlbGliZXJhdGVseVRydXN0RGFuZ2Vyb3VzU25pcHBldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwoJHNjb3BlLnNuaXBwZXQpO1xuICAgICAgICAgICAgIH07XG4gICAgICAgICAgIH1dKTtcbiAgICAgPC9zY3JpcHQ+XG4gICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIFNuaXBwZXQ6IDx0ZXh0YXJlYSBuZy1tb2RlbD1cInNuaXBwZXRcIiBjb2xzPVwiNjBcIiByb3dzPVwiM1wiPjwvdGV4dGFyZWE+XG4gICAgICAgPHRhYmxlPlxuICAgICAgICAgPHRyPlxuICAgICAgICAgICA8dGQ+RGlyZWN0aXZlPC90ZD5cbiAgICAgICAgICAgPHRkPkhvdzwvdGQ+XG4gICAgICAgICAgIDx0ZD5Tb3VyY2U8L3RkPlxuICAgICAgICAgICA8dGQ+UmVuZGVyZWQ8L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImJpbmQtaHRtbC13aXRoLXNhbml0aXplXCI+XG4gICAgICAgICAgIDx0ZD5uZy1iaW5kLWh0bWw8L3RkPlxuICAgICAgICAgICA8dGQ+QXV0b21hdGljYWxseSB1c2VzICRzYW5pdGl6ZTwvdGQ+XG4gICAgICAgICAgIDx0ZD48cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldFwiJmd0Ozxici8+Jmx0Oy9kaXYmZ3Q7PC9wcmU+PC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZC1odG1sPVwic25pcHBldFwiPjwvZGl2PjwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiYmluZC1odG1sLXdpdGgtdHJ1c3RcIj5cbiAgICAgICAgICAgPHRkPm5nLWJpbmQtaHRtbDwvdGQ+XG4gICAgICAgICAgIDx0ZD5CeXBhc3MgJHNhbml0aXplIGJ5IGV4cGxpY2l0bHkgdHJ1c3RpbmcgdGhlIGRhbmdlcm91cyB2YWx1ZTwvdGQ+XG4gICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgPHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cImRlbGliZXJhdGVseVRydXN0RGFuZ2Vyb3VzU25pcHBldCgpXCImZ3Q7XG4mbHQ7L2RpdiZndDs8L3ByZT5cbiAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZC1odG1sPVwiZGVsaWJlcmF0ZWx5VHJ1c3REYW5nZXJvdXNTbmlwcGV0KClcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImJpbmQtZGVmYXVsdFwiPlxuICAgICAgICAgICA8dGQ+bmctYmluZDwvdGQ+XG4gICAgICAgICAgIDx0ZD5BdXRvbWF0aWNhbGx5IGVzY2FwZXM8L3RkPlxuICAgICAgICAgICA8dGQ+PHByZT4mbHQ7ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCImZ3Q7PGJyLz4mbHQ7L2RpdiZndDs8L3ByZT48L3RkPlxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kPVwic25pcHBldFwiPjwvZGl2PjwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgIGl0KCdzaG91bGQgc2FuaXRpemUgdGhlIGh0bWwgc25pcHBldCBieSBkZWZhdWx0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtc2FuaXRpemUgZGl2JykpLmdldElubmVySHRtbCgpKS5cbiAgICAgICAgIHRvQmUoJzxwPmFuIGh0bWxcXG48ZW0+Y2xpY2sgaGVyZTwvZW0+XFxuc25pcHBldDwvcD4nKTtcbiAgICAgfSk7XG5cbiAgICAgaXQoJ3Nob3VsZCBpbmxpbmUgcmF3IHNuaXBwZXQgaWYgYm91bmQgdG8gYSB0cnVzdGVkIHZhbHVlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtdHJ1c3QgZGl2JykpLmdldElubmVySHRtbCgpKS5cbiAgICAgICAgIHRvQmUoXCI8cCBzdHlsZT1cXFwiY29sb3I6Ymx1ZVxcXCI+YW4gaHRtbFxcblwiICtcbiAgICAgICAgICAgICAgXCI8ZW0gb25tb3VzZW92ZXI9XFxcInRoaXMudGV4dENvbnRlbnQ9J1BXTjNEISdcXFwiPmNsaWNrIGhlcmU8L2VtPlxcblwiICtcbiAgICAgICAgICAgICAgXCJzbmlwcGV0PC9wPlwiKTtcbiAgICAgfSk7XG5cbiAgICAgaXQoJ3Nob3VsZCBlc2NhcGUgc25pcHBldCB3aXRob3V0IGFueSBmaWx0ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWRlZmF1bHQgZGl2JykpLmdldElubmVySHRtbCgpKS5cbiAgICAgICAgIHRvQmUoXCImbHQ7cCBzdHlsZT1cXFwiY29sb3I6Ymx1ZVxcXCImZ3Q7YW4gaHRtbFxcblwiICtcbiAgICAgICAgICAgICAgXCImbHQ7ZW0gb25tb3VzZW92ZXI9XFxcInRoaXMudGV4dENvbnRlbnQ9J1BXTjNEISdcXFwiJmd0O2NsaWNrIGhlcmUmbHQ7L2VtJmd0O1xcblwiICtcbiAgICAgICAgICAgICAgXCJzbmlwcGV0Jmx0Oy9wJmd0O1wiKTtcbiAgICAgfSk7XG5cbiAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLmNsZWFyKCk7XG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnc25pcHBldCcpKS5zZW5kS2V5cygnbmV3IDxiIG9uY2xpY2s9XCJhbGVydCgxKVwiPnRleHQ8L2I+Jyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtc2FuaXRpemUgZGl2JykpLmdldElubmVySHRtbCgpKS5cbiAgICAgICAgIHRvQmUoJ25ldyA8Yj50ZXh0PC9iPicpO1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtaHRtbC13aXRoLXRydXN0IGRpdicpKS5nZXRJbm5lckh0bWwoKSkudG9CZShcbiAgICAgICAgICduZXcgPGIgb25jbGljaz1cImFsZXJ0KDEpXCI+dGV4dDwvYj4nKTtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWRlZmF1bHQgZGl2JykpLmdldElubmVySHRtbCgpKS50b0JlKFxuICAgICAgICAgXCJuZXcgJmx0O2Igb25jbGljaz1cXFwiYWxlcnQoMSlcXFwiJmd0O3RleHQmbHQ7L2ImZ3Q7XCIpO1xuICAgICB9KTtcbiAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJFNhbml0aXplUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJCRzYW5pdGl6ZVVyaScsIGZ1bmN0aW9uKCQkc2FuaXRpemVVcmkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oaHRtbCkge1xuICAgICAgdmFyIGJ1ZiA9IFtdO1xuICAgICAgaHRtbFBhcnNlcihodG1sLCBodG1sU2FuaXRpemVXcml0ZXIoYnVmLCBmdW5jdGlvbih1cmksIGlzSW1hZ2UpIHtcbiAgICAgICAgcmV0dXJuICEvXnVuc2FmZS8udGVzdCgkJHNhbml0aXplVXJpKHVyaSwgaXNJbWFnZSkpO1xuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIGJ1Zi5qb2luKCcnKTtcbiAgICB9O1xuICB9XTtcbn1cblxuZnVuY3Rpb24gc2FuaXRpemVUZXh0KGNoYXJzKSB7XG4gIHZhciBidWYgPSBbXTtcbiAgdmFyIHdyaXRlciA9IGh0bWxTYW5pdGl6ZVdyaXRlcihidWYsIGFuZ3VsYXIubm9vcCk7XG4gIHdyaXRlci5jaGFycyhjaGFycyk7XG4gIHJldHVybiBidWYuam9pbignJyk7XG59XG5cblxuLy8gUmVndWxhciBFeHByZXNzaW9ucyBmb3IgcGFyc2luZyB0YWdzIGFuZCBhdHRyaWJ1dGVzXG52YXIgU1RBUlRfVEFHX1JFR0VYUCA9XG4gICAgICAgL148KCg/OlthLXpBLVpdKVtcXHc6LV0qKSgoPzpcXHMrW1xcdzotXSsoPzpcXHMqPVxccyooPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXxbXj5cXHNdKykpPykqKVxccyooXFwvPylcXHMqKD4/KS8sXG4gIEVORF9UQUdfUkVHRVhQID0gL148XFwvXFxzKihbXFx3Oi1dKylbXj5dKj4vLFxuICBBVFRSX1JFR0VYUCA9IC8oW1xcdzotXSspKD86XFxzKj1cXHMqKD86KD86XCIoKD86W15cIl0pKilcIil8KD86JygoPzpbXiddKSopJyl8KFtePlxcc10rKSkpPy9nLFxuICBCRUdJTl9UQUdfUkVHRVhQID0gL148LyxcbiAgQkVHSU5HX0VORF9UQUdFX1JFR0VYUCA9IC9ePFxcLy8sXG4gIENPTU1FTlRfUkVHRVhQID0gLzwhLS0oLio/KS0tPi9nLFxuICBET0NUWVBFX1JFR0VYUCA9IC88IURPQ1RZUEUoW14+XSo/KT4vaSxcbiAgQ0RBVEFfUkVHRVhQID0gLzwhXFxbQ0RBVEFcXFsoLio/KV1dPi9nLFxuICBTVVJST0dBVEVfUEFJUl9SRUdFWFAgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nLFxuICAvLyBNYXRjaCBldmVyeXRoaW5nIG91dHNpZGUgb2Ygbm9ybWFsIGNoYXJzIGFuZCBcIiAocXVvdGUgY2hhcmFjdGVyKVxuICBOT05fQUxQSEFOVU1FUklDX1JFR0VYUCA9IC8oW15cXCMtfnwgfCFdKS9nO1xuXG5cbi8vIEdvb2Qgc291cmNlIG9mIGluZm8gYWJvdXQgZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXNcbi8vIGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMvT3ZlcnZpZXcuaHRtbCNzZW1hbnRpY3Ncbi8vIGh0dHA6Ly9zaW1vbi5odG1sNS5vcmcvaHRtbC1lbGVtZW50c1xuXG4vLyBTYWZlIFZvaWQgRWxlbWVudHMgLSBIVE1MNVxuLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI3ZvaWQtZWxlbWVudHNcbnZhciB2b2lkRWxlbWVudHMgPSBtYWtlTWFwKFwiYXJlYSxicixjb2wsaHIsaW1nLHdiclwiKTtcblxuLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuIChhbmQgd2hpY2ggY2xvc2UgdGhlbXNlbHZlcylcbi8vIGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMvT3ZlcnZpZXcuaHRtbCNvcHRpb25hbC10YWdzXG52YXIgb3B0aW9uYWxFbmRUYWdCbG9ja0VsZW1lbnRzID0gbWFrZU1hcChcImNvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHJcIiksXG4gICAgb3B0aW9uYWxFbmRUYWdJbmxpbmVFbGVtZW50cyA9IG1ha2VNYXAoXCJycCxydFwiKSxcbiAgICBvcHRpb25hbEVuZFRhZ0VsZW1lbnRzID0gYW5ndWxhci5leHRlbmQoe30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cyk7XG5cbi8vIFNhZmUgQmxvY2sgRWxlbWVudHMgLSBIVE1MNVxudmFyIGJsb2NrRWxlbWVudHMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb3B0aW9uYWxFbmRUYWdCbG9ja0VsZW1lbnRzLCBtYWtlTWFwKFwiYWRkcmVzcyxhcnRpY2xlLFwiICtcbiAgICAgICAgXCJhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSxcIiArXG4gICAgICAgIFwiaDYsaGVhZGVyLGhncm91cCxocixpbnMsbWFwLG1lbnUsbmF2LG9sLHByZSxzY3JpcHQsc2VjdGlvbix0YWJsZSx1bFwiKSk7XG5cbi8vIElubGluZSBFbGVtZW50cyAtIEhUTUw1XG52YXIgaW5saW5lRWxlbWVudHMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb3B0aW9uYWxFbmRUYWdJbmxpbmVFbGVtZW50cywgbWFrZU1hcChcImEsYWJicixhY3JvbnltLGIsXCIgK1xuICAgICAgICBcImJkaSxiZG8sYmlnLGJyLGNpdGUsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbWcsaW5zLGtiZCxsYWJlbCxtYXAsbWFyayxxLHJ1YnkscnAscnQscyxcIiArXG4gICAgICAgIFwic2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0aW1lLHR0LHUsdmFyXCIpKTtcblxuLy8gU1ZHIEVsZW1lbnRzXG4vLyBodHRwczovL3dpa2kud2hhdHdnLm9yZy93aWtpL1Nhbml0aXphdGlvbl9ydWxlcyNzdmdfRWxlbWVudHNcbnZhciBzdmdFbGVtZW50cyA9IG1ha2VNYXAoXCJhbmltYXRlLGFuaW1hdGVDb2xvcixhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGRlZnMsXCIgK1xuICAgICAgICBcImRlc2MsZWxsaXBzZSxmb250LWZhY2UsZm9udC1mYWNlLW5hbWUsZm9udC1mYWNlLXNyYyxnLGdseXBoLGhrZXJuLGltYWdlLGxpbmVhckdyYWRpZW50LFwiICtcbiAgICAgICAgXCJsaW5lLG1hcmtlcixtZXRhZGF0YSxtaXNzaW5nLWdseXBoLG1wYXRoLHBhdGgscG9seWdvbixwb2x5bGluZSxyYWRpYWxHcmFkaWVudCxyZWN0LHNldCxcIiArXG4gICAgICAgIFwic3RvcCxzdmcsc3dpdGNoLHRleHQsdGl0bGUsdHNwYW4sdXNlXCIpO1xuXG4vLyBTcGVjaWFsIEVsZW1lbnRzIChjYW4gY29udGFpbiBhbnl0aGluZylcbnZhciBzcGVjaWFsRWxlbWVudHMgPSBtYWtlTWFwKFwic2NyaXB0LHN0eWxlXCIpO1xuXG52YXIgdmFsaWRFbGVtZW50cyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZUVsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEVuZFRhZ0VsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmdFbGVtZW50cyk7XG5cbi8vQXR0cmlidXRlcyB0aGF0IGhhdmUgaHJlZiBhbmQgaGVuY2UgbmVlZCB0byBiZSBzYW5pdGl6ZWRcbnZhciB1cmlBdHRycyA9IG1ha2VNYXAoXCJiYWNrZ3JvdW5kLGNpdGUsaHJlZixsb25nZGVzYyxzcmMsdXNlbWFwLHhsaW5rOmhyZWZcIik7XG5cbnZhciBodG1sQXR0cnMgPSBtYWtlTWFwKCdhYmJyLGFsaWduLGFsdCxheGlzLGJnY29sb3IsYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLGNsYXNzLGNsZWFyLCcgK1xuICAgICdjb2xvcixjb2xzLGNvbHNwYW4sY29tcGFjdCxjb29yZHMsZGlyLGZhY2UsaGVhZGVycyxoZWlnaHQsaHJlZmxhbmcsaHNwYWNlLCcgK1xuICAgICdpc21hcCxsYW5nLGxhbmd1YWdlLG5vaHJlZixub3dyYXAscmVsLHJldixyb3dzLHJvd3NwYW4scnVsZXMsJyArXG4gICAgJ3Njb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNwYW4sc3RhcnQsc3VtbWFyeSx0YXJnZXQsdGl0bGUsdHlwZSwnICtcbiAgICAndmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aCcpO1xuXG4vLyBTVkcgYXR0cmlidXRlcyAod2l0aG91dCBcImlkXCIgYW5kIFwibmFtZVwiIGF0dHJpYnV0ZXMpXG4vLyBodHRwczovL3dpa2kud2hhdHdnLm9yZy93aWtpL1Nhbml0aXphdGlvbl9ydWxlcyNzdmdfQXR0cmlidXRlc1xudmFyIHN2Z0F0dHJzID0gbWFrZU1hcCgnYWNjZW50LWhlaWdodCxhY2N1bXVsYXRlLGFkZGl0aXZlLGFscGhhYmV0aWMsYXJhYmljLWZvcm0sYXNjZW50LCcgK1xuICAgICdhdHRyaWJ1dGVOYW1lLGF0dHJpYnV0ZVR5cGUsYmFzZVByb2ZpbGUsYmJveCxiZWdpbixieSxjYWxjTW9kZSxjYXAtaGVpZ2h0LGNsYXNzLGNvbG9yLCcgK1xuICAgICdjb2xvci1yZW5kZXJpbmcsY29udGVudCxjeCxjeSxkLGR4LGR5LGRlc2NlbnQsZGlzcGxheSxkdXIsZW5kLGZpbGwsZmlsbC1ydWxlLGZvbnQtZmFtaWx5LCcgK1xuICAgICdmb250LXNpemUsZm9udC1zdHJldGNoLGZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZyb20sZngsZnksZzEsZzIsZ2x5cGgtbmFtZSwnICtcbiAgICAnZ3JhZGllbnRVbml0cyxoYW5naW5nLGhlaWdodCxob3Jpei1hZHYteCxob3Jpei1vcmlnaW4teCxpZGVvZ3JhcGhpYyxrLGtleVBvaW50cywnICtcbiAgICAna2V5U3BsaW5lcyxrZXlUaW1lcyxsYW5nLG1hcmtlci1lbmQsbWFya2VyLW1pZCxtYXJrZXItc3RhcnQsbWFya2VySGVpZ2h0LG1hcmtlclVuaXRzLCcgK1xuICAgICdtYXJrZXJXaWR0aCxtYXRoZW1hdGljYWwsbWF4LG1pbixvZmZzZXQsb3BhY2l0eSxvcmllbnQsb3JpZ2luLG92ZXJsaW5lLXBvc2l0aW9uLCcgK1xuICAgICdvdmVybGluZS10aGlja25lc3MscGFub3NlLTEscGF0aCxwYXRoTGVuZ3RoLHBvaW50cyxwcmVzZXJ2ZUFzcGVjdFJhdGlvLHIscmVmWCxyZWZZLCcgK1xuICAgICdyZXBlYXRDb3VudCxyZXBlYXREdXIscmVxdWlyZWRFeHRlbnNpb25zLHJlcXVpcmVkRmVhdHVyZXMscmVzdGFydCxyb3RhdGUscngscnksc2xvcGUsc3RlbWgsJyArXG4gICAgJ3N0ZW12LHN0b3AtY29sb3Isc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3Ryb2tlLCcgK1xuICAgICdzdHJva2UtZGFzaGFycmF5LHN0cm9rZS1kYXNob2Zmc2V0LHN0cm9rZS1saW5lY2FwLHN0cm9rZS1saW5lam9pbixzdHJva2UtbWl0ZXJsaW1pdCwnICtcbiAgICAnc3Ryb2tlLW9wYWNpdHksc3Ryb2tlLXdpZHRoLHN5c3RlbUxhbmd1YWdlLHRhcmdldCx0ZXh0LWFuY2hvcix0byx0cmFuc2Zvcm0sdHlwZSx1MSx1MiwnICtcbiAgICAndW5kZXJsaW5lLXBvc2l0aW9uLHVuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2YWx1ZXMsdmVyc2lvbiwnICtcbiAgICAndmlld0JveCx2aXNpYmlsaXR5LHdpZHRoLHdpZHRocyx4LHgtaGVpZ2h0LHgxLHgyLHhsaW5rOmFjdHVhdGUseGxpbms6YXJjcm9sZSx4bGluazpyb2xlLCcgK1xuICAgICd4bGluazpzaG93LHhsaW5rOnRpdGxlLHhsaW5rOnR5cGUseG1sOmJhc2UseG1sOmxhbmcseG1sOnNwYWNlLHhtbG5zLHhtbG5zOnhsaW5rLHkseTEseTIsJyArXG4gICAgJ3pvb21BbmRQYW4nKTtcblxudmFyIHZhbGlkQXR0cnMgPSBhbmd1bGFyLmV4dGVuZCh7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJpQXR0cnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN2Z0F0dHJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sQXR0cnMpO1xuXG5mdW5jdGlvbiBtYWtlTWFwKHN0cikge1xuICB2YXIgb2JqID0ge30sIGl0ZW1zID0gc3RyLnNwbGl0KCcsJyksIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykgb2JqW2l0ZW1zW2ldXSA9IHRydWU7XG4gIHJldHVybiBvYmo7XG59XG5cblxuLyoqXG4gKiBAZXhhbXBsZVxuICogaHRtbFBhcnNlcihodG1sU3RyaW5nLCB7XG4gKiAgICAgc3RhcnQ6IGZ1bmN0aW9uKHRhZywgYXR0cnMsIHVuYXJ5KSB7fSxcbiAqICAgICBlbmQ6IGZ1bmN0aW9uKHRhZykge30sXG4gKiAgICAgY2hhcnM6IGZ1bmN0aW9uKHRleHQpIHt9LFxuICogICAgIGNvbW1lbnQ6IGZ1bmN0aW9uKHRleHQpIHt9XG4gKiB9KTtcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbCBzdHJpbmdcbiAqIEBwYXJhbSB7b2JqZWN0fSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIGh0bWxQYXJzZXIoaHRtbCwgaGFuZGxlcikge1xuICBpZiAodHlwZW9mIGh0bWwgIT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKGh0bWwgPT09IG51bGwgfHwgdHlwZW9mIGh0bWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBodG1sID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGh0bWwgPSAnJyArIGh0bWw7XG4gICAgfVxuICB9XG4gIHZhciBpbmRleCwgY2hhcnMsIG1hdGNoLCBzdGFjayA9IFtdLCBsYXN0ID0gaHRtbCwgdGV4dDtcbiAgc3RhY2subGFzdCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07IH07XG5cbiAgd2hpbGUgKGh0bWwpIHtcbiAgICB0ZXh0ID0gJyc7XG4gICAgY2hhcnMgPSB0cnVlO1xuXG4gICAgLy8gTWFrZSBzdXJlIHdlJ3JlIG5vdCBpbiBhIHNjcmlwdCBvciBzdHlsZSBlbGVtZW50XG4gICAgaWYgKCFzdGFjay5sYXN0KCkgfHwgIXNwZWNpYWxFbGVtZW50c1tzdGFjay5sYXN0KCldKSB7XG5cbiAgICAgIC8vIENvbW1lbnRcbiAgICAgIGlmIChodG1sLmluZGV4T2YoXCI8IS0tXCIpID09PSAwKSB7XG4gICAgICAgIC8vIGNvbW1lbnRzIGNvbnRhaW5pbmcgLS0gYXJlIG5vdCBhbGxvd2VkIHVubGVzcyB0aGV5IHRlcm1pbmF0ZSB0aGUgY29tbWVudFxuICAgICAgICBpbmRleCA9IGh0bWwuaW5kZXhPZihcIi0tXCIsIDQpO1xuXG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGh0bWwubGFzdEluZGV4T2YoXCItLT5cIiwgaW5kZXgpID09PSBpbmRleCkge1xuICAgICAgICAgIGlmIChoYW5kbGVyLmNvbW1lbnQpIGhhbmRsZXIuY29tbWVudChodG1sLnN1YnN0cmluZyg0LCBpbmRleCkpO1xuICAgICAgICAgIGh0bWwgPSBodG1sLnN1YnN0cmluZyhpbmRleCArIDMpO1xuICAgICAgICAgIGNoYXJzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIC8vIERPQ1RZUEVcbiAgICAgIH0gZWxzZSBpZiAoRE9DVFlQRV9SRUdFWFAudGVzdChodG1sKSkge1xuICAgICAgICBtYXRjaCA9IGh0bWwubWF0Y2goRE9DVFlQRV9SRUdFWFApO1xuXG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UobWF0Y2hbMF0sICcnKTtcbiAgICAgICAgICBjaGFycyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAvLyBlbmQgdGFnXG4gICAgICB9IGVsc2UgaWYgKEJFR0lOR19FTkRfVEFHRV9SRUdFWFAudGVzdChodG1sKSkge1xuICAgICAgICBtYXRjaCA9IGh0bWwubWF0Y2goRU5EX1RBR19SRUdFWFApO1xuXG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIGh0bWwgPSBodG1sLnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgIG1hdGNoWzBdLnJlcGxhY2UoRU5EX1RBR19SRUdFWFAsIHBhcnNlRW5kVGFnKTtcbiAgICAgICAgICBjaGFycyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgIC8vIHN0YXJ0IHRhZ1xuICAgICAgfSBlbHNlIGlmIChCRUdJTl9UQUdfUkVHRVhQLnRlc3QoaHRtbCkpIHtcbiAgICAgICAgbWF0Y2ggPSBodG1sLm1hdGNoKFNUQVJUX1RBR19SRUdFWFApO1xuXG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIC8vIFdlIG9ubHkgaGF2ZSBhIHZhbGlkIHN0YXJ0LXRhZyBpZiB0aGVyZSBpcyBhICc+Jy5cbiAgICAgICAgICBpZiAobWF0Y2hbNF0pIHtcbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgbWF0Y2hbMF0ucmVwbGFjZShTVEFSVF9UQUdfUkVHRVhQLCBwYXJzZVN0YXJ0VGFnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhcnMgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBubyBlbmRpbmcgdGFnIGZvdW5kIC0tLSB0aGlzIHBpZWNlIHNob3VsZCBiZSBlbmNvZGVkIGFzIGFuIGVudGl0eS5cbiAgICAgICAgICB0ZXh0ICs9ICc8JztcbiAgICAgICAgICBodG1sID0gaHRtbC5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoYXJzKSB7XG4gICAgICAgIGluZGV4ID0gaHRtbC5pbmRleE9mKFwiPFwiKTtcblxuICAgICAgICB0ZXh0ICs9IGluZGV4IDwgMCA/IGh0bWwgOiBodG1sLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICAgIGh0bWwgPSBpbmRleCA8IDAgPyBcIlwiIDogaHRtbC5zdWJzdHJpbmcoaW5kZXgpO1xuXG4gICAgICAgIGlmIChoYW5kbGVyLmNoYXJzKSBoYW5kbGVyLmNoYXJzKGRlY29kZUVudGl0aWVzKHRleHQpKTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJRSB2ZXJzaW9ucyA5IGFuZCAxMCBkbyBub3QgdW5kZXJzdGFuZCB0aGUgcmVnZXggJ1teXScsIHNvIHVzaW5nIGEgd29ya2Fyb3VuZCB3aXRoIFtcXFdcXHddLlxuICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZShuZXcgUmVnRXhwKFwiKFtcXFxcV1xcXFx3XSopPFxcXFxzKlxcXFwvXFxcXHMqXCIgKyBzdGFjay5sYXN0KCkgKyBcIltePl0qPlwiLCAnaScpLFxuICAgICAgICBmdW5jdGlvbihhbGwsIHRleHQpIHtcbiAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKENPTU1FTlRfUkVHRVhQLCBcIiQxXCIpLnJlcGxhY2UoQ0RBVEFfUkVHRVhQLCBcIiQxXCIpO1xuXG4gICAgICAgICAgaWYgKGhhbmRsZXIuY2hhcnMpIGhhbmRsZXIuY2hhcnMoZGVjb2RlRW50aXRpZXModGV4dCkpO1xuXG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9KTtcblxuICAgICAgcGFyc2VFbmRUYWcoXCJcIiwgc3RhY2subGFzdCgpKTtcbiAgICB9XG5cbiAgICBpZiAoaHRtbCA9PSBsYXN0KSB7XG4gICAgICB0aHJvdyAkc2FuaXRpemVNaW5FcnIoJ2JhZHBhcnNlJywgXCJUaGUgc2FuaXRpemVyIHdhcyB1bmFibGUgdG8gcGFyc2UgdGhlIGZvbGxvd2luZyBibG9jayBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvZiBodG1sOiB7MH1cIiwgaHRtbCk7XG4gICAgfVxuICAgIGxhc3QgPSBodG1sO1xuICB9XG5cbiAgLy8gQ2xlYW4gdXAgYW55IHJlbWFpbmluZyB0YWdzXG4gIHBhcnNlRW5kVGFnKCk7XG5cbiAgZnVuY3Rpb24gcGFyc2VTdGFydFRhZyh0YWcsIHRhZ05hbWUsIHJlc3QsIHVuYXJ5KSB7XG4gICAgdGFnTmFtZSA9IGFuZ3VsYXIubG93ZXJjYXNlKHRhZ05hbWUpO1xuICAgIGlmIChibG9ja0VsZW1lbnRzW3RhZ05hbWVdKSB7XG4gICAgICB3aGlsZSAoc3RhY2subGFzdCgpICYmIGlubGluZUVsZW1lbnRzW3N0YWNrLmxhc3QoKV0pIHtcbiAgICAgICAgcGFyc2VFbmRUYWcoXCJcIiwgc3RhY2subGFzdCgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0aW9uYWxFbmRUYWdFbGVtZW50c1t0YWdOYW1lXSAmJiBzdGFjay5sYXN0KCkgPT0gdGFnTmFtZSkge1xuICAgICAgcGFyc2VFbmRUYWcoXCJcIiwgdGFnTmFtZSk7XG4gICAgfVxuXG4gICAgdW5hcnkgPSB2b2lkRWxlbWVudHNbdGFnTmFtZV0gfHwgISF1bmFyeTtcblxuICAgIGlmICghdW5hcnkpXG4gICAgICBzdGFjay5wdXNoKHRhZ05hbWUpO1xuXG4gICAgdmFyIGF0dHJzID0ge307XG5cbiAgICByZXN0LnJlcGxhY2UoQVRUUl9SRUdFWFAsXG4gICAgICBmdW5jdGlvbihtYXRjaCwgbmFtZSwgZG91YmxlUXVvdGVkVmFsdWUsIHNpbmdsZVF1b3RlZFZhbHVlLCB1bnF1b3RlZFZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGRvdWJsZVF1b3RlZFZhbHVlXG4gICAgICAgICAgfHwgc2luZ2xlUXVvdGVkVmFsdWVcbiAgICAgICAgICB8fCB1bnF1b3RlZFZhbHVlXG4gICAgICAgICAgfHwgJyc7XG5cbiAgICAgICAgYXR0cnNbbmFtZV0gPSBkZWNvZGVFbnRpdGllcyh2YWx1ZSk7XG4gICAgfSk7XG4gICAgaWYgKGhhbmRsZXIuc3RhcnQpIGhhbmRsZXIuc3RhcnQodGFnTmFtZSwgYXR0cnMsIHVuYXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlRW5kVGFnKHRhZywgdGFnTmFtZSkge1xuICAgIHZhciBwb3MgPSAwLCBpO1xuICAgIHRhZ05hbWUgPSBhbmd1bGFyLmxvd2VyY2FzZSh0YWdOYW1lKTtcbiAgICBpZiAodGFnTmFtZSlcbiAgICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3Qgb3BlbmVkIHRhZyBvZiB0aGUgc2FtZSB0eXBlXG4gICAgICBmb3IgKHBvcyA9IHN0YWNrLmxlbmd0aCAtIDE7IHBvcyA+PSAwOyBwb3MtLSlcbiAgICAgICAgaWYgKHN0YWNrW3Bvc10gPT0gdGFnTmFtZSlcbiAgICAgICAgICBicmVhaztcblxuICAgIGlmIChwb3MgPj0gMCkge1xuICAgICAgLy8gQ2xvc2UgYWxsIHRoZSBvcGVuIGVsZW1lbnRzLCB1cCB0aGUgc3RhY2tcbiAgICAgIGZvciAoaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gcG9zOyBpLS0pXG4gICAgICAgIGlmIChoYW5kbGVyLmVuZCkgaGFuZGxlci5lbmQoc3RhY2tbaV0pO1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIG9wZW4gZWxlbWVudHMgZnJvbSB0aGUgc3RhY2tcbiAgICAgIHN0YWNrLmxlbmd0aCA9IHBvcztcbiAgICB9XG4gIH1cbn1cblxudmFyIGhpZGRlblByZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpO1xuLyoqXG4gKiBkZWNvZGVzIGFsbCBlbnRpdGllcyBpbnRvIHJlZ3VsYXIgc3RyaW5nXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgc3RyaW5nIHdpdGggZGVjb2RlZCBlbnRpdGllcy5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlRW50aXRpZXModmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgeyByZXR1cm4gJyc7IH1cblxuICBoaWRkZW5QcmUuaW5uZXJIVE1MID0gdmFsdWUucmVwbGFjZSgvPC9nLFwiJmx0O1wiKTtcbiAgLy8gaW5uZXJUZXh0IGRlcGVuZHMgb24gc3R5bGluZyBhcyBpdCBkb2Vzbid0IGRpc3BsYXkgaGlkZGVuIGVsZW1lbnRzLlxuICAvLyBUaGVyZWZvcmUsIGl0J3MgYmV0dGVyIHRvIHVzZSB0ZXh0Q29udGVudCBub3QgdG8gY2F1c2UgdW5uZWNlc3NhcnkgcmVmbG93cy5cbiAgcmV0dXJuIGhpZGRlblByZS50ZXh0Q29udGVudDtcbn1cblxuLyoqXG4gKiBFc2NhcGVzIGFsbCBwb3RlbnRpYWxseSBkYW5nZXJvdXMgY2hhcmFjdGVycywgc28gdGhhdCB0aGVcbiAqIHJlc3VsdGluZyBzdHJpbmcgY2FuIGJlIHNhZmVseSBpbnNlcnRlZCBpbnRvIGF0dHJpYnV0ZSBvclxuICogZWxlbWVudCB0ZXh0LlxuICogQHBhcmFtIHZhbHVlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBlc2NhcGVkIHRleHRcbiAqL1xuZnVuY3Rpb24gZW5jb2RlRW50aXRpZXModmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLlxuICAgIHJlcGxhY2UoLyYvZywgJyZhbXA7JykuXG4gICAgcmVwbGFjZShTVVJST0dBVEVfUEFJUl9SRUdFWFAsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgaGkgPSB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuICAgICAgdmFyIGxvdyA9IHZhbHVlLmNoYXJDb2RlQXQoMSk7XG4gICAgICByZXR1cm4gJyYjJyArICgoKGhpIC0gMHhEODAwKSAqIDB4NDAwKSArIChsb3cgLSAweERDMDApICsgMHgxMDAwMCkgKyAnOyc7XG4gICAgfSkuXG4gICAgcmVwbGFjZShOT05fQUxQSEFOVU1FUklDX1JFR0VYUCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiAnJiMnICsgdmFsdWUuY2hhckNvZGVBdCgwKSArICc7JztcbiAgICB9KS5cbiAgICByZXBsYWNlKC88L2csICcmbHQ7JykuXG4gICAgcmVwbGFjZSgvPi9nLCAnJmd0OycpO1xufVxuXG4vKipcbiAqIGNyZWF0ZSBhbiBIVE1ML1hNTCB3cml0ZXIgd2hpY2ggd3JpdGVzIHRvIGJ1ZmZlclxuICogQHBhcmFtIHtBcnJheX0gYnVmIHVzZSBidWYuamFpbignJykgdG8gZ2V0IG91dCBzYW5pdGl6ZWQgaHRtbCBzdHJpbmdcbiAqIEByZXR1cm5zIHtvYmplY3R9IGluIHRoZSBmb3JtIG9mIHtcbiAqICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycywgdW5hcnkpIHt9LFxuICogICAgIGVuZDogZnVuY3Rpb24odGFnKSB7fSxcbiAqICAgICBjaGFyczogZnVuY3Rpb24odGV4dCkge30sXG4gKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cbiAqIH1cbiAqL1xuZnVuY3Rpb24gaHRtbFNhbml0aXplV3JpdGVyKGJ1ZiwgdXJpVmFsaWRhdG9yKSB7XG4gIHZhciBpZ25vcmUgPSBmYWxzZTtcbiAgdmFyIG91dCA9IGFuZ3VsYXIuYmluZChidWYsIGJ1Zi5wdXNoKTtcbiAgcmV0dXJuIHtcbiAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycywgdW5hcnkpIHtcbiAgICAgIHRhZyA9IGFuZ3VsYXIubG93ZXJjYXNlKHRhZyk7XG4gICAgICBpZiAoIWlnbm9yZSAmJiBzcGVjaWFsRWxlbWVudHNbdGFnXSkge1xuICAgICAgICBpZ25vcmUgPSB0YWc7XG4gICAgICB9XG4gICAgICBpZiAoIWlnbm9yZSAmJiB2YWxpZEVsZW1lbnRzW3RhZ10gPT09IHRydWUpIHtcbiAgICAgICAgb3V0KCc8Jyk7XG4gICAgICAgIG91dCh0YWcpO1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goYXR0cnMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICB2YXIgbGtleT1hbmd1bGFyLmxvd2VyY2FzZShrZXkpO1xuICAgICAgICAgIHZhciBpc0ltYWdlID0gKHRhZyA9PT0gJ2ltZycgJiYgbGtleSA9PT0gJ3NyYycpIHx8IChsa2V5ID09PSAnYmFja2dyb3VuZCcpO1xuICAgICAgICAgIGlmICh2YWxpZEF0dHJzW2xrZXldID09PSB0cnVlICYmXG4gICAgICAgICAgICAodXJpQXR0cnNbbGtleV0gIT09IHRydWUgfHwgdXJpVmFsaWRhdG9yKHZhbHVlLCBpc0ltYWdlKSkpIHtcbiAgICAgICAgICAgIG91dCgnICcpO1xuICAgICAgICAgICAgb3V0KGtleSk7XG4gICAgICAgICAgICBvdXQoJz1cIicpO1xuICAgICAgICAgICAgb3V0KGVuY29kZUVudGl0aWVzKHZhbHVlKSk7XG4gICAgICAgICAgICBvdXQoJ1wiJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb3V0KHVuYXJ5ID8gJy8+JyA6ICc+Jyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBlbmQ6IGZ1bmN0aW9uKHRhZykge1xuICAgICAgICB0YWcgPSBhbmd1bGFyLmxvd2VyY2FzZSh0YWcpO1xuICAgICAgICBpZiAoIWlnbm9yZSAmJiB2YWxpZEVsZW1lbnRzW3RhZ10gPT09IHRydWUpIHtcbiAgICAgICAgICBvdXQoJzwvJyk7XG4gICAgICAgICAgb3V0KHRhZyk7XG4gICAgICAgICAgb3V0KCc+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBpZ25vcmUpIHtcbiAgICAgICAgICBpZ25vcmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICBjaGFyczogZnVuY3Rpb24oY2hhcnMpIHtcbiAgICAgICAgaWYgKCFpZ25vcmUpIHtcbiAgICAgICAgICBvdXQoZW5jb2RlRW50aXRpZXMoY2hhcnMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICB9O1xufVxuXG5cbi8vIGRlZmluZSBuZ1Nhbml0aXplIG1vZHVsZSBhbmQgcmVnaXN0ZXIgJHNhbml0aXplIHNlcnZpY2VcbmFuZ3VsYXIubW9kdWxlKCduZ1Nhbml0aXplJywgW10pLnByb3ZpZGVyKCckc2FuaXRpemUnLCAkU2FuaXRpemVQcm92aWRlcik7XG5cbi8qIGdsb2JhbCBzYW5pdGl6ZVRleHQ6IGZhbHNlICovXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbGlua3lcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGaW5kcyBsaW5rcyBpbiB0ZXh0IGlucHV0IGFuZCB0dXJucyB0aGVtIGludG8gaHRtbCBsaW5rcy4gU3VwcG9ydHMgaHR0cC9odHRwcy9mdHAvbWFpbHRvIGFuZFxuICogcGxhaW4gZW1haWwgYWRkcmVzcyBsaW5rcy5cbiAqXG4gKiBSZXF1aXJlcyB0aGUge0BsaW5rIG5nU2FuaXRpemUgYG5nU2FuaXRpemVgfSBtb2R1bGUgdG8gYmUgaW5zdGFsbGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IElucHV0IHRleHQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0IFdpbmRvdyAoX2JsYW5rfF9zZWxmfF9wYXJlbnR8X3RvcCkgb3IgbmFtZWQgZnJhbWUgdG8gb3BlbiBsaW5rcyBpbi5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEh0bWwtbGlua2lmaWVkIHRleHQuXG4gKlxuICogQHVzYWdlXG4gICA8c3BhbiBuZy1iaW5kLWh0bWw9XCJsaW5reV9leHByZXNzaW9uIHwgbGlua3lcIj48L3NwYW4+XG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxpbmt5RXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaW5reUV4YW1wbGUnLCBbJ25nU2FuaXRpemUnXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUuc25pcHBldCA9XG4gICAgICAgICAgICAgICAnUHJldHR5IHRleHQgd2l0aCBzb21lIGxpbmtzOlxcbicrXG4gICAgICAgICAgICAgICAnaHR0cDovL2FuZ3VsYXJqcy5vcmcvLFxcbicrXG4gICAgICAgICAgICAgICAnbWFpbHRvOnVzQHNvbWV3aGVyZS5vcmcsXFxuJytcbiAgICAgICAgICAgICAgICdhbm90aGVyQHNvbWV3aGVyZS5vcmcsXFxuJytcbiAgICAgICAgICAgICAgICdhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJztcbiAgICAgICAgICAgICAkc2NvcGUuc25pcHBldFdpdGhUYXJnZXQgPSAnaHR0cDovL2FuZ3VsYXJqcy5vcmcvJztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgU25pcHBldDogPHRleHRhcmVhIG5nLW1vZGVsPVwic25pcHBldFwiIGNvbHM9XCI2MFwiIHJvd3M9XCIzXCI+PC90ZXh0YXJlYT5cbiAgICAgICA8dGFibGU+XG4gICAgICAgICA8dHI+XG4gICAgICAgICAgIDx0ZD5GaWx0ZXI8L3RkPlxuICAgICAgICAgICA8dGQ+U291cmNlPC90ZD5cbiAgICAgICAgICAgPHRkPlJlbmRlcmVkPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJsaW5reS1maWx0ZXJcIj5cbiAgICAgICAgICAgPHRkPmxpbmt5IGZpbHRlcjwvdGQ+XG4gICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldCB8IGxpbmt5XCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPlxuICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgPGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0IHwgbGlua3lcIj48L2Rpdj5cbiAgICAgICAgICAgPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJsaW5reS10YXJnZXRcIj5cbiAgICAgICAgICA8dGQ+bGlua3kgdGFyZ2V0PC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldFdpdGhUYXJnZXQgfCBsaW5reTonX2JsYW5rJ1wiJmd0Ozxicj4mbHQ7L2RpdiZndDs8L3ByZT5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxkaXYgbmctYmluZC1odG1sPVwic25pcHBldFdpdGhUYXJnZXQgfCBsaW5reTonX2JsYW5rJ1wiPjwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiZXNjYXBlZC1odG1sXCI+XG4gICAgICAgICAgIDx0ZD5ubyBmaWx0ZXI8L3RkPlxuICAgICAgICAgICA8dGQ+PHByZT4mbHQ7ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPjwvdGQ+XG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBsaW5raWZ5IHRoZSBzbmlwcGV0IHdpdGggdXJscycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmt5LWZpbHRlcicpKS5lbGVtZW50KGJ5LmJpbmRpbmcoJ3NuaXBwZXQgfCBsaW5reScpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgIHRvQmUoJ1ByZXR0eSB0ZXh0IHdpdGggc29tZSBsaW5rczogaHR0cDovL2FuZ3VsYXJqcy5vcmcvLCB1c0Bzb21ld2hlcmUub3JnLCAnICtcbiAgICAgICAgICAgICAgICAgICdhbm90aGVyQHNvbWV3aGVyZS5vcmcsIGFuZCBvbmUgbW9yZTogZnRwOi8vMTI3LjAuMC4xLy4nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJyNsaW5reS1maWx0ZXIgYScpKS5jb3VudCgpKS50b0VxdWFsKDQpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBub3QgbGlua2lmeSBzbmlwcGV0IHdpdGhvdXQgdGhlIGxpbmt5IGZpbHRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2VzY2FwZWQtaHRtbCcpKS5lbGVtZW50KGJ5LmJpbmRpbmcoJ3NuaXBwZXQnKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgICB0b0JlKCdQcmV0dHkgdGV4dCB3aXRoIHNvbWUgbGlua3M6IGh0dHA6Ly9hbmd1bGFyanMub3JnLywgbWFpbHRvOnVzQHNvbWV3aGVyZS5vcmcsICcgK1xuICAgICAgICAgICAgICAgICAgJ2Fub3RoZXJAc29tZXdoZXJlLm9yZywgYW5kIG9uZSBtb3JlOiBmdHA6Ly8xMjcuMC4wLjEvLicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnI2VzY2FwZWQtaHRtbCBhJykpLmNvdW50KCkpLnRvRXF1YWwoMCk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc25pcHBldCcpKS5jbGVhcigpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc25pcHBldCcpKS5zZW5kS2V5cygnbmV3IGh0dHA6Ly9saW5rLicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmt5LWZpbHRlcicpKS5lbGVtZW50KGJ5LmJpbmRpbmcoJ3NuaXBwZXQgfCBsaW5reScpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgIHRvQmUoJ25ldyBodHRwOi8vbGluay4nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJyNsaW5reS1maWx0ZXIgYScpKS5jb3VudCgpKS50b0VxdWFsKDEpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2VzY2FwZWQtaHRtbCcpKS5lbGVtZW50KGJ5LmJpbmRpbmcoJ3NuaXBwZXQnKSkuZ2V0VGV4dCgpKVxuICAgICAgICAgICAgIC50b0JlKCduZXcgaHR0cDovL2xpbmsuJyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHdvcmsgd2l0aCB0aGUgdGFyZ2V0IHByb3BlcnR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5reS10YXJnZXQnKSkuXG4gICAgICAgICAgICBlbGVtZW50KGJ5LmJpbmRpbmcoXCJzbmlwcGV0V2l0aFRhcmdldCB8IGxpbmt5OidfYmxhbmsnXCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9CZSgnaHR0cDovL2FuZ3VsYXJqcy5vcmcvJyk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2xpbmt5LXRhcmdldCBhJykpLmdldEF0dHJpYnV0ZSgndGFyZ2V0JykpLnRvRXF1YWwoJ19ibGFuaycpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmFuZ3VsYXIubW9kdWxlKCduZ1Nhbml0aXplJykuZmlsdGVyKCdsaW5reScsIFsnJHNhbml0aXplJywgZnVuY3Rpb24oJHNhbml0aXplKSB7XG4gIHZhciBMSU5LWV9VUkxfUkVHRVhQID1cbiAgICAgICAgLygoZnRwfGh0dHBzPyk6XFwvXFwvfCh3d3dcXC4pfChtYWlsdG86KT9bQS1aYS16MC05Ll8lKy1dK0ApXFxTKlteXFxzLjssKCl7fTw+XCLigJ3igJldL2ksXG4gICAgICBNQUlMVE9fUkVHRVhQID0gL15tYWlsdG86L2k7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHRleHQsIHRhcmdldCkge1xuICAgIGlmICghdGV4dCkgcmV0dXJuIHRleHQ7XG4gICAgdmFyIG1hdGNoO1xuICAgIHZhciByYXcgPSB0ZXh0O1xuICAgIHZhciBodG1sID0gW107XG4gICAgdmFyIHVybDtcbiAgICB2YXIgaTtcbiAgICB3aGlsZSAoKG1hdGNoID0gcmF3Lm1hdGNoKExJTktZX1VSTF9SRUdFWFApKSkge1xuICAgICAgLy8gV2UgY2FuIG5vdCBlbmQgaW4gdGhlc2UgYXMgdGhleSBhcmUgc29tZXRpbWVzIGZvdW5kIGF0IHRoZSBlbmQgb2YgdGhlIHNlbnRlbmNlXG4gICAgICB1cmwgPSBtYXRjaFswXTtcbiAgICAgIC8vIGlmIHdlIGRpZCBub3QgbWF0Y2ggZnRwL2h0dHAvd3d3L21haWx0byB0aGVuIGFzc3VtZSBtYWlsdG9cbiAgICAgIGlmICghbWF0Y2hbMl0gJiYgIW1hdGNoWzRdKSB7XG4gICAgICAgIHVybCA9IChtYXRjaFszXSA/ICdodHRwOi8vJyA6ICdtYWlsdG86JykgKyB1cmw7XG4gICAgICB9XG4gICAgICBpID0gbWF0Y2guaW5kZXg7XG4gICAgICBhZGRUZXh0KHJhdy5zdWJzdHIoMCwgaSkpO1xuICAgICAgYWRkTGluayh1cmwsIG1hdGNoWzBdLnJlcGxhY2UoTUFJTFRPX1JFR0VYUCwgJycpKTtcbiAgICAgIHJhdyA9IHJhdy5zdWJzdHJpbmcoaSArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgfVxuICAgIGFkZFRleHQocmF3KTtcbiAgICByZXR1cm4gJHNhbml0aXplKGh0bWwuam9pbignJykpO1xuXG4gICAgZnVuY3Rpb24gYWRkVGV4dCh0ZXh0KSB7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaHRtbC5wdXNoKHNhbml0aXplVGV4dCh0ZXh0KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkTGluayh1cmwsIHRleHQpIHtcbiAgICAgIGh0bWwucHVzaCgnPGEgJyk7XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGFyZ2V0KSkge1xuICAgICAgICBodG1sLnB1c2goJ3RhcmdldD1cIicsXG4gICAgICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgICAgICAnXCIgJyk7XG4gICAgICB9XG4gICAgICBodG1sLnB1c2goJ2hyZWY9XCInLFxuICAgICAgICAgICAgICAgIHVybC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JyksXG4gICAgICAgICAgICAgICAgJ1wiPicpO1xuICAgICAgYWRkVGV4dCh0ZXh0KTtcbiAgICAgIGh0bWwucHVzaCgnPC9hPicpO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuXG59KSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTtcblxuLyohXG4gKiBhbmd1bGFyLXRyYW5zbGF0ZSAtIHYyLjUuMiAtIDIwMTQtMTItMTBcbiAqIGh0dHA6Ly9naXRodWIuY29tL2FuZ3VsYXItdHJhbnNsYXRlL2FuZ3VsYXItdHJhbnNsYXRlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgOyBMaWNlbnNlZCBNSVRcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlclxuICogQHJlcXVpcmVzICRxXG4gKiBAcmVxdWlyZXMgJGh0dHBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhIHR5cGljYWwgc3RhdGljIGZpbGUgdXJsIHBhdHRlcm46XG4gKiBcImxhbmctZW5fVVMuanNvblwiLCBcImxhbmctZGVfREUuanNvblwiLCBldGMuIFVzaW5nIHRoaXMgYnVpbGRlcixcbiAqIHRoZSByZXNwb25zZSBvZiB0aGVzZSB1cmxzIG11c3QgYmUgYW4gb2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCwgd2hpY2ggZ2V0cyBwcmVmaXgsIHN1ZmZpeCBhbmQga2V5LlxuICovXG4uZmFjdG9yeSgnJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyJywgWyckcScsICckaHR0cCcsIGZ1bmN0aW9uICgkcSwgJGh0dHApIHtcblxuICByZXR1cm4gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgIGlmICghb3B0aW9ucyB8fCAoIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5wcmVmaXgpIHx8ICFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMuc3VmZml4KSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCBsb2FkIHN0YXRpYyBmaWxlcywgbm8gcHJlZml4IG9yIHN1ZmZpeCBzcGVjaWZpZWQhJyk7XG4gICAgfVxuXG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICRodHRwKGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgIHVybDogW1xuICAgICAgICBvcHRpb25zLnByZWZpeCxcbiAgICAgICAgb3B0aW9ucy5rZXksXG4gICAgICAgIG9wdGlvbnMuc3VmZml4XG4gICAgICBdLmpvaW4oJycpLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczogJydcbiAgICB9LCBvcHRpb25zLiRodHRwKSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KG9wdGlvbnMua2V5KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xufV0pO1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBhbmd1bGFyLCB3aW5kb3cgKi9cblxuLyoqXG4gKiBSZWltcGxlbWVudGF0aW9uIG9mICR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlciB0byBoYW5kbGUgbWlzc2luZyBmaWxlcyBhbmQgbG9jYWxlIGhpZXJhcmNoeSAoZW4vZW5fVVMpXG4gKi9cbmFuZ3VsYXIubW9kdWxlKFwicGFzY2FscHJlY2h0LnRyYW5zbGF0ZVwiKS5mYWN0b3J5KFwiJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyXCIsIFtcbiAgXCIkcVwiLFxuICBcIiRodHRwXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGh0dHApIHtcbiAgICBmdW5jdGlvbiBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdGlvbnMsIGRlZmVycmVkKSB7XG4gICAgICAkaHR0cChhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgIHVybDogW1xuICAgICAgICAgIG9wdGlvbnMucHJlZml4LFxuICAgICAgICAgIG9wdGlvbnMua2V5LnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgb3B0aW9ucy5zdWZmaXhcbiAgICAgICAgXS5qb2luKFwiXCIpLFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIHBhcmFtczogXCJcIlxuICAgICAgfSwgb3B0aW9ucy4kaHR0cCkpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgIH0pLmVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYob3B0aW9ucy5rZXkuaW5kZXhPZihcIl9cIikgPj0gMCkge1xuICAgICAgICAgIHZhciBrZXkgPSBvcHRpb25zLmtleS5zdWJzdHIoMCwgb3B0aW9ucy5rZXkubGFzdEluZGV4T2YoXCJfXCIpKTtcbiAgICAgICAgICB2YXIgb3B0cyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGtleToga2V5IH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0cywgZGVmZXJyZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoXCJ7fVwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAoIW9wdGlvbnMgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucHJlZml4KSB8fCAhYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnN1ZmZpeCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkblxcXCJ0IGxvYWQgc3RhdGljIGZpbGVzLCBubyBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCFcIik7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0aW9ucywgZGVmZXJyZWQpO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuICB9XG5dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsIFtcInBhc2NhbHByZWNodC50cmFuc2xhdGVcIiwgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiXSlcbi5jb25maWcoW1wiJHRyYW5zbGF0ZVByb3ZpZGVyXCIsIFwiTE9DQUxFU19QUkVGSVhcIiwgXCJMT0NBTEVTX1NVRklYXCIsIGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIsIExPQ0FMRVNfUFJFRklYLCBMT0NBTEVTX1NVRklYKSB7XG4gIC8vIFRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbG9jYWxlXG4gICR0cmFuc2xhdGVQcm92aWRlci51c2VTdGF0aWNGaWxlc0xvYWRlcih7XG4gICAgcHJlZml4OiBMT0NBTEVTX1BSRUZJWCxcbiAgICBzdWZmaXg6IExPQ0FMRVNfU1VGSVhcbiAgfSk7XG4gIFxuICAkdHJhbnNsYXRlUHJvdmlkZXJcbiAgICAuZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UoKVxuICAgIC5mYWxsYmFja0xhbmd1YWdlKFwiZW5cIik7XG59XSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBhZmZpeC5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FmZml4XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQUZGSVggQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIEFmZml4ID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQWZmaXguREVGQVVMVFMsIG9wdGlvbnMpXG5cbiAgICB0aGlzLiR0YXJnZXQgPSAkKHRoaXMub3B0aW9ucy50YXJnZXQpXG4gICAgICAub24oJ3Njcm9sbC5icy5hZmZpeC5kYXRhLWFwaScsICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLCB0aGlzKSlcbiAgICAgIC5vbignY2xpY2suYnMuYWZmaXguZGF0YS1hcGknLCAgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wLCB0aGlzKSlcblxuICAgIHRoaXMuJGVsZW1lbnQgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuYWZmaXhlZCAgICAgID1cbiAgICB0aGlzLnVucGluICAgICAgICA9XG4gICAgdGhpcy5waW5uZWRPZmZzZXQgPSBudWxsXG5cbiAgICB0aGlzLmNoZWNrUG9zaXRpb24oKVxuICB9XG5cbiAgQWZmaXguVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgQWZmaXguUkVTRVQgICAgPSAnYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbSdcblxuICBBZmZpeC5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDAsXG4gICAgdGFyZ2V0OiB3aW5kb3dcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5nZXRQaW5uZWRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucGlubmVkT2Zmc2V0KSByZXR1cm4gdGhpcy5waW5uZWRPZmZzZXRcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKS5hZGRDbGFzcygnYWZmaXgnKVxuICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHJldHVybiAodGhpcy5waW5uZWRPZmZzZXQgPSBwb3NpdGlvbi50b3AgLSBzY3JvbGxUb3ApXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dCgkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcyksIDEpXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHJldHVyblxuXG4gICAgdmFyIHNjcm9sbEhlaWdodCA9ICQoZG9jdW1lbnQpLmhlaWdodCgpXG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKVxuICAgIHZhciBwb3NpdGlvbiAgICAgPSB0aGlzLiRlbGVtZW50Lm9mZnNldCgpXG4gICAgdmFyIG9mZnNldCAgICAgICA9IHRoaXMub3B0aW9ucy5vZmZzZXRcbiAgICB2YXIgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcFxuICAgIHZhciBvZmZzZXRCb3R0b20gPSBvZmZzZXQuYm90dG9tXG5cbiAgICBpZiAodHlwZW9mIG9mZnNldCAhPSAnb2JqZWN0JykgICAgICAgICBvZmZzZXRCb3R0b20gPSBvZmZzZXRUb3AgPSBvZmZzZXRcbiAgICBpZiAodHlwZW9mIG9mZnNldFRvcCA9PSAnZnVuY3Rpb24nKSAgICBvZmZzZXRUb3AgICAgPSBvZmZzZXQudG9wKHRoaXMuJGVsZW1lbnQpXG4gICAgaWYgKHR5cGVvZiBvZmZzZXRCb3R0b20gPT0gJ2Z1bmN0aW9uJykgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbSh0aGlzLiRlbGVtZW50KVxuXG4gICAgdmFyIGFmZml4ID0gdGhpcy51bnBpbiAgICE9IG51bGwgJiYgKHNjcm9sbFRvcCArIHRoaXMudW5waW4gPD0gcG9zaXRpb24udG9wKSA/IGZhbHNlIDpcbiAgICAgICAgICAgICAgICBvZmZzZXRCb3R0b20gIT0gbnVsbCAmJiAocG9zaXRpb24udG9wICsgdGhpcy4kZWxlbWVudC5oZWlnaHQoKSA+PSBzY3JvbGxIZWlnaHQgLSBvZmZzZXRCb3R0b20pID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgIG9mZnNldFRvcCAgICAhPSBudWxsICYmIChzY3JvbGxUb3AgPD0gb2Zmc2V0VG9wKSA/ICd0b3AnIDogZmFsc2VcblxuICAgIGlmICh0aGlzLmFmZml4ZWQgPT09IGFmZml4KSByZXR1cm5cbiAgICBpZiAodGhpcy51bnBpbiAhPSBudWxsKSB0aGlzLiRlbGVtZW50LmNzcygndG9wJywgJycpXG5cbiAgICB2YXIgYWZmaXhUeXBlID0gJ2FmZml4JyArIChhZmZpeCA/ICctJyArIGFmZml4IDogJycpXG4gICAgdmFyIGUgICAgICAgICA9ICQuRXZlbnQoYWZmaXhUeXBlICsgJy5icy5hZmZpeCcpXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuYWZmaXhlZCA9IGFmZml4XG4gICAgdGhpcy51bnBpbiA9IGFmZml4ID09ICdib3R0b20nID8gdGhpcy5nZXRQaW5uZWRPZmZzZXQoKSA6IG51bGxcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVClcbiAgICAgIC5hZGRDbGFzcyhhZmZpeFR5cGUpXG4gICAgICAudHJpZ2dlcigkLkV2ZW50KGFmZml4VHlwZS5yZXBsYWNlKCdhZmZpeCcsICdhZmZpeGVkJykpKVxuXG4gICAgaWYgKGFmZml4ID09ICdib3R0b20nKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZnNldCh7XG4gICAgICAgIHRvcDogc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kZWxlbWVudC5oZWlnaHQoKSAtIG9mZnNldEJvdHRvbVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuXG4gIC8vIEFGRklYIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmFmZml4JylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5hZmZpeCcsIChkYXRhID0gbmV3IEFmZml4KHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5hZmZpeFxuXG4gICQuZm4uYWZmaXggICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5hZmZpeC5Db25zdHJ1Y3RvciA9IEFmZml4XG5cblxuICAvLyBBRkZJWCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYWZmaXgubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmFmZml4ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQUZGSVggREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwiYWZmaXhcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkc3B5ID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgPSAkc3B5LmRhdGEoKVxuXG4gICAgICBkYXRhLm9mZnNldCA9IGRhdGEub2Zmc2V0IHx8IHt9XG5cbiAgICAgIGlmIChkYXRhLm9mZnNldEJvdHRvbSkgZGF0YS5vZmZzZXQuYm90dG9tID0gZGF0YS5vZmZzZXRCb3R0b21cbiAgICAgIGlmIChkYXRhLm9mZnNldFRvcCkgICAgZGF0YS5vZmZzZXQudG9wICAgID0gZGF0YS5vZmZzZXRUb3BcblxuICAgICAgUGx1Z2luLmNhbGwoJHNweSwgZGF0YSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBhbGVydC5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FsZXJ0c1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFMRVJUIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBkaXNtaXNzID0gJ1tkYXRhLWRpc21pc3M9XCJhbGVydFwiXSdcbiAgdmFyIEFsZXJ0ICAgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAkKGVsKS5vbignY2xpY2snLCBkaXNtaXNzLCB0aGlzLmNsb3NlKVxuICB9XG5cbiAgQWxlcnQuVkVSU0lPTiA9ICczLjIuMCdcblxuICBBbGVydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgICA9ICQodGhpcylcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIHZhciAkcGFyZW50ID0gJChzZWxlY3RvcilcblxuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGlmICghJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgICRwYXJlbnQgPSAkdGhpcy5oYXNDbGFzcygnYWxlcnQnKSA/ICR0aGlzIDogJHRoaXMucGFyZW50KClcbiAgICB9XG5cbiAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2Nsb3NlLmJzLmFsZXJ0JykpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KCkge1xuICAgICAgLy8gZGV0YWNoIGZyb20gcGFyZW50LCBmaXJlIGV2ZW50IHRoZW4gY2xlYW4gdXAgZGF0YVxuICAgICAgJHBhcmVudC5kZXRhY2goKS50cmlnZ2VyKCdjbG9zZWQuYnMuYWxlcnQnKS5yZW1vdmUoKVxuICAgIH1cblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmICRwYXJlbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAkcGFyZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIHJlbW92ZUVsZW1lbnQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgIHJlbW92ZUVsZW1lbnQoKVxuICB9XG5cblxuICAvLyBBTEVSVCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLmFsZXJ0JylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5hbGVydCcsIChkYXRhID0gbmV3IEFsZXJ0KHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcylcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWxlcnRcblxuICAkLmZuLmFsZXJ0ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWxlcnQuQ29uc3RydWN0b3IgPSBBbGVydFxuXG5cbiAgLy8gQUxFUlQgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFsZXJ0Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hbGVydCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFMRVJUIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpJywgZGlzbWlzcywgQWxlcnQucHJvdG90eXBlLmNsb3NlKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBidXR0b24uanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNidXR0b25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQlVUVE9OIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBCdXR0b24gPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgID0gJC5leHRlbmQoe30sIEJ1dHRvbi5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXG4gIH1cblxuICBCdXR0b24uVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgQnV0dG9uLkRFRkFVTFRTID0ge1xuICAgIGxvYWRpbmdUZXh0OiAnbG9hZGluZy4uLidcbiAgfVxuXG4gIEJ1dHRvbi5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICB2YXIgZCAgICA9ICdkaXNhYmxlZCdcbiAgICB2YXIgJGVsICA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgdmFsICA9ICRlbC5pcygnaW5wdXQnKSA/ICd2YWwnIDogJ2h0bWwnXG4gICAgdmFyIGRhdGEgPSAkZWwuZGF0YSgpXG5cbiAgICBzdGF0ZSA9IHN0YXRlICsgJ1RleHQnXG5cbiAgICBpZiAoZGF0YS5yZXNldFRleHQgPT0gbnVsbCkgJGVsLmRhdGEoJ3Jlc2V0VGV4dCcsICRlbFt2YWxdKCkpXG5cbiAgICAkZWxbdmFsXShkYXRhW3N0YXRlXSA9PSBudWxsID8gdGhpcy5vcHRpb25zW3N0YXRlXSA6IGRhdGFbc3RhdGVdKVxuXG4gICAgLy8gcHVzaCB0byBldmVudCBsb29wIHRvIGFsbG93IGZvcm1zIHRvIHN1Ym1pdFxuICAgIHNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc3RhdGUgPT0gJ2xvYWRpbmdUZXh0Jykge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWVcbiAgICAgICAgJGVsLmFkZENsYXNzKGQpLmF0dHIoZCwgZClcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICAkZWwucmVtb3ZlQ2xhc3MoZCkucmVtb3ZlQXR0cihkKVxuICAgICAgfVxuICAgIH0sIHRoaXMpLCAwKVxuICB9XG5cbiAgQnV0dG9uLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNoYW5nZWQgPSB0cnVlXG4gICAgdmFyICRwYXJlbnQgPSB0aGlzLiRlbGVtZW50LmNsb3Nlc3QoJ1tkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIl0nKVxuXG4gICAgaWYgKCRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICB2YXIgJGlucHV0ID0gdGhpcy4kZWxlbWVudC5maW5kKCdpbnB1dCcpXG4gICAgICBpZiAoJGlucHV0LnByb3AoJ3R5cGUnKSA9PSAncmFkaW8nKSB7XG4gICAgICAgIGlmICgkaW5wdXQucHJvcCgnY2hlY2tlZCcpICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSBjaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgZWxzZSAkcGFyZW50LmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cbiAgICAgIGlmIChjaGFuZ2VkKSAkaW5wdXQucHJvcCgnY2hlY2tlZCcsICF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkudHJpZ2dlcignY2hhbmdlJylcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZCkgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgfVxuXG5cbiAgLy8gQlVUVE9OIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5idXR0b24nKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmJ1dHRvbicsIChkYXRhID0gbmV3IEJ1dHRvbih0aGlzLCBvcHRpb25zKSkpXG5cbiAgICAgIGlmIChvcHRpb24gPT0gJ3RvZ2dsZScpIGRhdGEudG9nZ2xlKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbikgZGF0YS5zZXRTdGF0ZShvcHRpb24pXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmJ1dHRvblxuXG4gICQuZm4uYnV0dG9uICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYnV0dG9uLkNvbnN0cnVjdG9yID0gQnV0dG9uXG5cblxuICAvLyBCVVRUT04gTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5idXR0b24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmJ1dHRvbiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEJVVFRPTiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuYnV0dG9uLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkYnRuID0gJChlLnRhcmdldClcbiAgICBpZiAoISRidG4uaGFzQ2xhc3MoJ2J0bicpKSAkYnRuID0gJGJ0bi5jbG9zZXN0KCcuYnRuJylcbiAgICBQbHVnaW4uY2FsbCgkYnRuLCAndG9nZ2xlJylcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY2Fyb3VzZWwuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjYXJvdXNlbFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENBUk9VU0VMIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICA9ICQoZWxlbWVudCkub24oJ2tleWRvd24uYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMua2V5ZG93biwgdGhpcykpXG4gICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmNhcm91c2VsLWluZGljYXRvcnMnKVxuICAgIHRoaXMub3B0aW9ucyAgICAgPSBvcHRpb25zXG4gICAgdGhpcy5wYXVzZWQgICAgICA9XG4gICAgdGhpcy5zbGlkaW5nICAgICA9XG4gICAgdGhpcy5pbnRlcnZhbCAgICA9XG4gICAgdGhpcy4kYWN0aXZlICAgICA9XG4gICAgdGhpcy4kaXRlbXMgICAgICA9IG51bGxcblxuICAgIHRoaXMub3B0aW9ucy5wYXVzZSA9PSAnaG92ZXInICYmIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbignbW91c2VlbnRlci5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5wYXVzZSwgdGhpcykpXG4gICAgICAub24oJ21vdXNlbGVhdmUuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMuY3ljbGUsIHRoaXMpKVxuICB9XG5cbiAgQ2Fyb3VzZWwuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgQ2Fyb3VzZWwuREVGQVVMVFMgPSB7XG4gICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgcGF1c2U6ICdob3ZlcicsXG4gICAgd3JhcDogdHJ1ZVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgY2FzZSAzNzogdGhpcy5wcmV2KCk7IGJyZWFrXG4gICAgICBjYXNlIDM5OiB0aGlzLm5leHQoKTsgYnJlYWtcbiAgICAgIGRlZmF1bHQ6IHJldHVyblxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmN5Y2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IGZhbHNlKVxuXG4gICAgdGhpcy5pbnRlcnZhbCAmJiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcbiAgICAgICYmICF0aGlzLnBhdXNlZFxuICAgICAgJiYgKHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMubmV4dCwgdGhpcyksIHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdGhpcy4kaXRlbXMgPSBpdGVtLnBhcmVudCgpLmNoaWxkcmVuKCcuaXRlbScpXG4gICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmluZGV4KGl0ZW0gfHwgdGhpcy4kYWN0aXZlKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHBvcykge1xuICAgIHZhciB0aGF0ICAgICAgICA9IHRoaXNcbiAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmUgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpKVxuXG4gICAgaWYgKHBvcyA+ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSB8fCBwb3MgPCAwKSByZXR1cm5cblxuICAgIGlmICh0aGlzLnNsaWRpbmcpICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50Lm9uZSgnc2xpZC5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uICgpIHsgdGhhdC50byhwb3MpIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoYWN0aXZlSW5kZXggPT0gcG9zKSByZXR1cm4gdGhpcy5wYXVzZSgpLmN5Y2xlKClcblxuICAgIHJldHVybiB0aGlzLnNsaWRlKHBvcyA+IGFjdGl2ZUluZGV4ID8gJ25leHQnIDogJ3ByZXYnLCAkKHRoaXMuJGl0ZW1zW3Bvc10pKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IHRydWUpXG5cbiAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCcubmV4dCwgLnByZXYnKS5sZW5ndGggJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpXG4gICAgICB0aGlzLmN5Y2xlKHRydWUpXG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICByZXR1cm4gdGhpcy5zbGlkZSgnbmV4dCcpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICByZXR1cm4gdGhpcy5zbGlkZSgncHJldicpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuc2xpZGUgPSBmdW5jdGlvbiAodHlwZSwgbmV4dCkge1xuICAgIHZhciAkYWN0aXZlICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpXG4gICAgdmFyICRuZXh0ICAgICA9IG5leHQgfHwgJGFjdGl2ZVt0eXBlXSgpXG4gICAgdmFyIGlzQ3ljbGluZyA9IHRoaXMuaW50ZXJ2YWxcbiAgICB2YXIgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnXG4gICAgdmFyIGZhbGxiYWNrICA9IHR5cGUgPT0gJ25leHQnID8gJ2ZpcnN0JyA6ICdsYXN0J1xuICAgIHZhciB0aGF0ICAgICAgPSB0aGlzXG5cbiAgICBpZiAoISRuZXh0Lmxlbmd0aCkge1xuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMud3JhcCkgcmV0dXJuXG4gICAgICAkbmV4dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0nKVtmYWxsYmFja10oKVxuICAgIH1cblxuICAgIGlmICgkbmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybiAodGhpcy5zbGlkaW5nID0gZmFsc2UpXG5cbiAgICB2YXIgcmVsYXRlZFRhcmdldCA9ICRuZXh0WzBdXG4gICAgdmFyIHNsaWRlRXZlbnQgPSAkLkV2ZW50KCdzbGlkZS5icy5jYXJvdXNlbCcsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsXG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgIH0pXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRlRXZlbnQpXG4gICAgaWYgKHNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5zbGlkaW5nID0gdHJ1ZVxuXG4gICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKVxuXG4gICAgaWYgKHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIHZhciAkbmV4dEluZGljYXRvciA9ICQodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KCRuZXh0KV0pXG4gICAgICAkbmV4dEluZGljYXRvciAmJiAkbmV4dEluZGljYXRvci5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICB2YXIgc2xpZEV2ZW50ID0gJC5FdmVudCgnc2xpZC5icy5jYXJvdXNlbCcsIHsgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCwgZGlyZWN0aW9uOiBkaXJlY3Rpb24gfSkgLy8geWVzLCBcInNsaWRcIlxuICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdzbGlkZScpKSB7XG4gICAgICAkbmV4dC5hZGRDbGFzcyh0eXBlKVxuICAgICAgJG5leHRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICAkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICRuZXh0LmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRuZXh0LnJlbW92ZUNsYXNzKFt0eXBlLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcyhbJ2FjdGl2ZScsIGRpcmVjdGlvbl0uam9pbignICcpKVxuICAgICAgICAgIHRoYXQuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgICAgIH0sIDApXG4gICAgICAgIH0pXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgkYWN0aXZlLmNzcygndHJhbnNpdGlvbi1kdXJhdGlvbicpLnNsaWNlKDAsIC0xKSAqIDEwMDApXG4gICAgfSBlbHNlIHtcbiAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAkbmV4dC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgIH1cblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLmN5Y2xlKClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENBUk9VU0VMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENhcm91c2VsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuICAgICAgdmFyIGFjdGlvbiAgPSB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnID8gb3B0aW9uIDogb3B0aW9ucy5zbGlkZVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJywgKGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ251bWJlcicpIGRhdGEudG8ob3B0aW9uKVxuICAgICAgZWxzZSBpZiAoYWN0aW9uKSBkYXRhW2FjdGlvbl0oKVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5pbnRlcnZhbCkgZGF0YS5wYXVzZSgpLmN5Y2xlKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY2Fyb3VzZWxcblxuICAkLmZuLmNhcm91c2VsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBDYXJvdXNlbFxuXG5cbiAgLy8gQ0FST1VTRUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNhcm91c2VsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jYXJvdXNlbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENBUk9VU0VMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXSwgW2RhdGEtc2xpZGUtdG9dJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIGlmICghJHRhcmdldC5oYXNDbGFzcygnY2Fyb3VzZWwnKSkgcmV0dXJuXG4gICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcbiAgICB2YXIgc2xpZGVJbmRleCA9ICR0aGlzLmF0dHIoJ2RhdGEtc2xpZGUtdG8nKVxuICAgIGlmIChzbGlkZUluZGV4KSBvcHRpb25zLmludGVydmFsID0gZmFsc2VcblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbnMpXG5cbiAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgJHRhcmdldC5kYXRhKCdicy5jYXJvdXNlbCcpLnRvKHNsaWRlSW5kZXgpXG4gICAgfVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH0pXG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXJpZGU9XCJjYXJvdXNlbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRjYXJvdXNlbCA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2NvbGxhcHNlXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ09MTEFQU0UgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ29sbGFwc2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gbnVsbFxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXJlbnQpIHRoaXMuJHBhcmVudCA9ICQodGhpcy5vcHRpb25zLnBhcmVudClcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvZ2dsZSkgdGhpcy50b2dnbGUoKVxuICB9XG5cbiAgQ29sbGFwc2UuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgQ29sbGFwc2UuREVGQVVMVFMgPSB7XG4gICAgdG9nZ2xlOiB0cnVlXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuZGltZW5zaW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJylcbiAgICByZXR1cm4gaGFzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCdcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5maW5kKCc+IC5wYW5lbCA+IC5pbicpXG5cbiAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgdmFyIGhhc0RhdGEgPSBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIGlmIChoYXNEYXRhICYmIGhhc0RhdGEudHJhbnNpdGlvbmluZykgcmV0dXJuXG4gICAgICBQbHVnaW4uY2FsbChhY3RpdmVzLCAnaGlkZScpXG4gICAgICBoYXNEYXRhIHx8IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnLCBudWxsKVxuICAgIH1cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpW2RpbWVuc2lvbl0oMClcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZSBpbicpW2RpbWVuc2lvbl0oJycpXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5jb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHZhciBzY3JvbGxTaXplID0gJC5jYW1lbENhc2UoWydzY3JvbGwnLCBkaW1lbnNpb25dLmpvaW4oJy0nKSlcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDM1MClbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodFxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC50cmlnZ2VyKCdoaWRkZW4uYnMuY29sbGFwc2UnKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgW2RpbWVuc2lvbl0oMClcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDM1MClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpID8gJ2hpZGUnIDogJ3Nob3cnXSgpXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy50b2dnbGUgJiYgb3B0aW9uID09ICdzaG93Jykgb3B0aW9uID0gIW9wdGlvblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScsIChkYXRhID0gbmV3IENvbGxhcHNlKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5jb2xsYXBzZVxuXG4gICQuZm4uY29sbGFwc2UgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5jb2xsYXBzZS5Db25zdHJ1Y3RvciA9IENvbGxhcHNlXG5cblxuICAvLyBDT0xMQVBTRSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uY29sbGFwc2Uubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmNvbGxhcHNlID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuY29sbGFwc2UuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBocmVmXG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyIHRhcmdldCAgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG4gICAgICAgIHx8IGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIHZhciAkdGFyZ2V0ID0gJCh0YXJnZXQpXG4gICAgdmFyIGRhdGEgICAgPSAkdGFyZ2V0LmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICB2YXIgb3B0aW9uICA9IGRhdGEgPyAndG9nZ2xlJyA6ICR0aGlzLmRhdGEoKVxuICAgIHZhciBwYXJlbnQgID0gJHRoaXMuYXR0cignZGF0YS1wYXJlbnQnKVxuICAgIHZhciAkcGFyZW50ID0gcGFyZW50ICYmICQocGFyZW50KVxuXG4gICAgaWYgKCFkYXRhIHx8ICFkYXRhLnRyYW5zaXRpb25pbmcpIHtcbiAgICAgIGlmICgkcGFyZW50KSAkcGFyZW50LmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHBhcmVudCArICdcIl0nKS5ub3QoJHRoaXMpLmFkZENsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgJHRoaXNbJHRhcmdldC5oYXNDbGFzcygnaW4nKSA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXSgnY29sbGFwc2VkJylcbiAgICB9XG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGRyb3Bkb3duLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jZHJvcGRvd25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gRFJPUERPV04gQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGJhY2tkcm9wID0gJy5kcm9wZG93bi1iYWNrZHJvcCdcbiAgdmFyIHRvZ2dsZSAgID0gJ1tkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJdJ1xuICB2YXIgRHJvcGRvd24gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICQoZWxlbWVudCkub24oJ2NsaWNrLmJzLmRyb3Bkb3duJywgdGhpcy50b2dnbGUpXG4gIH1cblxuICBEcm9wZG93bi5WRVJTSU9OID0gJzMuMi4wJ1xuXG4gIERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyA9ICQodGhpcylcblxuICAgIGlmICgkdGhpcy5pcygnLmRpc2FibGVkLCA6ZGlzYWJsZWQnKSkgcmV0dXJuXG5cbiAgICB2YXIgJHBhcmVudCAgPSBnZXRQYXJlbnQoJHRoaXMpXG4gICAgdmFyIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpXG5cbiAgICBjbGVhck1lbnVzKClcblxuICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgISRwYXJlbnQuY2xvc2VzdCgnLm5hdmJhci1uYXYnKS5sZW5ndGgpIHtcbiAgICAgICAgLy8gaWYgbW9iaWxlIHdlIHVzZSBhIGJhY2tkcm9wIGJlY2F1c2UgY2xpY2sgZXZlbnRzIGRvbid0IGRlbGVnYXRlXG4gICAgICAgICQoJzxkaXYgY2xhc3M9XCJkcm9wZG93bi1iYWNrZHJvcFwiLz4nKS5pbnNlcnRBZnRlcigkKHRoaXMpKS5vbignY2xpY2snLCBjbGVhck1lbnVzKVxuICAgICAgfVxuXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ3Nob3cuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpcy50cmlnZ2VyKCdmb2N1cycpXG5cbiAgICAgICRwYXJlbnRcbiAgICAgICAgLnRvZ2dsZUNsYXNzKCdvcGVuJylcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldClcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoIS8oMzh8NDB8MjcpLy50ZXN0KGUua2V5Q29kZSkpIHJldHVyblxuXG4gICAgdmFyICR0aGlzID0gJCh0aGlzKVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgaWYgKCR0aGlzLmlzKCcuZGlzYWJsZWQsIDpkaXNhYmxlZCcpKSByZXR1cm5cblxuICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcbiAgICB2YXIgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJylcblxuICAgIGlmICghaXNBY3RpdmUgfHwgKGlzQWN0aXZlICYmIGUua2V5Q29kZSA9PSAyNykpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDI3KSAkcGFyZW50LmZpbmQodG9nZ2xlKS50cmlnZ2VyKCdmb2N1cycpXG4gICAgICByZXR1cm4gJHRoaXMudHJpZ2dlcignY2xpY2snKVxuICAgIH1cblxuICAgIHZhciBkZXNjID0gJyBsaTpub3QoLmRpdmlkZXIpOnZpc2libGUgYSdcbiAgICB2YXIgJGl0ZW1zID0gJHBhcmVudC5maW5kKCdbcm9sZT1cIm1lbnVcIl0nICsgZGVzYyArICcsIFtyb2xlPVwibGlzdGJveFwiXScgKyBkZXNjKVxuXG4gICAgaWYgKCEkaXRlbXMubGVuZ3RoKSByZXR1cm5cblxuICAgIHZhciBpbmRleCA9ICRpdGVtcy5pbmRleCgkaXRlbXMuZmlsdGVyKCc6Zm9jdXMnKSlcblxuICAgIGlmIChlLmtleUNvZGUgPT0gMzggJiYgaW5kZXggPiAwKSAgICAgICAgICAgICAgICAgaW5kZXgtLSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwXG4gICAgaWYgKGUua2V5Q29kZSA9PSA0MCAmJiBpbmRleCA8ICRpdGVtcy5sZW5ndGggLSAxKSBpbmRleCsrICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG93blxuICAgIGlmICghfmluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwXG5cbiAgICAkaXRlbXMuZXEoaW5kZXgpLnRyaWdnZXIoJ2ZvY3VzJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyTWVudXMoZSkge1xuICAgIGlmIChlICYmIGUud2hpY2ggPT09IDMpIHJldHVyblxuICAgICQoYmFja2Ryb3ApLnJlbW92ZSgpXG4gICAgJCh0b2dnbGUpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRwYXJlbnQgPSBnZXRQYXJlbnQoJCh0aGlzKSlcbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0geyByZWxhdGVkVGFyZ2V0OiB0aGlzIH1cbiAgICAgIGlmICghJHBhcmVudC5oYXNDbGFzcygnb3BlbicpKSByZXR1cm5cbiAgICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnaGlkZS5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygnb3BlbicpLnRyaWdnZXIoJ2hpZGRlbi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpXG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBhcmVudCgkdGhpcykge1xuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIC8jW0EtWmEtel0vLnRlc3Qoc2VsZWN0b3IpICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgdmFyICRwYXJlbnQgPSBzZWxlY3RvciAmJiAkKHNlbGVjdG9yKVxuXG4gICAgcmV0dXJuICRwYXJlbnQgJiYgJHBhcmVudC5sZW5ndGggPyAkcGFyZW50IDogJHRoaXMucGFyZW50KClcbiAgfVxuXG5cbiAgLy8gRFJPUERPV04gUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5kcm9wZG93bicpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nLCAoZGF0YSA9IG5ldyBEcm9wZG93bih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmRyb3Bkb3duXG5cbiAgJC5mbi5kcm9wZG93biAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmRyb3Bkb3duLkNvbnN0cnVjdG9yID0gRHJvcGRvd25cblxuXG4gIC8vIERST1BET1dOIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5kcm9wZG93bi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uZHJvcGRvd24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBUFBMWSBUTyBTVEFOREFSRCBEUk9QRE9XTiBFTEVNRU5UU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIGNsZWFyTWVudXMpXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsICcuZHJvcGRvd24gZm9ybScsIGZ1bmN0aW9uIChlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCkgfSlcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlLCBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlKVxuICAgIC5vbigna2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSArICcsIFtyb2xlPVwibWVudVwiXSwgW3JvbGU9XCJsaXN0Ym94XCJdJywgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRhYi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3RhYnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBUQUIgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBUYWIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9ICQoZWxlbWVudClcbiAgfVxuXG4gIFRhYi5WRVJTSU9OID0gJzMuMi4wJ1xuXG4gIFRhYi5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRoaXMgICAgPSB0aGlzLmVsZW1lbnRcbiAgICB2YXIgJHVsICAgICAgPSAkdGhpcy5jbG9zZXN0KCd1bDpub3QoLmRyb3Bkb3duLW1lbnUpJylcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5kYXRhKCd0YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICBpZiAoJHRoaXMucGFyZW50KCdsaScpLmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuXG5cbiAgICB2YXIgcHJldmlvdXMgPSAkdWwuZmluZCgnLmFjdGl2ZTpsYXN0IGEnKVswXVxuICAgIHZhciBlICAgICAgICA9ICQuRXZlbnQoJ3Nob3cuYnMudGFiJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXNcbiAgICB9KVxuXG4gICAgJHRoaXMudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyICR0YXJnZXQgPSAkKHNlbGVjdG9yKVxuXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGhpcy5jbG9zZXN0KCdsaScpLCAkdWwpXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGFyZ2V0LCAkdGFyZ2V0LnBhcmVudCgpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3Nob3duLmJzLnRhYicsXG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHByZXZpb3VzXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBUYWIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICB2YXIgJGFjdGl2ZSAgICA9IGNvbnRhaW5lci5maW5kKCc+IC5hY3RpdmUnKVxuICAgIHZhciB0cmFuc2l0aW9uID0gY2FsbGJhY2tcbiAgICAgICYmICQuc3VwcG9ydC50cmFuc2l0aW9uXG4gICAgICAmJiAkYWN0aXZlLmhhc0NsYXNzKCdmYWRlJylcblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmZpbmQoJz4gLmRyb3Bkb3duLW1lbnUgPiAuYWN0aXZlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuXG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdhY3RpdmUnKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIHJlZmxvdyBmb3IgdHJhbnNpdGlvblxuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdpbicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdmYWRlJylcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQucGFyZW50KCcuZHJvcGRvd24tbWVudScpKSB7XG4gICAgICAgIGVsZW1lbnQuY2xvc2VzdCgnbGkuZHJvcGRvd24nKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgIH1cblxuICAgIHRyYW5zaXRpb24gP1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBuZXh0KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICBuZXh0KClcblxuICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2luJylcbiAgfVxuXG5cbiAgLy8gVEFCIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLnRhYicpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMudGFiJywgKGRhdGEgPSBuZXcgVGFiKHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi50YWJcblxuICAkLmZuLnRhYiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRhYi5Db25zdHJ1Y3RvciA9IFRhYlxuXG5cbiAgLy8gVEFCIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PVxuXG4gICQuZm4udGFiLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi50YWIgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBUQUIgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLnRhYi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJ0YWJcIl0sIFtkYXRhLXRvZ2dsZT1cInBpbGxcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIFBsdWdpbi5jYWxsKCQodGhpcyksICdzaG93JylcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdHJhbnNpdGlvbi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3RyYW5zaXRpb25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ1NTIFRSQU5TSVRJT04gU1VQUE9SVCAoU2hvdXRvdXQ6IGh0dHA6Ly93d3cubW9kZXJuaXpyLmNvbS8pXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJylcblxuICAgIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgTW96VHJhbnNpdGlvbiAgICA6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgIE9UcmFuc2l0aW9uICAgICAgOiAnb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQnLFxuICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgIH1cblxuICAgIGZvciAodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKSB7XG4gICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geyBlbmQ6IHRyYW5zRW5kRXZlbnROYW1lc1tuYW1lXSB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlIC8vIGV4cGxpY2l0IGZvciBpZTggKCAgLl8uKVxuICB9XG5cbiAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZHVyYXRpb24pIHtcbiAgICB2YXIgY2FsbGVkID0gZmFsc2VcbiAgICB2YXIgJGVsID0gdGhpc1xuICAgICQodGhpcykub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWUgfSlcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IGlmICghY2FsbGVkKSAkKCRlbCkudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpIH1cbiAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgJChmdW5jdGlvbiAoKSB7XG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRW5kKClcblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVyblxuXG4gICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcbiAgICAgIGJpbmRUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBkZWxlZ2F0ZVR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoaXMpKSByZXR1cm4gZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBzY3JvbGxzcHkuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNzY3JvbGxzcHlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBTQ1JPTExTUFkgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFNjcm9sbFNweShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdmFyIHByb2Nlc3MgID0gJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpXG5cbiAgICB0aGlzLiRib2R5ICAgICAgICAgID0gJCgnYm9keScpXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudCA9ICQoZWxlbWVudCkuaXMoJ2JvZHknKSA/ICQod2luZG93KSA6ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gJC5leHRlbmQoe30sIFNjcm9sbFNweS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLnNlbGVjdG9yICAgICAgID0gKHRoaXMub3B0aW9ucy50YXJnZXQgfHwgJycpICsgJyAubmF2IGxpID4gYSdcbiAgICB0aGlzLm9mZnNldHMgICAgICAgID0gW11cbiAgICB0aGlzLnRhcmdldHMgICAgICAgID0gW11cbiAgICB0aGlzLmFjdGl2ZVRhcmdldCAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ICAgPSAwXG5cbiAgICB0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCdzY3JvbGwuYnMuc2Nyb2xsc3B5JywgcHJvY2VzcylcbiAgICB0aGlzLnJlZnJlc2goKVxuICAgIHRoaXMucHJvY2VzcygpXG4gIH1cblxuICBTY3JvbGxTcHkuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgU2Nyb2xsU3B5LkRFRkFVTFRTID0ge1xuICAgIG9mZnNldDogMTBcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuZ2V0U2Nyb2xsSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodCB8fCBNYXRoLm1heCh0aGlzLiRib2R5WzBdLnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodClcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb2Zmc2V0TWV0aG9kID0gJ29mZnNldCdcbiAgICB2YXIgb2Zmc2V0QmFzZSAgID0gMFxuXG4gICAgaWYgKCEkLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pKSB7XG4gICAgICBvZmZzZXRNZXRob2QgPSAncG9zaXRpb24nXG4gICAgICBvZmZzZXRCYXNlICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpXG4gICAgfVxuXG4gICAgdGhpcy5vZmZzZXRzID0gW11cbiAgICB0aGlzLnRhcmdldHMgPSBbXVxuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKVxuXG4gICAgdmFyIHNlbGYgICAgID0gdGhpc1xuXG4gICAgdGhpcy4kYm9keVxuICAgICAgLmZpbmQodGhpcy5zZWxlY3RvcilcbiAgICAgIC5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGVsICAgPSAkKHRoaXMpXG4gICAgICAgIHZhciBocmVmICA9ICRlbC5kYXRhKCd0YXJnZXQnKSB8fCAkZWwuYXR0cignaHJlZicpXG4gICAgICAgIHZhciAkaHJlZiA9IC9eIy4vLnRlc3QoaHJlZikgJiYgJChocmVmKVxuXG4gICAgICAgIHJldHVybiAoJGhyZWZcbiAgICAgICAgICAmJiAkaHJlZi5sZW5ndGhcbiAgICAgICAgICAmJiAkaHJlZi5pcygnOnZpc2libGUnKVxuICAgICAgICAgICYmIFtbJGhyZWZbb2Zmc2V0TWV0aG9kXSgpLnRvcCArIG9mZnNldEJhc2UsIGhyZWZdXSkgfHwgbnVsbFxuICAgICAgfSlcbiAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhWzBdIC0gYlswXSB9KVxuICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLm9mZnNldHMucHVzaCh0aGlzWzBdKVxuICAgICAgICBzZWxmLnRhcmdldHMucHVzaCh0aGlzWzFdKVxuICAgICAgfSlcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2Nyb2xsVG9wICAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSArIHRoaXMub3B0aW9ucy5vZmZzZXRcbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKVxuICAgIHZhciBtYXhTY3JvbGwgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0ICsgc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kc2Nyb2xsRWxlbWVudC5oZWlnaHQoKVxuICAgIHZhciBvZmZzZXRzICAgICAgPSB0aGlzLm9mZnNldHNcbiAgICB2YXIgdGFyZ2V0cyAgICAgID0gdGhpcy50YXJnZXRzXG4gICAgdmFyIGFjdGl2ZVRhcmdldCA9IHRoaXMuYWN0aXZlVGFyZ2V0XG4gICAgdmFyIGlcblxuICAgIGlmICh0aGlzLnNjcm9sbEhlaWdodCAhPSBzY3JvbGxIZWlnaHQpIHtcbiAgICAgIHRoaXMucmVmcmVzaCgpXG4gICAgfVxuXG4gICAgaWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGwpIHtcbiAgICAgIHJldHVybiBhY3RpdmVUYXJnZXQgIT0gKGkgPSB0YXJnZXRzW3RhcmdldHMubGVuZ3RoIC0gMV0pICYmIHRoaXMuYWN0aXZhdGUoaSlcbiAgICB9XG5cbiAgICBpZiAoYWN0aXZlVGFyZ2V0ICYmIHNjcm9sbFRvcCA8PSBvZmZzZXRzWzBdKSB7XG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1swXSkgJiYgdGhpcy5hY3RpdmF0ZShpKVxuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICBhY3RpdmVUYXJnZXQgIT0gdGFyZ2V0c1tpXVxuICAgICAgICAmJiBzY3JvbGxUb3AgPj0gb2Zmc2V0c1tpXVxuICAgICAgICAmJiAoIW9mZnNldHNbaSArIDFdIHx8IHNjcm9sbFRvcCA8PSBvZmZzZXRzW2kgKyAxXSlcbiAgICAgICAgJiYgdGhpcy5hY3RpdmF0ZSh0YXJnZXRzW2ldKVxuICAgIH1cbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgPSB0YXJnZXRcblxuICAgICQodGhpcy5zZWxlY3RvcilcbiAgICAgIC5wYXJlbnRzVW50aWwodGhpcy5vcHRpb25zLnRhcmdldCwgJy5hY3RpdmUnKVxuICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuXG4gICAgdmFyIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciArXG4gICAgICAgICdbZGF0YS10YXJnZXQ9XCInICsgdGFyZ2V0ICsgJ1wiXSwnICtcbiAgICAgICAgdGhpcy5zZWxlY3RvciArICdbaHJlZj1cIicgKyB0YXJnZXQgKyAnXCJdJ1xuXG4gICAgdmFyIGFjdGl2ZSA9ICQoc2VsZWN0b3IpXG4gICAgICAucGFyZW50cygnbGknKVxuICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuXG4gICAgaWYgKGFjdGl2ZS5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykubGVuZ3RoKSB7XG4gICAgICBhY3RpdmUgPSBhY3RpdmVcbiAgICAgICAgLmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJylcbiAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIGFjdGl2ZS50cmlnZ2VyKCdhY3RpdmF0ZS5icy5zY3JvbGxzcHknKVxuICB9XG5cblxuICAvLyBTQ1JPTExTUFkgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JywgKGRhdGEgPSBuZXcgU2Nyb2xsU3B5KHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5zY3JvbGxzcHlcblxuICAkLmZuLnNjcm9sbHNweSAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnNjcm9sbHNweS5Db25zdHJ1Y3RvciA9IFNjcm9sbFNweVxuXG5cbiAgLy8gU0NST0xMU1BZIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uc2Nyb2xsc3B5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5zY3JvbGxzcHkgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBTQ1JPTExTUFkgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkLmJzLnNjcm9sbHNweS5kYXRhLWFwaScsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkc3B5ID0gJCh0aGlzKVxuICAgICAgUGx1Z2luLmNhbGwoJHNweSwgJHNweS5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogbW9kYWwuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNtb2RhbHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBNT0RBTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgTW9kYWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyAgICAgICAgPSBvcHRpb25zXG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoZG9jdW1lbnQuYm9keSlcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuJGJhY2tkcm9wICAgICAgPVxuICAgIHRoaXMuaXNTaG93biAgICAgICAgPSBudWxsXG4gICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IDBcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3RlKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5maW5kKCcubW9kYWwtY29udGVudCcpXG4gICAgICAgIC5sb2FkKHRoaXMub3B0aW9ucy5yZW1vdGUsICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignbG9hZGVkLmJzLm1vZGFsJylcbiAgICAgICAgfSwgdGhpcykpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgTW9kYWwuREVGQVVMVFMgPSB7XG4gICAgYmFja2Ryb3A6IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgc2hvdzogdHJ1ZVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmlzU2hvd24gPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGUgICAgPSAkLkV2ZW50KCdzaG93LmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAodGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gdHJ1ZVxuXG4gICAgdGhpcy5jaGVja1Njcm9sbGJhcigpXG4gICAgdGhpcy4kYm9keS5hZGRDbGFzcygnbW9kYWwtb3BlbicpXG5cbiAgICB0aGlzLnNldFNjcm9sbGJhcigpXG4gICAgdGhpcy5lc2NhcGUoKVxuXG4gICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcsICdbZGF0YS1kaXNtaXNzPVwibW9kYWxcIl0nLCAkLnByb3h5KHRoaXMuaGlkZSwgdGhpcykpXG5cbiAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0cmFuc2l0aW9uID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhhdC4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpXG5cbiAgICAgIGlmICghdGhhdC4kZWxlbWVudC5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudC5hcHBlbmRUbyh0aGF0LiRib2R5KSAvLyBkb24ndCBtb3ZlIG1vZGFscyBkb20gcG9zaXRpb25cbiAgICAgIH1cblxuICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAuc2hvdygpXG4gICAgICAgIC5zY3JvbGxUb3AoMClcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgIH1cblxuICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAuYWRkQ2xhc3MoJ2luJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgZmFsc2UpXG5cbiAgICAgIHRoYXQuZW5mb3JjZUZvY3VzKClcblxuICAgICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93bi5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgICAgdHJhbnNpdGlvbiA/XG4gICAgICAgIHRoYXQuJGVsZW1lbnQuZmluZCgnLm1vZGFsLWRpYWxvZycpIC8vIHdhaXQgZm9yIG1vZGFsIHRvIHNsaWRlIGluXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpLnRyaWdnZXIoZSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApIDpcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpLnRyaWdnZXIoZSlcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGUgPSAkLkV2ZW50KCdoaWRlLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKCF0aGlzLmlzU2hvd24gfHwgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmlzU2hvd24gPSBmYWxzZVxuXG4gICAgdGhpcy4kYm9keS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpXG5cbiAgICB0aGlzLnJlc2V0U2Nyb2xsYmFyKClcbiAgICB0aGlzLmVzY2FwZSgpXG5cbiAgICAkKGRvY3VtZW50KS5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdpbicpXG4gICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKVxuICAgICAgLm9mZignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcpXG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KHRoaXMuaGlkZU1vZGFsLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDMwMCkgOlxuICAgICAgdGhpcy5oaWRlTW9kYWwoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVuZm9yY2VGb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKGRvY3VtZW50KVxuICAgICAgLm9mZignZm9jdXNpbi5icy5tb2RhbCcpIC8vIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgZm9jdXMgbG9vcFxuICAgICAgLm9uKCdmb2N1c2luLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAodGhpcy4kZWxlbWVudFswXSAhPT0gZS50YXJnZXQgJiYgIXRoaXMuJGVsZW1lbnQuaGFzKGUudGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcykpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuZXNjYXBlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmtleWJvYXJkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdrZXl1cC5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLndoaWNoID09IDI3ICYmIHRoaXMuaGlkZSgpXG4gICAgICB9LCB0aGlzKSlcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdrZXl1cC5kaXNtaXNzLmJzLm1vZGFsJylcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZU1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHRoaXMuJGVsZW1lbnQuaGlkZSgpXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy5tb2RhbCcpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRiYWNrZHJvcCAmJiB0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKVxuICAgIHRoaXMuJGJhY2tkcm9wID0gbnVsbFxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmJhY2tkcm9wID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGFuaW1hdGUgPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgPyAnZmFkZScgOiAnJ1xuXG4gICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLm9wdGlvbnMuYmFja2Ryb3ApIHtcbiAgICAgIHZhciBkb0FuaW1hdGUgPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiBhbmltYXRlXG5cbiAgICAgIHRoaXMuJGJhY2tkcm9wID0gJCgnPGRpdiBjbGFzcz1cIm1vZGFsLWJhY2tkcm9wICcgKyBhbmltYXRlICsgJ1wiIC8+JylcbiAgICAgICAgLmFwcGVuZFRvKHRoaXMuJGJvZHkpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSByZXR1cm5cbiAgICAgICAgdGhpcy5vcHRpb25zLmJhY2tkcm9wID09ICdzdGF0aWMnXG4gICAgICAgICAgPyB0aGlzLiRlbGVtZW50WzBdLmZvY3VzLmNhbGwodGhpcy4kZWxlbWVudFswXSlcbiAgICAgICAgICA6IHRoaXMuaGlkZS5jYWxsKHRoaXMpXG4gICAgICB9LCB0aGlzKSlcblxuICAgICAgaWYgKGRvQW5pbWF0ZSkgdGhpcy4kYmFja2Ryb3BbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG5cbiAgICAgIHRoaXMuJGJhY2tkcm9wLmFkZENsYXNzKCdpbicpXG5cbiAgICAgIGlmICghY2FsbGJhY2spIHJldHVyblxuXG4gICAgICBkb0FuaW1hdGUgP1xuICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgICAgY2FsbGJhY2soKVxuXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duICYmIHRoaXMuJGJhY2tkcm9wKSB7XG4gICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQucmVtb3ZlQmFja2Ryb3AoKVxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgICB9XG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrUmVtb3ZlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgICAgY2FsbGJhY2tSZW1vdmUoKVxuXG4gICAgfSBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5jaGVja1Njcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCA+PSB3aW5kb3cuaW5uZXJXaWR0aCkgcmV0dXJuXG4gICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IHRoaXMuc2Nyb2xsYmFyV2lkdGggfHwgdGhpcy5tZWFzdXJlU2Nyb2xsYmFyKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5zZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJvZHlQYWQgPSBwYXJzZUludCgodGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnKSB8fCAwKSwgMTApXG4gICAgaWYgKHRoaXMuc2Nyb2xsYmFyV2lkdGgpIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgYm9keVBhZCArIHRoaXMuc2Nyb2xsYmFyV2lkdGgpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVzZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCAnJylcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkgeyAvLyB0aHggd2Fsc2hcbiAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ21vZGFsLXNjcm9sbGJhci1tZWFzdXJlJ1xuICAgIHRoaXMuJGJvZHkuYXBwZW5kKHNjcm9sbERpdilcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGhcbiAgICB0aGlzLiRib2R5WzBdLnJlbW92ZUNoaWxkKHNjcm9sbERpdilcbiAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGhcbiAgfVxuXG5cbiAgLy8gTU9EQUwgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uLCBfcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLm1vZGFsJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIE1vZGFsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLm1vZGFsJywgKGRhdGEgPSBuZXcgTW9kYWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXShfcmVsYXRlZFRhcmdldClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuc2hvdykgZGF0YS5zaG93KF9yZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5tb2RhbFxuXG4gICQuZm4ubW9kYWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5tb2RhbC5Db25zdHJ1Y3RvciA9IE1vZGFsXG5cblxuICAvLyBNT0RBTCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ubW9kYWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLm1vZGFsID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gTU9EQUwgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMubW9kYWwuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciBocmVmICAgID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgdmFyIG9wdGlvbiAgPSAkdGFyZ2V0LmRhdGEoJ2JzLm1vZGFsJykgPyAndG9nZ2xlJyA6ICQuZXh0ZW5kKHsgcmVtb3RlOiAhLyMvLnRlc3QoaHJlZikgJiYgaHJlZiB9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuXG4gICAgaWYgKCR0aGlzLmlzKCdhJykpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgJHRhcmdldC5vbmUoJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbiAoc2hvd0V2ZW50KSB7XG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm4gLy8gb25seSByZWdpc3RlciBmb2N1cyByZXN0b3JlciBpZiBtb2RhbCB3aWxsIGFjdHVhbGx5IGdldCBzaG93blxuICAgICAgJHRhcmdldC5vbmUoJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHRoaXMuaXMoJzp2aXNpYmxlJykgJiYgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuICAgICAgfSlcbiAgICB9KVxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbiwgdGhpcylcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdG9vbHRpcC5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Rvb2x0aXBcbiAqIEluc3BpcmVkIGJ5IHRoZSBvcmlnaW5hbCBqUXVlcnkudGlwc3kgYnkgSmFzb24gRnJhbWVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBUT09MVElQIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVG9vbHRpcCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlICAgICAgID1cbiAgICB0aGlzLm9wdGlvbnMgICAgPVxuICAgIHRoaXMuZW5hYmxlZCAgICA9XG4gICAgdGhpcy50aW1lb3V0ICAgID1cbiAgICB0aGlzLmhvdmVyU3RhdGUgPVxuICAgIHRoaXMuJGVsZW1lbnQgICA9IG51bGxcblxuICAgIHRoaXMuaW5pdCgndG9vbHRpcCcsIGVsZW1lbnQsIG9wdGlvbnMpXG4gIH1cblxuICBUb29sdGlwLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFRvb2x0aXAuREVGQVVMVFMgPSB7XG4gICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgIHBsYWNlbWVudDogJ3RvcCcsXG4gICAgc2VsZWN0b3I6IGZhbHNlLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInRvb2x0aXBcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJ0b29sdGlwLWFycm93XCI+PC9kaXY+PGRpdiBjbGFzcz1cInRvb2x0aXAtaW5uZXJcIj48L2Rpdj48L2Rpdj4nLFxuICAgIHRyaWdnZXI6ICdob3ZlciBmb2N1cycsXG4gICAgdGl0bGU6ICcnLFxuICAgIGRlbGF5OiAwLFxuICAgIGh0bWw6IGZhbHNlLFxuICAgIGNvbnRhaW5lcjogZmFsc2UsXG4gICAgdmlld3BvcnQ6IHtcbiAgICAgIHNlbGVjdG9yOiAnYm9keScsXG4gICAgICBwYWRkaW5nOiAwXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICh0eXBlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5lbmFibGVkICAgPSB0cnVlXG4gICAgdGhpcy50eXBlICAgICAgPSB0eXBlXG4gICAgdGhpcy4kZWxlbWVudCAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgPSB0aGlzLmdldE9wdGlvbnMob3B0aW9ucylcbiAgICB0aGlzLiR2aWV3cG9ydCA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiAkKHRoaXMub3B0aW9ucy52aWV3cG9ydC5zZWxlY3RvciB8fCB0aGlzLm9wdGlvbnMudmlld3BvcnQpXG5cbiAgICB2YXIgdHJpZ2dlcnMgPSB0aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdCgnICcpXG5cbiAgICBmb3IgKHZhciBpID0gdHJpZ2dlcnMubGVuZ3RoOyBpLS07KSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IHRyaWdnZXJzW2ldXG5cbiAgICAgIGlmICh0cmlnZ2VyID09ICdjbGljaycpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMudG9nZ2xlLCB0aGlzKSlcbiAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPSAnbWFudWFsJykge1xuICAgICAgICB2YXIgZXZlbnRJbiAgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VlbnRlcicgOiAnZm9jdXNpbidcbiAgICAgICAgdmFyIGV2ZW50T3V0ID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlbGVhdmUnIDogJ2ZvY3Vzb3V0J1xuXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRJbiAgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmVudGVyLCB0aGlzKSlcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudE91dCArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMubGVhdmUsIHRoaXMpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5zZWxlY3RvciA/XG4gICAgICAodGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHsgdHJpZ2dlcjogJ21hbnVhbCcsIHNlbGVjdG9yOiAnJyB9KSkgOlxuICAgICAgdGhpcy5maXhUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gVG9vbHRpcC5ERUZBVUxUU1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmdldERlZmF1bHRzKCksIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKVxuXG4gICAgaWYgKG9wdGlvbnMuZGVsYXkgJiYgdHlwZW9mIG9wdGlvbnMuZGVsYXkgPT0gJ251bWJlcicpIHtcbiAgICAgIG9wdGlvbnMuZGVsYXkgPSB7XG4gICAgICAgIHNob3c6IG9wdGlvbnMuZGVsYXksXG4gICAgICAgIGhpZGU6IG9wdGlvbnMuZGVsYXlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVsZWdhdGVPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHRpb25zICA9IHt9XG4gICAgdmFyIGRlZmF1bHRzID0gdGhpcy5nZXREZWZhdWx0cygpXG5cbiAgICB0aGlzLl9vcHRpb25zICYmICQuZWFjaCh0aGlzLl9vcHRpb25zLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGRlZmF1bHRzW2tleV0gIT0gdmFsdWUpIG9wdGlvbnNba2V5XSA9IHZhbHVlXG4gICAgfSlcblxuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgc2VsZiA9IG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IgP1xuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICghc2VsZikge1xuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxuXG4gICAgc2VsZi5ob3ZlclN0YXRlID0gJ2luJ1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5zaG93KSByZXR1cm4gc2VsZi5zaG93KClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnaW4nKSBzZWxmLnNob3coKVxuICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5zaG93KVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdvdXQnXG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpIHJldHVybiBzZWxmLmhpZGUoKVxuXG4gICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdvdXQnKSBzZWxmLmhpZGUoKVxuICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5oaWRlKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3cuYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICh0aGlzLmhhc0NvbnRlbnQoKSAmJiB0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgICB2YXIgaW5Eb20gPSAkLmNvbnRhaW5zKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy4kZWxlbWVudFswXSlcbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8ICFpbkRvbSkgcmV0dXJuXG4gICAgICB2YXIgdGhhdCA9IHRoaXNcblxuICAgICAgdmFyICR0aXAgPSB0aGlzLnRpcCgpXG5cbiAgICAgIHZhciB0aXBJZCA9IHRoaXMuZ2V0VUlEKHRoaXMudHlwZSlcblxuICAgICAgdGhpcy5zZXRDb250ZW50KClcbiAgICAgICR0aXAuYXR0cignaWQnLCB0aXBJZClcbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1kZXNjcmliZWRieScsIHRpcElkKVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikgJHRpcC5hZGRDbGFzcygnZmFkZScpXG5cbiAgICAgIHZhciBwbGFjZW1lbnQgPSB0eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgdGhpcy5vcHRpb25zLnBsYWNlbWVudC5jYWxsKHRoaXMsICR0aXBbMF0sIHRoaXMuJGVsZW1lbnRbMF0pIDpcbiAgICAgICAgdGhpcy5vcHRpb25zLnBsYWNlbWVudFxuXG4gICAgICB2YXIgYXV0b1Rva2VuID0gL1xccz9hdXRvP1xccz8vaVxuICAgICAgdmFyIGF1dG9QbGFjZSA9IGF1dG9Ub2tlbi50ZXN0KHBsYWNlbWVudClcbiAgICAgIGlmIChhdXRvUGxhY2UpIHBsYWNlbWVudCA9IHBsYWNlbWVudC5yZXBsYWNlKGF1dG9Ub2tlbiwgJycpIHx8ICd0b3AnXG5cbiAgICAgICR0aXBcbiAgICAgICAgLmRldGFjaCgpXG4gICAgICAgIC5jc3MoeyB0b3A6IDAsIGxlZnQ6IDAsIGRpc3BsYXk6ICdibG9jaycgfSlcbiAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgICAgLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHRoaXMpXG5cbiAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIgPyAkdGlwLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpIDogJHRpcC5pbnNlcnRBZnRlcih0aGlzLiRlbGVtZW50KVxuXG4gICAgICB2YXIgcG9zICAgICAgICAgID0gdGhpcy5nZXRQb3NpdGlvbigpXG4gICAgICB2YXIgYWN0dWFsV2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAgIGlmIChhdXRvUGxhY2UpIHtcbiAgICAgICAgdmFyIG9yZ1BsYWNlbWVudCA9IHBsYWNlbWVudFxuICAgICAgICB2YXIgJHBhcmVudCAgICAgID0gdGhpcy4kZWxlbWVudC5wYXJlbnQoKVxuICAgICAgICB2YXIgcGFyZW50RGltICAgID0gdGhpcy5nZXRQb3NpdGlvbigkcGFyZW50KVxuXG4gICAgICAgIHBsYWNlbWVudCA9IHBsYWNlbWVudCA9PSAnYm90dG9tJyAmJiBwb3MudG9wICAgKyBwb3MuaGVpZ2h0ICAgICAgICsgYWN0dWFsSGVpZ2h0IC0gcGFyZW50RGltLnNjcm9sbCA+IHBhcmVudERpbS5oZWlnaHQgPyAndG9wJyAgICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICAmJiBwb3MudG9wICAgLSBwYXJlbnREaW0uc2Nyb2xsIC0gYWN0dWFsSGVpZ2h0IDwgMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm90dG9tJyA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAncmlnaHQnICAmJiBwb3MucmlnaHQgKyBhY3R1YWxXaWR0aCAgICAgID4gcGFyZW50RGltLndpZHRoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnbGVmdCcgICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAnbGVmdCcgICAmJiBwb3MubGVmdCAgLSBhY3R1YWxXaWR0aCAgICAgIDwgcGFyZW50RGltLmxlZnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAncmlnaHQnICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudFxuXG4gICAgICAgICR0aXBcbiAgICAgICAgICAucmVtb3ZlQ2xhc3Mob3JnUGxhY2VtZW50KVxuICAgICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICB9XG5cbiAgICAgIHZhciBjYWxjdWxhdGVkT2Zmc2V0ID0gdGhpcy5nZXRDYWxjdWxhdGVkT2Zmc2V0KHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KVxuXG4gICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KGNhbGN1bGF0ZWRPZmZzZXQsIHBsYWNlbWVudClcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ3Nob3duLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgICAgIHRoYXQuaG92ZXJTdGF0ZSA9IG51bGxcbiAgICAgIH1cblxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICAkdGlwXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgICBjb21wbGV0ZSgpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXBwbHlQbGFjZW1lbnQgPSBmdW5jdGlvbiAob2Zmc2V0LCBwbGFjZW1lbnQpIHtcbiAgICB2YXIgJHRpcCAgID0gdGhpcy50aXAoKVxuICAgIHZhciB3aWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAvLyBtYW51YWxseSByZWFkIG1hcmdpbnMgYmVjYXVzZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaW5jbHVkZXMgZGlmZmVyZW5jZVxuICAgIHZhciBtYXJnaW5Ub3AgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLXRvcCcpLCAxMClcbiAgICB2YXIgbWFyZ2luTGVmdCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMClcblxuICAgIC8vIHdlIG11c3QgY2hlY2sgZm9yIE5hTiBmb3IgaWUgOC85XG4gICAgaWYgKGlzTmFOKG1hcmdpblRvcCkpICBtYXJnaW5Ub3AgID0gMFxuICAgIGlmIChpc05hTihtYXJnaW5MZWZ0KSkgbWFyZ2luTGVmdCA9IDBcblxuICAgIG9mZnNldC50b3AgID0gb2Zmc2V0LnRvcCAgKyBtYXJnaW5Ub3BcbiAgICBvZmZzZXQubGVmdCA9IG9mZnNldC5sZWZ0ICsgbWFyZ2luTGVmdFxuXG4gICAgLy8gJC5mbi5vZmZzZXQgZG9lc24ndCByb3VuZCBwaXhlbCB2YWx1ZXNcbiAgICAvLyBzbyB3ZSB1c2Ugc2V0T2Zmc2V0IGRpcmVjdGx5IHdpdGggb3VyIG93biBmdW5jdGlvbiBCLTBcbiAgICAkLm9mZnNldC5zZXRPZmZzZXQoJHRpcFswXSwgJC5leHRlbmQoe1xuICAgICAgdXNpbmc6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAkdGlwLmNzcyh7XG4gICAgICAgICAgdG9wOiBNYXRoLnJvdW5kKHByb3BzLnRvcCksXG4gICAgICAgICAgbGVmdDogTWF0aC5yb3VuZChwcm9wcy5sZWZ0KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sIG9mZnNldCksIDApXG5cbiAgICAkdGlwLmFkZENsYXNzKCdpbicpXG5cbiAgICAvLyBjaGVjayB0byBzZWUgaWYgcGxhY2luZyB0aXAgaW4gbmV3IG9mZnNldCBjYXVzZWQgdGhlIHRpcCB0byByZXNpemUgaXRzZWxmXG4gICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICB2YXIgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgIGlmIChwbGFjZW1lbnQgPT0gJ3RvcCcgJiYgYWN0dWFsSGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgb2Zmc2V0LnRvcCA9IG9mZnNldC50b3AgKyBoZWlnaHQgLSBhY3R1YWxIZWlnaHRcbiAgICB9XG5cbiAgICB2YXIgZGVsdGEgPSB0aGlzLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YShwbGFjZW1lbnQsIG9mZnNldCwgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgIGlmIChkZWx0YS5sZWZ0KSBvZmZzZXQubGVmdCArPSBkZWx0YS5sZWZ0XG4gICAgZWxzZSBvZmZzZXQudG9wICs9IGRlbHRhLnRvcFxuXG4gICAgdmFyIGFycm93RGVsdGEgICAgICAgICAgPSBkZWx0YS5sZWZ0ID8gZGVsdGEubGVmdCAqIDIgLSB3aWR0aCArIGFjdHVhbFdpZHRoIDogZGVsdGEudG9wICogMiAtIGhlaWdodCArIGFjdHVhbEhlaWdodFxuICAgIHZhciBhcnJvd1Bvc2l0aW9uICAgICAgID0gZGVsdGEubGVmdCA/ICdsZWZ0JyAgICAgICAgOiAndG9wJ1xuICAgIHZhciBhcnJvd09mZnNldFBvc2l0aW9uID0gZGVsdGEubGVmdCA/ICdvZmZzZXRXaWR0aCcgOiAnb2Zmc2V0SGVpZ2h0J1xuXG4gICAgJHRpcC5vZmZzZXQob2Zmc2V0KVxuICAgIHRoaXMucmVwbGFjZUFycm93KGFycm93RGVsdGEsICR0aXBbMF1bYXJyb3dPZmZzZXRQb3NpdGlvbl0sIGFycm93UG9zaXRpb24pXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5yZXBsYWNlQXJyb3cgPSBmdW5jdGlvbiAoZGVsdGEsIGRpbWVuc2lvbiwgcG9zaXRpb24pIHtcbiAgICB0aGlzLmFycm93KCkuY3NzKHBvc2l0aW9uLCBkZWx0YSA/ICg1MCAqICgxIC0gZGVsdGEgLyBkaW1lbnNpb24pICsgJyUnKSA6ICcnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlID0gdGhpcy5nZXRUaXRsZSgpXG5cbiAgICAkdGlwLmZpbmQoJy50b29sdGlwLWlubmVyJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0JylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyICR0aXAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIGUgICAgPSAkLkV2ZW50KCdoaWRlLmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICBpZiAodGhhdC5ob3ZlclN0YXRlICE9ICdpbicpICR0aXAuZGV0YWNoKClcbiAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignaGlkZGVuLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiR0aXAuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAkdGlwXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICBjb21wbGV0ZSgpXG5cbiAgICB0aGlzLmhvdmVyU3RhdGUgPSBudWxsXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZml4VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIGlmICgkZS5hdHRyKCd0aXRsZScpIHx8IHR5cGVvZiAoJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpKSAhPSAnc3RyaW5nJykge1xuICAgICAgJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICRlLmF0dHIoJ3RpdGxlJykgfHwgJycpLmF0dHIoJ3RpdGxlJywgJycpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgkZWxlbWVudCkge1xuICAgICRlbGVtZW50ICAgPSAkZWxlbWVudCB8fCB0aGlzLiRlbGVtZW50XG4gICAgdmFyIGVsICAgICA9ICRlbGVtZW50WzBdXG4gICAgdmFyIGlzQm9keSA9IGVsLnRhZ05hbWUgPT0gJ0JPRFknXG4gICAgcmV0dXJuICQuZXh0ZW5kKHt9LCAodHlwZW9mIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9PSAnZnVuY3Rpb24nKSA/IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogbnVsbCwge1xuICAgICAgc2Nyb2xsOiBpc0JvZHkgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIDogJGVsZW1lbnQuc2Nyb2xsVG9wKCksXG4gICAgICB3aWR0aDogIGlzQm9keSA/ICQod2luZG93KS53aWR0aCgpICA6ICRlbGVtZW50Lm91dGVyV2lkdGgoKSxcbiAgICAgIGhlaWdodDogaXNCb2R5ID8gJCh3aW5kb3cpLmhlaWdodCgpIDogJGVsZW1lbnQub3V0ZXJIZWlnaHQoKVxuICAgIH0sIGlzQm9keSA/IHsgdG9wOiAwLCBsZWZ0OiAwIH0gOiAkZWxlbWVudC5vZmZzZXQoKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldENhbGN1bGF0ZWRPZmZzZXQgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50ID09ICdib3R0b20nID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0LCAgIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiAgfSA6XG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICA/IHsgdG9wOiBwb3MudG9wIC0gYWN0dWFsSGVpZ2h0LCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgPyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgLSBhY3R1YWxXaWR0aCB9IDpcbiAgICAgICAgLyogcGxhY2VtZW50ID09ICdyaWdodCcgKi8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoICAgfVxuXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcbiAgICB2YXIgZGVsdGEgPSB7IHRvcDogMCwgbGVmdDogMCB9XG4gICAgaWYgKCF0aGlzLiR2aWV3cG9ydCkgcmV0dXJuIGRlbHRhXG5cbiAgICB2YXIgdmlld3BvcnRQYWRkaW5nID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmIHRoaXMub3B0aW9ucy52aWV3cG9ydC5wYWRkaW5nIHx8IDBcbiAgICB2YXIgdmlld3BvcnREaW1lbnNpb25zID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydClcblxuICAgIGlmICgvcmlnaHR8bGVmdC8udGVzdChwbGFjZW1lbnQpKSB7XG4gICAgICB2YXIgdG9wRWRnZU9mZnNldCAgICA9IHBvcy50b3AgLSB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsXG4gICAgICB2YXIgYm90dG9tRWRnZU9mZnNldCA9IHBvcy50b3AgKyB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsICsgYWN0dWFsSGVpZ2h0XG4gICAgICBpZiAodG9wRWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy50b3ApIHsgLy8gdG9wIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgLSB0b3BFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKGJvdHRvbUVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCkgeyAvLyBib3R0b20gb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEudG9wID0gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQgLSBib3R0b21FZGdlT2Zmc2V0XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsZWZ0RWRnZU9mZnNldCAgPSBwb3MubGVmdCAtIHZpZXdwb3J0UGFkZGluZ1xuICAgICAgdmFyIHJpZ2h0RWRnZU9mZnNldCA9IHBvcy5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nICsgYWN0dWFsV2lkdGhcbiAgICAgIGlmIChsZWZ0RWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0KSB7IC8vIGxlZnQgb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEubGVmdCA9IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0IC0gbGVmdEVkZ2VPZmZzZXRcbiAgICAgIH0gZWxzZSBpZiAocmlnaHRFZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLndpZHRoKSB7IC8vIHJpZ2h0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCArIHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCAtIHJpZ2h0RWRnZU9mZnNldFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWx0YVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRpdGxlXG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgdGl0bGUgPSAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJylcbiAgICAgIHx8ICh0eXBlb2Ygby50aXRsZSA9PSAnZnVuY3Rpb24nID8gby50aXRsZS5jYWxsKCRlWzBdKSA6ICBvLnRpdGxlKVxuXG4gICAgcmV0dXJuIHRpdGxlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRVSUQgPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgZG8gcHJlZml4ICs9IH5+KE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKVxuICAgIHdoaWxlIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgpKVxuICAgIHJldHVybiBwcmVmaXhcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJHRpcCA9IHRoaXMuJHRpcCB8fCAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSkpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcudG9vbHRpcC1hcnJvdycpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiRlbGVtZW50WzBdLnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMuaGlkZSgpXG4gICAgICB0aGlzLiRlbGVtZW50ID0gbnVsbFxuICAgICAgdGhpcy5vcHRpb25zICA9IG51bGxcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSAhdGhpcy5lbmFibGVkXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuICAgIGlmIChlKSB7XG4gICAgICBzZWxmID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG4gICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUuY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2VsZi50aXAoKS5oYXNDbGFzcygnaW4nKSA/IHNlbGYubGVhdmUoc2VsZikgOiBzZWxmLmVudGVyKHNlbGYpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpXG4gICAgdGhpcy5oaWRlKCkuJGVsZW1lbnQub2ZmKCcuJyArIHRoaXMudHlwZSkucmVtb3ZlRGF0YSgnYnMuJyArIHRoaXMudHlwZSlcbiAgfVxuXG5cbiAgLy8gVE9PTFRJUCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnRvb2x0aXAnKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEgJiYgb3B0aW9uID09ICdkZXN0cm95JykgcmV0dXJuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRvb2x0aXAnLCAoZGF0YSA9IG5ldyBUb29sdGlwKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi50b29sdGlwXG5cbiAgJC5mbi50b29sdGlwICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4udG9vbHRpcC5Db25zdHJ1Y3RvciA9IFRvb2x0aXBcblxuXG4gIC8vIFRPT0xUSVAgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4udG9vbHRpcC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udG9vbHRpcCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogcG9wb3Zlci5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3BvcG92ZXJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gUE9QT1ZFUiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFBvcG92ZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuaW5pdCgncG9wb3ZlcicsIGVsZW1lbnQsIG9wdGlvbnMpXG4gIH1cblxuICBpZiAoISQuZm4udG9vbHRpcCkgdGhyb3cgbmV3IEVycm9yKCdQb3BvdmVyIHJlcXVpcmVzIHRvb2x0aXAuanMnKVxuXG4gIFBvcG92ZXIuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgUG9wb3Zlci5ERUZBVUxUUyA9ICQuZXh0ZW5kKHt9LCAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IuREVGQVVMVFMsIHtcbiAgICBwbGFjZW1lbnQ6ICdyaWdodCcsXG4gICAgdHJpZ2dlcjogJ2NsaWNrJyxcbiAgICBjb250ZW50OiAnJyxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJwb3BvdmVyXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj48aDMgY2xhc3M9XCJwb3BvdmVyLXRpdGxlXCI+PC9oMz48ZGl2IGNsYXNzPVwicG9wb3Zlci1jb250ZW50XCI+PC9kaXY+PC9kaXY+J1xuICB9KVxuXG5cbiAgLy8gTk9URTogUE9QT1ZFUiBFWFRFTkRTIHRvb2x0aXAuanNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBQb3BvdmVyLnByb3RvdHlwZSA9ICQuZXh0ZW5kKHt9LCAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IucHJvdG90eXBlKVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUG9wb3ZlclxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmdldERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBQb3BvdmVyLkRFRkFVTFRTXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGlwICAgID0gdGhpcy50aXAoKVxuICAgIHZhciB0aXRsZSAgID0gdGhpcy5nZXRUaXRsZSgpXG4gICAgdmFyIGNvbnRlbnQgPSB0aGlzLmdldENvbnRlbnQoKVxuXG4gICAgJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXSh0aXRsZSlcbiAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLWNvbnRlbnQnKS5lbXB0eSgpWyAvLyB3ZSB1c2UgYXBwZW5kIGZvciBodG1sIG9iamVjdHMgdG8gbWFpbnRhaW4ganMgZXZlbnRzXG4gICAgICB0aGlzLm9wdGlvbnMuaHRtbCA/ICh0eXBlb2YgY29udGVudCA9PSAnc3RyaW5nJyA/ICdodG1sJyA6ICdhcHBlbmQnKSA6ICd0ZXh0J1xuICAgIF0oY29udGVudClcblxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0IGluJylcblxuICAgIC8vIElFOCBkb2Vzbid0IGFjY2VwdCBoaWRpbmcgdmlhIHRoZSBgOmVtcHR5YCBwc2V1ZG8gc2VsZWN0b3IsIHdlIGhhdmUgdG8gZG9cbiAgICAvLyB0aGlzIG1hbnVhbGx5IGJ5IGNoZWNraW5nIHRoZSBjb250ZW50cy5cbiAgICBpZiAoISR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKS5odG1sKCkpICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKS5oaWRlKClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKSB8fCB0aGlzLmdldENvbnRlbnQoKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIG8gID0gdGhpcy5vcHRpb25zXG5cbiAgICByZXR1cm4gJGUuYXR0cignZGF0YS1jb250ZW50JylcbiAgICAgIHx8ICh0eXBlb2Ygby5jb250ZW50ID09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgby5jb250ZW50LmNhbGwoJGVbMF0pIDpcbiAgICAgICAgICAgIG8uY29udGVudClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmFycm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy4kYXJyb3cgPSB0aGlzLiRhcnJvdyB8fCB0aGlzLnRpcCgpLmZpbmQoJy5hcnJvdycpKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUudGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kdGlwKSB0aGlzLiR0aXAgPSAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSlcbiAgICByZXR1cm4gdGhpcy4kdGlwXG4gIH1cblxuXG4gIC8vIFBPUE9WRVIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbiA9PSAnZGVzdHJveScpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJywgKGRhdGEgPSBuZXcgUG9wb3Zlcih0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ucG9wb3ZlclxuXG4gICQuZm4ucG9wb3ZlciAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnBvcG92ZXIuQ29uc3RydWN0b3IgPSBQb3BvdmVyXG5cblxuICAvLyBQT1BPVkVSIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnBvcG92ZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnBvcG92ZXIgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcblxuXG4vKlxuICogYW5ndWxhci11aS1ib290c3RyYXBcbiAqIGh0dHA6Ly9hbmd1bGFyLXVpLmdpdGh1Yi5pby9ib290c3RyYXAvXG5cbiAqIFZlcnNpb246IDAuMTMuNCAtIDIwMTUtMDktMDNcbiAqIExpY2Vuc2U6IE1JVFxuICovXG5hbmd1bGFyLm1vZHVsZShcInVpLmJvb3RzdHJhcFwiLCBbXCJ1aS5ib290c3RyYXAudHBsc1wiLCBcInVpLmJvb3RzdHJhcC5jb2xsYXBzZVwiLFwidWkuYm9vdHN0cmFwLmFjY29yZGlvblwiLFwidWkuYm9vdHN0cmFwLmFsZXJ0XCIsXCJ1aS5ib290c3RyYXAuYmluZEh0bWxcIixcInVpLmJvb3RzdHJhcC5idXR0b25zXCIsXCJ1aS5ib290c3RyYXAuY2Fyb3VzZWxcIixcInVpLmJvb3RzdHJhcC5kYXRlcGFyc2VyXCIsXCJ1aS5ib290c3RyYXAucG9zaXRpb25cIixcInVpLmJvb3RzdHJhcC5kYXRlcGlja2VyXCIsXCJ1aS5ib290c3RyYXAuZHJvcGRvd25cIixcInVpLmJvb3RzdHJhcC5tb2RhbFwiLFwidWkuYm9vdHN0cmFwLnBhZ2luYXRpb25cIixcInVpLmJvb3RzdHJhcC50b29sdGlwXCIsXCJ1aS5ib290c3RyYXAucG9wb3ZlclwiLFwidWkuYm9vdHN0cmFwLnByb2dyZXNzYmFyXCIsXCJ1aS5ib290c3RyYXAucmF0aW5nXCIsXCJ1aS5ib290c3RyYXAudGFic1wiLFwidWkuYm9vdHN0cmFwLnRpbWVwaWNrZXJcIixcInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uXCIsXCJ1aS5ib290c3RyYXAudHlwZWFoZWFkXCJdKTtcbmFuZ3VsYXIubW9kdWxlKFwidWkuYm9vdHN0cmFwLnRwbHNcIiwgW1widGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWxcIixcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIixcInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWxcIixcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIixcInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIixcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWxcIixcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sXCIsXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbFwiLFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIixcInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sXCIsXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsXCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWxcIixcInRlbXBsYXRlL3RhYnMvdGFiLmh0bWxcIixcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIixcInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sXCIsXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWxcIixcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiXSk7XG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmNvbGxhcHNlJywgW10pXG5cbiAgLmRpcmVjdGl2ZSgnY29sbGFwc2UnLCBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIGZ1bmN0aW9uIGV4cGFuZCgpIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgZmFsc2UpO1xuXG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgJ2luJywge1xuICAgICAgICAgICAgdG86IHsgaGVpZ2h0OiBlbGVtZW50WzBdLnNjcm9sbEhlaWdodCArICdweCcgfVxuICAgICAgICAgIH0pLnRoZW4oZXhwYW5kRG9uZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBleHBhbmREb25lKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKTtcbiAgICAgICAgICBlbGVtZW50LmNzcyh7aGVpZ2h0OiAnYXV0byd9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbGxhcHNlKCkge1xuICAgICAgICAgIGlmICghZWxlbWVudC5oYXNDbGFzcygnY29sbGFwc2UnKSAmJiAhZWxlbWVudC5oYXNDbGFzcygnaW4nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxhcHNlRG9uZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIElNUE9SVEFOVDogVGhlIGhlaWdodCBtdXN0IGJlIHNldCBiZWZvcmUgYWRkaW5nIFwiY29sbGFwc2luZ1wiIGNsYXNzLlxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgYnJvd3NlciBhdHRlbXB0cyB0byBhbmltYXRlIGZyb20gaGVpZ2h0IDAgKGluXG4gICAgICAgICAgICAvLyBjb2xsYXBzaW5nIGNsYXNzKSB0byB0aGUgZ2l2ZW4gaGVpZ2h0IGhlcmUuXG4gICAgICAgICAgICAuY3NzKHtoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4J30pXG4gICAgICAgICAgICAvLyBpbml0aWFsbHkgYWxsIHBhbmVsIGNvbGxhcHNlIGhhdmUgdGhlIGNvbGxhcHNlIGNsYXNzLCB0aGlzIHJlbW92YWxcbiAgICAgICAgICAgIC8vIHByZXZlbnRzIHRoZSBhbmltYXRpb24gZnJvbSBqdW1waW5nIHRvIGNvbGxhcHNlZCBzdGF0ZVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgJ2luJywge1xuICAgICAgICAgICAgdG86IHtoZWlnaHQ6ICcwJ31cbiAgICAgICAgICB9KS50aGVuKGNvbGxhcHNlRG9uZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZURvbmUoKSB7XG4gICAgICAgICAgZWxlbWVudC5jc3Moe2hlaWdodDogJzAnfSk7IC8vIFJlcXVpcmVkIHNvIHRoYXQgY29sbGFwc2Ugd29ya3Mgd2hlbiBhbmltYXRpb24gaXMgZGlzYWJsZWRcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJyk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnY29sbGFwc2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRycy5jb2xsYXBzZSwgZnVuY3Rpb24oc2hvdWxkQ29sbGFwc2UpIHtcbiAgICAgICAgICBpZiAoc2hvdWxkQ29sbGFwc2UpIHtcbiAgICAgICAgICAgIGNvbGxhcHNlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4cGFuZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmFjY29yZGlvbicsIFsndWkuYm9vdHN0cmFwLmNvbGxhcHNlJ10pXG5cbi5jb25zdGFudCgnYWNjb3JkaW9uQ29uZmlnJywge1xuICBjbG9zZU90aGVyczogdHJ1ZVxufSlcblxuLmNvbnRyb2xsZXIoJ0FjY29yZGlvbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnYWNjb3JkaW9uQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsIGFjY29yZGlvbkNvbmZpZykge1xuICAvLyBUaGlzIGFycmF5IGtlZXBzIHRyYWNrIG9mIHRoZSBhY2NvcmRpb24gZ3JvdXBzXG4gIHRoaXMuZ3JvdXBzID0gW107XG5cbiAgLy8gRW5zdXJlIHRoYXQgYWxsIHRoZSBncm91cHMgaW4gdGhpcyBhY2NvcmRpb24gYXJlIGNsb3NlZCwgdW5sZXNzIGNsb3NlLW90aGVycyBleHBsaWNpdGx5IHNheXMgbm90IHRvXG4gIHRoaXMuY2xvc2VPdGhlcnMgPSBmdW5jdGlvbihvcGVuR3JvdXApIHtcbiAgICB2YXIgY2xvc2VPdGhlcnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuY2xvc2VPdGhlcnMpID9cbiAgICAgICRzY29wZS4kZXZhbCgkYXR0cnMuY2xvc2VPdGhlcnMpIDogYWNjb3JkaW9uQ29uZmlnLmNsb3NlT3RoZXJzO1xuICAgIGlmIChjbG9zZU90aGVycykge1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXMuZ3JvdXBzLCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoZ3JvdXAgIT09IG9wZW5Hcm91cCkge1xuICAgICAgICAgIGdyb3VwLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSB0byBhZGQgaXRzZWxmIHRvIHRoZSBhY2NvcmRpb25cbiAgdGhpcy5hZGRHcm91cCA9IGZ1bmN0aW9uKGdyb3VwU2NvcGUpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdGhpcy5ncm91cHMucHVzaChncm91cFNjb3BlKTtcblxuICAgIGdyb3VwU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB0aGF0LnJlbW92ZUdyb3VwKGdyb3VwU2NvcGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgd2hlbiB0byByZW1vdmUgaXRzZWxmXG4gIHRoaXMucmVtb3ZlR3JvdXAgPSBmdW5jdGlvbihncm91cCkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuZ3JvdXBzLmluZGV4T2YoZ3JvdXApO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuZ3JvdXBzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9O1xuXG59XSlcblxuLy8gVGhlIGFjY29yZGlvbiBkaXJlY3RpdmUgc2ltcGx5IHNldHMgdXAgdGhlIGRpcmVjdGl2ZSBjb250cm9sbGVyXG4vLyBhbmQgYWRkcyBhbiBhY2NvcmRpb24gQ1NTIGNsYXNzIHRvIGl0c2VsZiBlbGVtZW50LlxuLmRpcmVjdGl2ZSgnYWNjb3JkaW9uJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgY29udHJvbGxlcjogJ0FjY29yZGlvbkNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2FjY29yZGlvbicsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sJztcbiAgICB9XG4gIH07XG59KVxuXG4vLyBUaGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSBpbmRpY2F0ZXMgYSBibG9jayBvZiBodG1sIHRoYXQgd2lsbCBleHBhbmQgYW5kIGNvbGxhcHNlIGluIGFuIGFjY29yZGlvblxuLmRpcmVjdGl2ZSgnYWNjb3JkaW9uR3JvdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXmFjY29yZGlvbicsICAgICAgICAgLy8gV2UgbmVlZCB0aGlzIGRpcmVjdGl2ZSB0byBiZSBpbnNpZGUgYW4gYWNjb3JkaW9uXG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSwgICAgICAgICAgICAgIC8vIEl0IHRyYW5zY2x1ZGVzIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlIGludG8gdGhlIHRlbXBsYXRlXG4gICAgcmVwbGFjZTogdHJ1ZSwgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgZGlyZWN0aXZlIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdGVtcGxhdGVcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sJztcbiAgICB9LFxuICAgIHNjb3BlOiB7XG4gICAgICBoZWFkaW5nOiAnQCcsICAgICAgICAgICAgICAgLy8gSW50ZXJwb2xhdGUgdGhlIGhlYWRpbmcgYXR0cmlidXRlIG9udG8gdGhpcyBzY29wZVxuICAgICAgaXNPcGVuOiAnPT8nLFxuICAgICAgaXNEaXNhYmxlZDogJz0/J1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnNldEhlYWRpbmcgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuaGVhZGluZyA9IGVsZW1lbnQ7XG4gICAgICB9O1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBhY2NvcmRpb25DdHJsKSB7XG4gICAgICBhY2NvcmRpb25DdHJsLmFkZEdyb3VwKHNjb3BlKTtcblxuICAgICAgc2NvcGUub3BlbkNsYXNzID0gYXR0cnMub3BlbkNsYXNzIHx8ICdwYW5lbC1vcGVuJztcbiAgICAgIHNjb3BlLnBhbmVsQ2xhc3MgPSBhdHRycy5wYW5lbENsYXNzO1xuICAgICAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKHNjb3BlLm9wZW5DbGFzcywgdmFsdWUpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBhY2NvcmRpb25DdHJsLmNsb3NlT3RoZXJzKHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLnRvZ2dsZU9wZW4gPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgaWYgKCFzY29wZS5pc0Rpc2FibGVkKSB7XG4gICAgICAgICAgaWYgKCEkZXZlbnQgfHwgJGV2ZW50LndoaWNoID09PSAzMikge1xuICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gIXNjb3BlLmlzT3BlbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufSlcblxuLy8gVXNlIGFjY29yZGlvbi1oZWFkaW5nIGJlbG93IGFuIGFjY29yZGlvbi1ncm91cCB0byBwcm92aWRlIGEgaGVhZGluZyBjb250YWluaW5nIEhUTUxcbi8vIDxhY2NvcmRpb24tZ3JvdXA+XG4vLyAgIDxhY2NvcmRpb24taGVhZGluZz5IZWFkaW5nIGNvbnRhaW5pbmcgSFRNTCAtIDxpbWcgc3JjPVwiLi4uXCI+PC9hY2NvcmRpb24taGVhZGluZz5cbi8vIDwvYWNjb3JkaW9uLWdyb3VwPlxuLmRpcmVjdGl2ZSgnYWNjb3JkaW9uSGVhZGluZycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsICAgLy8gR3JhYiB0aGUgY29udGVudHMgdG8gYmUgdXNlZCBhcyB0aGUgaGVhZGluZ1xuICAgIHRlbXBsYXRlOiAnJywgICAgICAgLy8gSW4gZWZmZWN0IHJlbW92ZSB0aGlzIGVsZW1lbnQhXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICByZXF1aXJlOiAnXmFjY29yZGlvbkdyb3VwJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgYWNjb3JkaW9uR3JvdXBDdHJsLCB0cmFuc2NsdWRlKSB7XG4gICAgICAvLyBQYXNzIHRoZSBoZWFkaW5nIHRvIHRoZSBhY2NvcmRpb24tZ3JvdXAgY29udHJvbGxlclxuICAgICAgLy8gc28gdGhhdCBpdCBjYW4gYmUgdHJhbnNjbHVkZWQgaW50byB0aGUgcmlnaHQgcGxhY2UgaW4gdGhlIHRlbXBsYXRlXG4gICAgICAvLyBbVGhlIHNlY29uZCBwYXJhbWV0ZXIgdG8gdHJhbnNjbHVkZSBjYXVzZXMgdGhlIGVsZW1lbnRzIHRvIGJlIGNsb25lZCBzbyB0aGF0IHRoZXkgd29yayBpbiBuZy1yZXBlYXRdXG4gICAgICBhY2NvcmRpb25Hcm91cEN0cmwuc2V0SGVhZGluZyh0cmFuc2NsdWRlKHNjb3BlLCBhbmd1bGFyLm5vb3ApKTtcbiAgICB9XG4gIH07XG59KVxuXG4vLyBVc2UgaW4gdGhlIGFjY29yZGlvbi1ncm91cCB0ZW1wbGF0ZSB0byBpbmRpY2F0ZSB3aGVyZSB5b3Ugd2FudCB0aGUgaGVhZGluZyB0byBiZSB0cmFuc2NsdWRlZFxuLy8gWW91IG11c3QgcHJvdmlkZSB0aGUgcHJvcGVydHkgb24gdGhlIGFjY29yZGlvbi1ncm91cCBjb250cm9sbGVyIHRoYXQgd2lsbCBob2xkIHRoZSB0cmFuc2NsdWRlZCBlbGVtZW50XG4vLyA8ZGl2IGNsYXNzPVwiYWNjb3JkaW9uLWdyb3VwXCI+XG4vLyAgIDxkaXYgY2xhc3M9XCJhY2NvcmRpb24taGVhZGluZ1wiID48YSAuLi4gYWNjb3JkaW9uLXRyYW5zY2x1ZGU9XCJoZWFkaW5nXCI+Li4uPC9hPjwvZGl2PlxuLy8gICAuLi5cbi8vIDwvZGl2PlxuLmRpcmVjdGl2ZSgnYWNjb3JkaW9uVHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdeYWNjb3JkaW9uR3JvdXAnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjb250cm9sbGVyKSB7XG4gICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7IHJldHVybiBjb250cm9sbGVyW2F0dHIuYWNjb3JkaW9uVHJhbnNjbHVkZV07IH0sIGZ1bmN0aW9uKGhlYWRpbmcpIHtcbiAgICAgICAgaWYgKGhlYWRpbmcpIHtcbiAgICAgICAgICBlbGVtZW50LmZpbmQoJ3NwYW4nKS5odG1sKCcnKTtcbiAgICAgICAgICBlbGVtZW50LmZpbmQoJ3NwYW4nKS5hcHBlbmQoaGVhZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbjtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hbGVydCcsIFtdKVxuXG4uY29udHJvbGxlcignQWxlcnRDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMpIHtcbiAgJHNjb3BlLmNsb3NlYWJsZSA9ICEhJGF0dHJzLmNsb3NlO1xuICB0aGlzLmNsb3NlID0gJHNjb3BlLmNsb3NlO1xufV0pXG5cbi5kaXJlY3RpdmUoJ2FsZXJ0JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgY29udHJvbGxlcjogJ0FsZXJ0Q29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYWxlcnQnLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sJztcbiAgICB9LFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgdHlwZTogJ0AnLFxuICAgICAgY2xvc2U6ICcmJ1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Rpc21pc3NPblRpbWVvdXQnLCBbJyR0aW1lb3V0JywgZnVuY3Rpb24oJHRpbWVvdXQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnYWxlcnQnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgYWxlcnRDdHJsKSB7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgYWxlcnRDdHJsLmNsb3NlKCk7XG4gICAgICB9LCBwYXJzZUludChhdHRycy5kaXNtaXNzT25UaW1lb3V0LCAxMCkpO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCcsIFtdKVxuXG4gIC52YWx1ZSgnJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgZmFsc2UpXG5cbiAgLmRpcmVjdGl2ZSgnYmluZEh0bWxVbnNhZmUnLCBbJyRsb2cnLCAnJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgZnVuY3Rpb24gKCRsb2csICRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmICghJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkKSB7XG4gICAgICAgICRsb2cud2FybignYmluZEh0bWxVbnNhZmUgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSBuZ0JpbmRIdG1sIGluc3RlYWQnKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ25nLWJpbmRpbmcnKS5kYXRhKCckYmluZGluZycsIGF0dHIuYmluZEh0bWxVbnNhZmUpO1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIuYmluZEh0bWxVbnNhZmUsIGZ1bmN0aW9uIGJpbmRIdG1sVW5zYWZlV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlIHx8ICcnKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1dKTtcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYnV0dG9ucycsIFtdKVxuXG4uY29uc3RhbnQoJ2J1dHRvbkNvbmZpZycsIHtcbiAgYWN0aXZlQ2xhc3M6ICdhY3RpdmUnLFxuICB0b2dnbGVFdmVudDogJ2NsaWNrJ1xufSlcblxuLmNvbnRyb2xsZXIoJ0J1dHRvbnNDb250cm9sbGVyJywgWydidXR0b25Db25maWcnLCBmdW5jdGlvbihidXR0b25Db25maWcpIHtcbiAgdGhpcy5hY3RpdmVDbGFzcyA9IGJ1dHRvbkNvbmZpZy5hY3RpdmVDbGFzcyB8fCAnYWN0aXZlJztcbiAgdGhpcy50b2dnbGVFdmVudCA9IGJ1dHRvbkNvbmZpZy50b2dnbGVFdmVudCB8fCAnY2xpY2snO1xufV0pXG5cbi5kaXJlY3RpdmUoJ2J0blJhZGlvJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogWydidG5SYWRpbycsICduZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0J1dHRvbnNDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdidXR0b25zJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgYnV0dG9uc0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZWxlbWVudC5maW5kKCdpbnB1dCcpLmNzcyh7ZGlzcGxheTogJ25vbmUnfSk7XG5cbiAgICAgIC8vbW9kZWwgLT4gVUlcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcywgYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsIHNjb3BlLiRldmFsKGF0dHJzLmJ0blJhZGlvKSkpO1xuICAgICAgfTtcblxuICAgICAgLy91aS0+bW9kZWxcbiAgICAgIGVsZW1lbnQuYmluZChidXR0b25zQ3RybC50b2dnbGVFdmVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChhdHRycy5kaXNhYmxlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpc0FjdGl2ZSA9IGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpO1xuXG4gICAgICAgIGlmICghaXNBY3RpdmUgfHwgYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudW5jaGVja2FibGUpKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShpc0FjdGl2ZSA/IG51bGwgOiBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpO1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdidG5DaGVja2JveCcsIFsnJGRvY3VtZW50JywgZnVuY3Rpb24oJGRvY3VtZW50KSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogWydidG5DaGVja2JveCcsICduZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0J1dHRvbnNDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdidXR0b24nLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBidXR0b25zQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBlbGVtZW50LmZpbmQoJ2lucHV0JykuY3NzKHtkaXNwbGF5OiAnbm9uZSd9KTtcblxuICAgICAgZnVuY3Rpb24gZ2V0VHJ1ZVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveFRydWUsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRGYWxzZVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveEZhbHNlLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoYXR0cmlidXRlVmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgdmFsID0gc2NvcGUuJGV2YWwoYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsKSA/IHZhbCA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgLy9tb2RlbCAtPiBVSVxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLCBhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSwgZ2V0VHJ1ZVZhbHVlKCkpKTtcbiAgICAgIH07XG5cbiAgICAgIC8vdWktPm1vZGVsXG4gICAgICBlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYXR0cnMuZGlzYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKSA/IGdldEZhbHNlVmFsdWUoKSA6IGdldFRydWVWYWx1ZSgpKTtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vYWNjZXNzaWJpbGl0eVxuICAgICAgZWxlbWVudC5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChhdHRycy5kaXNhYmxlZCB8fCBlLndoaWNoICE9PSAzMiB8fCAkZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCAhPT0gZWxlbWVudFswXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpID8gZ2V0RmFsc2VWYWx1ZSgpIDogZ2V0VHJ1ZVZhbHVlKCkpO1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSk7XG5cbi8qKlxuKiBAbmdkb2Mgb3ZlcnZpZXdcbiogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsXG4qXG4qIEBkZXNjcmlwdGlvblxuKiBBbmd1bGFySlMgdmVyc2lvbiBvZiBhbiBpbWFnZSBjYXJvdXNlbC5cbipcbiovXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmNhcm91c2VsJywgW10pXG4uY29udHJvbGxlcignQ2Fyb3VzZWxDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnJGludGVydmFsJywgJyRhbmltYXRlJywgZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRpbnRlcnZhbCwgJGFuaW1hdGUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgIHNsaWRlcyA9IHNlbGYuc2xpZGVzID0gJHNjb3BlLnNsaWRlcyA9IFtdLFxuICAgIE5FV19BTklNQVRFID0gYW5ndWxhci52ZXJzaW9uLm1pbm9yID49IDQsXG4gICAgTk9fVFJBTlNJVElPTiA9ICd1aWItbm9UcmFuc2l0aW9uJyxcbiAgICBTTElERV9ESVJFQ1RJT04gPSAndWliLXNsaWRlRGlyZWN0aW9uJyxcbiAgICBjdXJyZW50SW5kZXggPSAtMSxcbiAgICBjdXJyZW50SW50ZXJ2YWwsIGlzUGxheWluZztcbiAgc2VsZi5jdXJyZW50U2xpZGUgPSBudWxsO1xuXG4gIHZhciBkZXN0cm95ZWQgPSBmYWxzZTtcbiAgLyogZGlyZWN0aW9uOiBcInByZXZcIiBvciBcIm5leHRcIiAqL1xuICBzZWxmLnNlbGVjdCA9ICRzY29wZS5zZWxlY3QgPSBmdW5jdGlvbihuZXh0U2xpZGUsIGRpcmVjdGlvbikge1xuICAgIHZhciBuZXh0SW5kZXggPSAkc2NvcGUuaW5kZXhPZlNsaWRlKG5leHRTbGlkZSk7XG4gICAgLy9EZWNpZGUgZGlyZWN0aW9uIGlmIGl0J3Mgbm90IGdpdmVuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkaXJlY3Rpb24gPSBuZXh0SW5kZXggPiBzZWxmLmdldEN1cnJlbnRJbmRleCgpID8gJ25leHQnIDogJ3ByZXYnO1xuICAgIH1cbiAgICAvL1ByZXZlbnQgdGhpcyB1c2VyLXRyaWdnZXJlZCB0cmFuc2l0aW9uIGZyb20gb2NjdXJyaW5nIGlmIHRoZXJlIGlzIGFscmVhZHkgb25lIGluIHByb2dyZXNzXG4gICAgaWYgKG5leHRTbGlkZSAmJiBuZXh0U2xpZGUgIT09IHNlbGYuY3VycmVudFNsaWRlICYmICEkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uKSB7XG4gICAgICBnb05leHQobmV4dFNsaWRlLCBuZXh0SW5kZXgsIGRpcmVjdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGdvTmV4dChzbGlkZSwgaW5kZXgsIGRpcmVjdGlvbikge1xuICAgIC8vIFNjb3BlIGhhcyBiZWVuIGRlc3Ryb3llZCwgc3RvcCBoZXJlLlxuICAgIGlmIChkZXN0cm95ZWQpIHsgcmV0dXJuOyB9XG5cbiAgICBhbmd1bGFyLmV4dGVuZChzbGlkZSwge2RpcmVjdGlvbjogZGlyZWN0aW9uLCBhY3RpdmU6IHRydWV9KTtcbiAgICBhbmd1bGFyLmV4dGVuZChzZWxmLmN1cnJlbnRTbGlkZSB8fCB7fSwge2RpcmVjdGlvbjogZGlyZWN0aW9uLCBhY3RpdmU6IGZhbHNlfSk7XG4gICAgaWYgKCRhbmltYXRlLmVuYWJsZWQoKSAmJiAhJHNjb3BlLm5vVHJhbnNpdGlvbiAmJiAhJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiAmJlxuICAgICAgc2xpZGUuJGVsZW1lbnQgJiYgc2VsZi5zbGlkZXMubGVuZ3RoID4gMSkge1xuICAgICAgc2xpZGUuJGVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04sIHNsaWRlLmRpcmVjdGlvbik7XG4gICAgICBpZiAoc2VsZi5jdXJyZW50U2xpZGUgJiYgc2VsZi5jdXJyZW50U2xpZGUuJGVsZW1lbnQpIHtcbiAgICAgICAgc2VsZi5jdXJyZW50U2xpZGUuJGVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04sIHNsaWRlLmRpcmVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gPSB0cnVlO1xuICAgICAgaWYgKE5FV19BTklNQVRFKSB7XG4gICAgICAgICRhbmltYXRlLm9uKCdhZGRDbGFzcycsIHNsaWRlLiRlbGVtZW50LCBmdW5jdGlvbiAoZWxlbWVudCwgcGhhc2UpIHtcbiAgICAgICAgICBpZiAocGhhc2UgPT09ICdjbG9zZScpIHtcbiAgICAgICAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgJGFuaW1hdGUub2ZmKCdhZGRDbGFzcycsIGVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZS4kZWxlbWVudC5vbmUoJyRhbmltYXRlOmNsb3NlJywgZnVuY3Rpb24gY2xvc2VGbigpIHtcbiAgICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2VsZi5jdXJyZW50U2xpZGUgPSBzbGlkZTtcbiAgICBjdXJyZW50SW5kZXggPSBpbmRleDtcblxuICAgIC8vZXZlcnkgdGltZSB5b3UgY2hhbmdlIHNsaWRlcywgcmVzZXQgdGhlIHRpbWVyXG4gICAgcmVzdGFydFRpbWVyKCk7XG4gIH1cblxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICBkZXN0cm95ZWQgPSB0cnVlO1xuICB9KTtcblxuICBmdW5jdGlvbiBnZXRTbGlkZUJ5SW5kZXgoaW5kZXgpIHtcbiAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChzbGlkZXNbaW5kZXhdLmluZGV4KSkge1xuICAgICAgcmV0dXJuIHNsaWRlc1tpbmRleF07XG4gICAgfVxuICAgIHZhciBpLCBsZW4gPSBzbGlkZXMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChzbGlkZXNbaV0uaW5kZXggPT0gaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHNsaWRlc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZWxmLmdldEN1cnJlbnRJbmRleCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzZWxmLmN1cnJlbnRTbGlkZSAmJiBhbmd1bGFyLmlzRGVmaW5lZChzZWxmLmN1cnJlbnRTbGlkZS5pbmRleCkpIHtcbiAgICAgIHJldHVybiArc2VsZi5jdXJyZW50U2xpZGUuaW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50SW5kZXg7XG4gIH07XG5cbiAgLyogQWxsb3cgb3V0c2lkZSBwZW9wbGUgdG8gY2FsbCBpbmRleE9mIG9uIHNsaWRlcyBhcnJheSAqL1xuICAkc2NvcGUuaW5kZXhPZlNsaWRlID0gZnVuY3Rpb24oc2xpZGUpIHtcbiAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQoc2xpZGUuaW5kZXgpID8gK3NsaWRlLmluZGV4IDogc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuICB9O1xuXG4gICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0luZGV4ID0gKHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgKyAxKSAlIHNsaWRlcy5sZW5ndGg7XG5cbiAgICBpZiAobmV3SW5kZXggPT09IDAgJiYgJHNjb3BlLm5vV3JhcCgpKSB7XG4gICAgICAkc2NvcGUucGF1c2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZi5zZWxlY3QoZ2V0U2xpZGVCeUluZGV4KG5ld0luZGV4KSwgJ25leHQnKTtcbiAgfTtcblxuICAkc2NvcGUucHJldiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdJbmRleCA9IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgLSAxIDwgMCA/IHNsaWRlcy5sZW5ndGggLSAxIDogc2VsZi5nZXRDdXJyZW50SW5kZXgoKSAtIDE7XG5cbiAgICBpZiAoJHNjb3BlLm5vV3JhcCgpICYmIG5ld0luZGV4ID09PSBzbGlkZXMubGVuZ3RoIC0gMSl7XG4gICAgICAkc2NvcGUucGF1c2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZi5zZWxlY3QoZ2V0U2xpZGVCeUluZGV4KG5ld0luZGV4KSwgJ3ByZXYnKTtcbiAgfTtcblxuICAkc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgICByZXR1cm4gc2VsZi5jdXJyZW50U2xpZGUgPT09IHNsaWRlO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ2ludGVydmFsJywgcmVzdGFydFRpbWVyKTtcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCByZXNldFRpbWVyKTtcblxuICBmdW5jdGlvbiByZXN0YXJ0VGltZXIoKSB7XG4gICAgcmVzZXRUaW1lcigpO1xuICAgIHZhciBpbnRlcnZhbCA9ICskc2NvcGUuaW50ZXJ2YWw7XG4gICAgaWYgKCFpc05hTihpbnRlcnZhbCkgJiYgaW50ZXJ2YWwgPiAwKSB7XG4gICAgICBjdXJyZW50SW50ZXJ2YWwgPSAkaW50ZXJ2YWwodGltZXJGbiwgaW50ZXJ2YWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZXIoKSB7XG4gICAgaWYgKGN1cnJlbnRJbnRlcnZhbCkge1xuICAgICAgJGludGVydmFsLmNhbmNlbChjdXJyZW50SW50ZXJ2YWwpO1xuICAgICAgY3VycmVudEludGVydmFsID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckZuKCkge1xuICAgIHZhciBpbnRlcnZhbCA9ICskc2NvcGUuaW50ZXJ2YWw7XG4gICAgaWYgKGlzUGxheWluZyAmJiAhaXNOYU4oaW50ZXJ2YWwpICYmIGludGVydmFsID4gMCAmJiBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAkc2NvcGUubmV4dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICAkc2NvcGUucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghaXNQbGF5aW5nKSB7XG4gICAgICBpc1BsYXlpbmcgPSB0cnVlO1xuICAgICAgcmVzdGFydFRpbWVyKCk7XG4gICAgfVxuICB9O1xuICAkc2NvcGUucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub1BhdXNlKSB7XG4gICAgICBpc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgIHJlc2V0VGltZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgc2VsZi5hZGRTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlLCBlbGVtZW50KSB7XG4gICAgc2xpZGUuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICAvL2lmIHRoaXMgaXMgdGhlIGZpcnN0IHNsaWRlIG9yIHRoZSBzbGlkZSBpcyBzZXQgdG8gYWN0aXZlLCBzZWxlY3QgaXRcbiAgICBpZihzbGlkZXMubGVuZ3RoID09PSAxIHx8IHNsaWRlLmFjdGl2ZSkge1xuICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW3NsaWRlcy5sZW5ndGgtMV0pO1xuICAgICAgaWYgKHNsaWRlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAkc2NvcGUucGxheSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZS5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgc2VsZi5yZW1vdmVTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHNsaWRlLmluZGV4KSkge1xuICAgICAgc2xpZGVzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gK2EuaW5kZXggPiArYi5pbmRleDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvL2dldCB0aGUgaW5kZXggb2YgdGhlIHNsaWRlIGluc2lkZSB0aGUgY2Fyb3VzZWxcbiAgICB2YXIgaW5kZXggPSBzbGlkZXMuaW5kZXhPZihzbGlkZSk7XG4gICAgc2xpZGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgaWYgKHNsaWRlcy5sZW5ndGggPiAwICYmIHNsaWRlLmFjdGl2ZSkge1xuICAgICAgaWYgKGluZGV4ID49IHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW2luZGV4LTFdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY3VycmVudEluZGV4ID4gaW5kZXgpIHtcbiAgICAgIGN1cnJlbnRJbmRleC0tO1xuICAgIH1cbiAgICBcbiAgICAvL2NsZWFuIHRoZSBjdXJyZW50U2xpZGUgd2hlbiBubyBtb3JlIHNsaWRlXG4gICAgaWYgKHNsaWRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHNlbGYuY3VycmVudFNsaWRlID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnbm9UcmFuc2l0aW9uJywgZnVuY3Rpb24obm9UcmFuc2l0aW9uKSB7XG4gICAgJGVsZW1lbnQuZGF0YShOT19UUkFOU0lUSU9OLCBub1RyYW5zaXRpb24pO1xuICB9KTtcblxufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsLmRpcmVjdGl2ZTpjYXJvdXNlbFxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDYXJvdXNlbCBpcyB0aGUgb3V0ZXIgY29udGFpbmVyIGZvciBhIHNldCBvZiBpbWFnZSAnc2xpZGVzJyB0byBzaG93Y2FzZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcj19IGludGVydmFsIFRoZSB0aW1lLCBpbiBtaWxsaXNlY29uZHMsIHRoYXQgaXQgd2lsbCB0YWtlIHRoZSBjYXJvdXNlbCB0byBnbyB0byB0aGUgbmV4dCBzbGlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vVHJhbnNpdGlvbiBXaGV0aGVyIHRvIGRpc2FibGUgdHJhbnNpdGlvbnMgb24gdGhlIGNhcm91c2VsLlxuICogQHBhcmFtIHtib29sZWFuPX0gbm9QYXVzZSBXaGV0aGVyIHRvIGRpc2FibGUgcGF1c2luZyBvbiB0aGUgY2Fyb3VzZWwgKGJ5IGRlZmF1bHQsIHRoZSBjYXJvdXNlbCBpbnRlcnZhbCBwYXVzZXMgb24gaG92ZXIpLlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8Y2Fyb3VzZWw+XG4gICAgICA8c2xpZGU+XG4gICAgICAgIDxpbWcgc3JjPVwiaHR0cDovL3BsYWNla2l0dGVuLmNvbS8xNTAvMTUwXCIgc3R5bGU9XCJtYXJnaW46YXV0bztcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWNhcHRpb25cIj5cbiAgICAgICAgICA8cD5CZWF1dGlmdWwhPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2xpZGU+XG4gICAgICA8c2xpZGU+XG4gICAgICAgIDxpbWcgc3JjPVwiaHR0cDovL3BsYWNla2l0dGVuLmNvbS8xMDAvMTUwXCIgc3R5bGU9XCJtYXJnaW46YXV0bztcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWNhcHRpb25cIj5cbiAgICAgICAgICA8cD5EJ2F3dyE8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zbGlkZT5cbiAgICA8L2Nhcm91c2VsPlxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJkZW1vLmNzc1wiPlxuICAgIC5jYXJvdXNlbC1pbmRpY2F0b3JzIHtcbiAgICAgIHRvcDogYXV0bztcbiAgICAgIGJvdHRvbTogMTVweDtcbiAgICB9XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgnY2Fyb3VzZWwnLCBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICdDYXJvdXNlbENvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2Nhcm91c2VsJyxcbiAgICByZXF1aXJlOiAnY2Fyb3VzZWwnLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sJztcbiAgICB9LFxuICAgIHNjb3BlOiB7XG4gICAgICBpbnRlcnZhbDogJz0nLFxuICAgICAgbm9UcmFuc2l0aW9uOiAnPScsXG4gICAgICBub1BhdXNlOiAnPScsXG4gICAgICBub1dyYXA6ICcmJ1xuICAgIH1cbiAgfTtcbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6c2xpZGVcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIHNsaWRlIGluc2lkZSBhIHtAbGluayB1aS5ib290c3RyYXAuY2Fyb3VzZWwuZGlyZWN0aXZlOmNhcm91c2VsIGNhcm91c2VsfS4gIE11c3QgYmUgcGxhY2VkIGFzIGEgY2hpbGQgb2YgYSBjYXJvdXNlbCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGFjdGl2ZSBNb2RlbCBiaW5kaW5nLCB3aGV0aGVyIG9yIG5vdCB0aGlzIHNsaWRlIGlzIGN1cnJlbnRseSBhY3RpdmUuXG4gKiBAcGFyYW0ge251bWJlcj19IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgc2xpZGUuIFRoZSBzbGlkZXMgd2lsbCBiZSBzb3J0ZWQgYnkgdGhpcyBwYXJhbWV0ZXIuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuPGRpdiBuZy1jb250cm9sbGVyPVwiQ2Fyb3VzZWxEZW1vQ3RybFwiPlxuICA8Y2Fyb3VzZWw+XG4gICAgPHNsaWRlIG5nLXJlcGVhdD1cInNsaWRlIGluIHNsaWRlc1wiIGFjdGl2ZT1cInNsaWRlLmFjdGl2ZVwiIGluZGV4PVwiJGluZGV4XCI+XG4gICAgICA8aW1nIG5nLXNyYz1cInt7c2xpZGUuaW1hZ2V9fVwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtY2FwdGlvblwiPlxuICAgICAgICA8aDQ+U2xpZGUge3skaW5kZXh9fTwvaDQ+XG4gICAgICAgIDxwPnt7c2xpZGUudGV4dH19PC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9zbGlkZT5cbiAgPC9jYXJvdXNlbD5cbiAgSW50ZXJ2YWwsIGluIG1pbGxpc2Vjb25kczogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm15SW50ZXJ2YWxcIj5cbiAgPGJyIC8+RW50ZXIgYSBuZWdhdGl2ZSBudW1iZXIgdG8gc3RvcCB0aGUgaW50ZXJ2YWwuXG48L2Rpdj5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG5mdW5jdGlvbiBDYXJvdXNlbERlbW9DdHJsKCRzY29wZSkge1xuICAkc2NvcGUubXlJbnRlcnZhbCA9IDUwMDA7XG59XG4gIDwvZmlsZT5cbiAgPGZpbGUgbmFtZT1cImRlbW8uY3NzXCI+XG4gICAgLmNhcm91c2VsLWluZGljYXRvcnMge1xuICAgICAgdG9wOiBhdXRvO1xuICAgICAgYm90dG9tOiAxNXB4O1xuICAgIH1cbiAgPC9maWxlPlxuPC9leGFtcGxlPlxuKi9cblxuLmRpcmVjdGl2ZSgnc2xpZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXmNhcm91c2VsJyxcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwnO1xuICAgIH0sXG4gICAgc2NvcGU6IHtcbiAgICAgIGFjdGl2ZTogJz0/JyxcbiAgICAgIGFjdHVhbDogJz0/JyxcbiAgICAgIGluZGV4OiAnPT8nXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjYXJvdXNlbEN0cmwpIHtcbiAgICAgIGNhcm91c2VsQ3RybC5hZGRTbGlkZShzY29wZSwgZWxlbWVudCk7XG4gICAgICAvL3doZW4gdGhlIHNjb3BlIGlzIGRlc3Ryb3llZCB0aGVuIHJlbW92ZSB0aGUgc2xpZGUgZnJvbSB0aGUgY3VycmVudCBzbGlkZXMgYXJyYXlcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY2Fyb3VzZWxDdHJsLnJlbW92ZVNsaWRlKHNjb3BlKTtcbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZScsIGZ1bmN0aW9uKGFjdGl2ZSkge1xuICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgY2Fyb3VzZWxDdHJsLnNlbGVjdChzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5hbmltYXRpb24oJy5pdGVtJywgW1xuICAgICAgICAgJyRpbmplY3RvcicsICckYW5pbWF0ZScsXG5mdW5jdGlvbiAoJGluamVjdG9yLCAkYW5pbWF0ZSkge1xuICB2YXIgTk9fVFJBTlNJVElPTiA9ICd1aWItbm9UcmFuc2l0aW9uJyxcbiAgICBTTElERV9ESVJFQ1RJT04gPSAndWliLXNsaWRlRGlyZWN0aW9uJyxcbiAgICAkYW5pbWF0ZUNzcyA9IG51bGw7XG5cbiAgaWYgKCRpbmplY3Rvci5oYXMoJyRhbmltYXRlQ3NzJykpIHtcbiAgICAkYW5pbWF0ZUNzcyA9ICRpbmplY3Rvci5nZXQoJyRhbmltYXRlQ3NzJyk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUsIGNhbGxiYWNrKSB7XG4gICAgZWxlbWVudC5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJlZm9yZUFkZENsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAvLyBEdWUgdG8gdHJhbnNjbHVzaW9uLCBub1RyYW5zaXRpb24gcHJvcGVydHkgaXMgb24gcGFyZW50J3Mgc2NvcGVcbiAgICAgIGlmIChjbGFzc05hbWUgPT0gJ2FjdGl2ZScgJiYgZWxlbWVudC5wYXJlbnQoKSAmJlxuICAgICAgICAgICFlbGVtZW50LnBhcmVudCgpLmRhdGEoTk9fVFJBTlNJVElPTikpIHtcbiAgICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04pO1xuICAgICAgICB2YXIgZGlyZWN0aW9uQ2xhc3MgPSBkaXJlY3Rpb24gPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgdmFyIHJlbW92ZUNsYXNzRm4gPSByZW1vdmVDbGFzcy5iaW5kKHRoaXMsIGVsZW1lbnQsXG4gICAgICAgICAgZGlyZWN0aW9uQ2xhc3MgKyAnICcgKyBkaXJlY3Rpb24sIGRvbmUpO1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKGRpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge2FkZENsYXNzOiBkaXJlY3Rpb25DbGFzc30pXG4gICAgICAgICAgICAuc3RhcnQoKVxuICAgICAgICAgICAgLmRvbmUocmVtb3ZlQ2xhc3NGbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzdG9wcGVkKSB7XG4gICAgICAgICAgICAgIHJlbW92ZUNsYXNzRm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBkb25lKCk7XG4gICAgfSxcbiAgICBiZWZvcmVSZW1vdmVDbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgLy8gRHVlIHRvIHRyYW5zY2x1c2lvbiwgbm9UcmFuc2l0aW9uIHByb3BlcnR5IGlzIG9uIHBhcmVudCdzIHNjb3BlXG4gICAgICBpZiAoY2xhc3NOYW1lID09PSAnYWN0aXZlJyAmJiBlbGVtZW50LnBhcmVudCgpICYmXG4gICAgICAgICAgIWVsZW1lbnQucGFyZW50KCkuZGF0YShOT19UUkFOU0lUSU9OKSkge1xuICAgICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTik7XG4gICAgICAgIHZhciBkaXJlY3Rpb25DbGFzcyA9IGRpcmVjdGlvbiA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgICB2YXIgcmVtb3ZlQ2xhc3NGbiA9IHJlbW92ZUNsYXNzLmJpbmQodGhpcywgZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MsIGRvbmUpO1xuXG4gICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHthZGRDbGFzczogZGlyZWN0aW9uQ2xhc3N9KVxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5kb25lKHJlbW92ZUNsYXNzRm4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGRpcmVjdGlvbkNsYXNzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgICAgICByZW1vdmVDbGFzc0ZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH07XG5cbn1dKVxuXG5cbjtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kYXRlcGFyc2VyJywgW10pXG5cbi5zZXJ2aWNlKCdkYXRlUGFyc2VyJywgWyckbG9nJywgJyRsb2NhbGUnLCAnb3JkZXJCeUZpbHRlcicsIGZ1bmN0aW9uKCRsb2csICRsb2NhbGUsIG9yZGVyQnlGaWx0ZXIpIHtcbiAgLy8gUHVsbGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21ib3N0b2NrL2QzL2Jsb2IvbWFzdGVyL3NyYy9mb3JtYXQvcmVxdW90ZS5qc1xuICB2YXIgU1BFQ0lBTF9DSEFSQUNURVJTX1JFR0VYUCA9IC9bXFxcXFxcXlxcJFxcKlxcK1xcP1xcfFxcW1xcXVxcKFxcKVxcLlxce1xcfV0vZztcblxuICB0aGlzLnBhcnNlcnMgPSB7fTtcblxuICB2YXIgZm9ybWF0Q29kZVRvUmVnZXggPSB7XG4gICAgJ3l5eXknOiB7XG4gICAgICByZWdleDogJ1xcXFxkezR9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICd5eSc6IHtcbiAgICAgIHJlZ2V4OiAnXFxcXGR7Mn0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZSArIDIwMDA7IH1cbiAgICB9LFxuICAgICd5Jzoge1xuICAgICAgcmVnZXg6ICdcXFxcZHsxLDR9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdNTU1NJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5qb2luKCd8JyksXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5pbmRleE9mKHZhbHVlKTsgfVxuICAgIH0sXG4gICAgJ01NTSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5qb2luKCd8JyksXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmluZGV4T2YodmFsdWUpOyB9XG4gICAgfSxcbiAgICAnTU0nOiB7XG4gICAgICByZWdleDogJzBbMS05XXwxWzAtMl0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSB2YWx1ZSAtIDE7IH1cbiAgICB9LFxuICAgICdNJzoge1xuICAgICAgcmVnZXg6ICdbMS05XXwxWzAtMl0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSB2YWx1ZSAtIDE7IH1cbiAgICB9LFxuICAgICdkZCc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtMl1bMC05XXsxfXwzWzAtMV17MX0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuZGF0ZSA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ2QnOiB7XG4gICAgICByZWdleDogJ1sxLTJdP1swLTldezF9fDNbMC0xXXsxfScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5kYXRlID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnRUVFRSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuREFZLmpvaW4oJ3wnKVxuICAgIH0sXG4gICAgJ0VFRSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlREQVkuam9pbignfCcpXG4gICAgfSxcbiAgICAnSEgnOiB7XG4gICAgICByZWdleDogJyg/OjB8MSlbMC05XXwyWzAtM10nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuaG91cnMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdoaCc6IHtcbiAgICAgIHJlZ2V4OiAnMFswLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ0gnOiB7XG4gICAgICByZWdleDogJzE/WzAtOV18MlswLTNdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnaCc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnbW0nOiB7XG4gICAgICByZWdleDogJ1swLTVdWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWludXRlcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ20nOiB7XG4gICAgICByZWdleDogJ1swLTldfFsxLTVdWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWludXRlcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3Nzcyc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtOV1bMC05XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1pbGxpc2Vjb25kcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3NzJzoge1xuICAgICAgcmVnZXg6ICdbMC01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnNlY29uZHMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdzJzoge1xuICAgICAgcmVnZXg6ICdbMC05XXxbMS01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnNlY29uZHMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdhJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5BTVBNUy5qb2luKCd8JyksXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaG91cnMgPT09IDEyKSB7XG4gICAgICAgICAgdGhpcy5ob3VycyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUgPT09ICdQTScpIHtcbiAgICAgICAgICB0aGlzLmhvdXJzICs9IDEyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihmb3JtYXQpIHtcbiAgICB2YXIgbWFwID0gW10sIHJlZ2V4ID0gZm9ybWF0LnNwbGl0KCcnKTtcblxuICAgIGFuZ3VsYXIuZm9yRWFjaChmb3JtYXRDb2RlVG9SZWdleCwgZnVuY3Rpb24oZGF0YSwgY29kZSkge1xuICAgICAgdmFyIGluZGV4ID0gZm9ybWF0LmluZGV4T2YoY29kZSk7XG5cbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5zcGxpdCgnJyk7XG5cbiAgICAgICAgcmVnZXhbaW5kZXhdID0gJygnICsgZGF0YS5yZWdleCArICcpJztcbiAgICAgICAgZm9ybWF0W2luZGV4XSA9ICckJzsgLy8gQ3VzdG9tIHN5bWJvbCB0byBkZWZpbmUgY29uc3VtZWQgcGFydCBvZiBmb3JtYXRcbiAgICAgICAgZm9yICh2YXIgaSA9IGluZGV4ICsgMSwgbiA9IGluZGV4ICsgY29kZS5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICByZWdleFtpXSA9ICcnO1xuICAgICAgICAgIGZvcm1hdFtpXSA9ICckJztcbiAgICAgICAgfVxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQuam9pbignJyk7XG5cbiAgICAgICAgbWFwLnB1c2goeyBpbmRleDogaW5kZXgsIGFwcGx5OiBkYXRhLmFwcGx5IH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4LmpvaW4oJycpICsgJyQnKSxcbiAgICAgIG1hcDogb3JkZXJCeUZpbHRlcihtYXAsICdpbmRleCcpXG4gICAgfTtcbiAgfVxuXG4gIHRoaXMucGFyc2UgPSBmdW5jdGlvbihpbnB1dCwgZm9ybWF0LCBiYXNlRGF0ZSkge1xuICAgIGlmICghYW5ndWxhci5pc1N0cmluZyhpbnB1dCkgfHwgIWZvcm1hdCkge1xuICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGZvcm1hdCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdIHx8IGZvcm1hdDtcbiAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQLCAnXFxcXCQmJyk7XG5cbiAgICBpZiAoIXRoaXMucGFyc2Vyc1tmb3JtYXRdKSB7XG4gICAgICB0aGlzLnBhcnNlcnNbZm9ybWF0XSA9IGNyZWF0ZVBhcnNlcihmb3JtYXQpO1xuICAgIH1cblxuICAgIHZhciBwYXJzZXIgPSB0aGlzLnBhcnNlcnNbZm9ybWF0XSxcbiAgICAgICAgcmVnZXggPSBwYXJzZXIucmVnZXgsXG4gICAgICAgIG1hcCA9IHBhcnNlci5tYXAsXG4gICAgICAgIHJlc3VsdHMgPSBpbnB1dC5tYXRjaChyZWdleCk7XG5cbiAgICBpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCkge1xuICAgICAgdmFyIGZpZWxkcywgZHQ7XG4gICAgICBpZiAoYW5ndWxhci5pc0RhdGUoYmFzZURhdGUpICYmICFpc05hTihiYXNlRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIGZpZWxkcyA9IHtcbiAgICAgICAgICB5ZWFyOiBiYXNlRGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgIG1vbnRoOiBiYXNlRGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgIGRhdGU6IGJhc2VEYXRlLmdldERhdGUoKSxcbiAgICAgICAgICBob3VyczogYmFzZURhdGUuZ2V0SG91cnMoKSxcbiAgICAgICAgICBtaW51dGVzOiBiYXNlRGF0ZS5nZXRNaW51dGVzKCksXG4gICAgICAgICAgc2Vjb25kczogYmFzZURhdGUuZ2V0U2Vjb25kcygpLFxuICAgICAgICAgIG1pbGxpc2Vjb25kczogYmFzZURhdGUuZ2V0TWlsbGlzZWNvbmRzKClcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChiYXNlRGF0ZSkge1xuICAgICAgICAgICRsb2cud2FybignZGF0ZXBhcnNlcjonLCAnYmFzZURhdGUgaXMgbm90IGEgdmFsaWQgZGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIGZpZWxkcyA9IHsgeWVhcjogMTkwMCwgbW9udGg6IDAsIGRhdGU6IDEsIGhvdXJzOiAwLCBtaW51dGVzOiAwLCBzZWNvbmRzOiAwLCBtaWxsaXNlY29uZHM6IDAgfTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDEsIG4gPSByZXN1bHRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICB2YXIgbWFwcGVyID0gbWFwW2ktMV07XG4gICAgICAgIGlmIChtYXBwZXIuYXBwbHkpIHtcbiAgICAgICAgICBtYXBwZXIuYXBwbHkuY2FsbChmaWVsZHMsIHJlc3VsdHNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1ZhbGlkKGZpZWxkcy55ZWFyLCBmaWVsZHMubW9udGgsIGZpZWxkcy5kYXRlKSkge1xuICAgICAgICBkdCA9IG5ldyBEYXRlKGZpZWxkcy55ZWFyLCBmaWVsZHMubW9udGgsIGZpZWxkcy5kYXRlLFxuICAgICAgICAgIGZpZWxkcy5ob3VycywgZmllbGRzLm1pbnV0ZXMsIGZpZWxkcy5zZWNvbmRzLFxuICAgICAgICAgIGZpZWxkcy5taWxsaXNlY29uZHMgfHwgMCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkdDtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ2hlY2sgaWYgZGF0ZSBpcyB2YWxpZCBmb3Igc3BlY2lmaWMgbW9udGggKGFuZCB5ZWFyIGZvciBGZWJydWFyeSkuXG4gIC8vIE1vbnRoOiAwID0gSmFuLCAxID0gRmViLCBldGNcbiAgZnVuY3Rpb24gaXNWYWxpZCh5ZWFyLCBtb250aCwgZGF0ZSkge1xuICAgIGlmIChkYXRlIDwgMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChtb250aCA9PT0gMSAmJiBkYXRlID4gMjgpIHtcbiAgICAgIHJldHVybiBkYXRlID09PSAyOSAmJiAoKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDApO1xuICAgIH1cblxuICAgIGlmIChtb250aCA9PT0gMyB8fCBtb250aCA9PT0gNSB8fCBtb250aCA9PT0gOCB8fCBtb250aCA9PT0gMTApIHtcbiAgICAgIHJldHVybiBkYXRlIDwgMzE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbicsIFtdKVxuXG4vKipcbiAqIEEgc2V0IG9mIHV0aWxpdHkgbWV0aG9kcyB0aGF0IGNhbiBiZSB1c2UgdG8gcmV0cmlldmUgcG9zaXRpb24gb2YgRE9NIGVsZW1lbnRzLlxuICogSXQgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aGVyZSB3ZSBuZWVkIHRvIGFic29sdXRlLXBvc2l0aW9uIERPTSBlbGVtZW50cyBpblxuICogcmVsYXRpb24gdG8gb3RoZXIsIGV4aXN0aW5nIGVsZW1lbnRzICh0aGlzIGlzIHRoZSBjYXNlIGZvciB0b29sdGlwcywgcG9wb3ZlcnMsXG4gKiB0eXBlYWhlYWQgc3VnZ2VzdGlvbnMgZXRjLikuXG4gKi9cbiAgLmZhY3RvcnkoJyRwb3NpdGlvbicsIFsnJGRvY3VtZW50JywgJyR3aW5kb3cnLCBmdW5jdGlvbigkZG9jdW1lbnQsICR3aW5kb3cpIHtcbiAgICBmdW5jdGlvbiBnZXRTdHlsZShlbCwgY3NzcHJvcCkge1xuICAgICAgaWYgKGVsLmN1cnJlbnRTdHlsZSkgeyAvL0lFXG4gICAgICAgIHJldHVybiBlbC5jdXJyZW50U3R5bGVbY3NzcHJvcF07XG4gICAgICB9IGVsc2UgaWYgKCR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgICAgICByZXR1cm4gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVtjc3Nwcm9wXTtcbiAgICAgIH1cbiAgICAgIC8vIGZpbmFsbHkgdHJ5IGFuZCBnZXQgaW5saW5lIHN0eWxlXG4gICAgICByZXR1cm4gZWwuc3R5bGVbY3NzcHJvcF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gZWxlbWVudCBpcyBzdGF0aWNhbGx5IHBvc2l0aW9uZWRcbiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIHJhdyBET00gZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RhdGljUG9zaXRpb25lZChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gKGdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpIHx8ICdzdGF0aWMnICkgPT09ICdzdGF0aWMnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGNsb3Nlc3QsIG5vbi1zdGF0aWNhbGx5IHBvc2l0aW9uZWQgcGFyZW50T2Zmc2V0IG9mIGEgZ2l2ZW4gZWxlbWVudFxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICovXG4gICAgdmFyIHBhcmVudE9mZnNldEVsID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmFyIGRvY0RvbUVsID0gJGRvY3VtZW50WzBdO1xuICAgICAgdmFyIG9mZnNldFBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50IHx8IGRvY0RvbUVsO1xuICAgICAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQgIT09IGRvY0RvbUVsICYmIGlzU3RhdGljUG9zaXRpb25lZChvZmZzZXRQYXJlbnQpICkge1xuICAgICAgICBvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2NEb21FbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogUHJvdmlkZXMgcmVhZC1vbmx5IGVxdWl2YWxlbnQgb2YgalF1ZXJ5J3MgcG9zaXRpb24gZnVuY3Rpb246XG4gICAgICAgKiBodHRwOi8vYXBpLmpxdWVyeS5jb20vcG9zaXRpb24vXG4gICAgICAgKi9cbiAgICAgIHBvc2l0aW9uOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciBlbEJDUiA9IHRoaXMub2Zmc2V0KGVsZW1lbnQpO1xuICAgICAgICB2YXIgb2Zmc2V0UGFyZW50QkNSID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgICAgICAgdmFyIG9mZnNldFBhcmVudEVsID0gcGFyZW50T2Zmc2V0RWwoZWxlbWVudFswXSk7XG4gICAgICAgIGlmIChvZmZzZXRQYXJlbnRFbCAhPSAkZG9jdW1lbnRbMF0pIHtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IgPSB0aGlzLm9mZnNldChhbmd1bGFyLmVsZW1lbnQob2Zmc2V0UGFyZW50RWwpKTtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IudG9wICs9IG9mZnNldFBhcmVudEVsLmNsaWVudFRvcCAtIG9mZnNldFBhcmVudEVsLnNjcm9sbFRvcDtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IubGVmdCArPSBvZmZzZXRQYXJlbnRFbC5jbGllbnRMZWZ0IC0gb2Zmc2V0UGFyZW50RWwuc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiBib3VuZGluZ0NsaWVudFJlY3Qud2lkdGggfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRXaWR0aCcpLFxuICAgICAgICAgIGhlaWdodDogYm91bmRpbmdDbGllbnRSZWN0LmhlaWdodCB8fCBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpLFxuICAgICAgICAgIHRvcDogZWxCQ1IudG9wIC0gb2Zmc2V0UGFyZW50QkNSLnRvcCxcbiAgICAgICAgICBsZWZ0OiBlbEJDUi5sZWZ0IC0gb2Zmc2V0UGFyZW50QkNSLmxlZnRcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUHJvdmlkZXMgcmVhZC1vbmx5IGVxdWl2YWxlbnQgb2YgalF1ZXJ5J3Mgb2Zmc2V0IGZ1bmN0aW9uOlxuICAgICAgICogaHR0cDovL2FwaS5qcXVlcnkuY29tL29mZnNldC9cbiAgICAgICAqL1xuICAgICAgb2Zmc2V0OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciBib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiBib3VuZGluZ0NsaWVudFJlY3Qud2lkdGggfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRXaWR0aCcpLFxuICAgICAgICAgIGhlaWdodDogYm91bmRpbmdDbGllbnRSZWN0LmhlaWdodCB8fCBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpLFxuICAgICAgICAgIHRvcDogYm91bmRpbmdDbGllbnRSZWN0LnRvcCArICgkd2luZG93LnBhZ2VZT2Zmc2V0IHx8ICRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSxcbiAgICAgICAgICBsZWZ0OiBib3VuZGluZ0NsaWVudFJlY3QubGVmdCArICgkd2luZG93LnBhZ2VYT2Zmc2V0IHx8ICRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdClcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUHJvdmlkZXMgY29vcmRpbmF0ZXMgZm9yIHRoZSB0YXJnZXRFbCBpbiByZWxhdGlvbiB0byBob3N0RWxcbiAgICAgICAqL1xuICAgICAgcG9zaXRpb25FbGVtZW50czogZnVuY3Rpb24oaG9zdEVsLCB0YXJnZXRFbCwgcG9zaXRpb25TdHIsIGFwcGVuZFRvQm9keSkge1xuICAgICAgICB2YXIgcG9zaXRpb25TdHJQYXJ0cyA9IHBvc2l0aW9uU3RyLnNwbGl0KCctJyk7XG4gICAgICAgIHZhciBwb3MwID0gcG9zaXRpb25TdHJQYXJ0c1swXSwgcG9zMSA9IHBvc2l0aW9uU3RyUGFydHNbMV0gfHwgJ2NlbnRlcic7XG5cbiAgICAgICAgdmFyIGhvc3RFbFBvcyxcbiAgICAgICAgICB0YXJnZXRFbFdpZHRoLFxuICAgICAgICAgIHRhcmdldEVsSGVpZ2h0LFxuICAgICAgICAgIHRhcmdldEVsUG9zO1xuXG4gICAgICAgIGhvc3RFbFBvcyA9IGFwcGVuZFRvQm9keSA/IHRoaXMub2Zmc2V0KGhvc3RFbCkgOiB0aGlzLnBvc2l0aW9uKGhvc3RFbCk7XG5cbiAgICAgICAgdGFyZ2V0RWxXaWR0aCA9IHRhcmdldEVsLnByb3AoJ29mZnNldFdpZHRoJyk7XG4gICAgICAgIHRhcmdldEVsSGVpZ2h0ID0gdGFyZ2V0RWwucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG5cbiAgICAgICAgdmFyIHNoaWZ0V2lkdGggPSB7XG4gICAgICAgICAgY2VudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aCAvIDIgLSB0YXJnZXRFbFdpZHRoIC8gMjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxlZnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0ICsgaG9zdEVsUG9zLndpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc2hpZnRIZWlnaHQgPSB7XG4gICAgICAgICAgY2VudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodCAvIDIgLSB0YXJnZXRFbEhlaWdodCAvIDI7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3A7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBib3R0b206IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3AgKyBob3N0RWxQb3MuaGVpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzd2l0Y2ggKHBvczApIHtcbiAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MxXSgpLFxuICAgICAgICAgICAgICBsZWZ0OiBzaGlmdFdpZHRoW3BvczBdKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IHNoaWZ0SGVpZ2h0W3BvczFdKCksXG4gICAgICAgICAgICAgIGxlZnQ6IGhvc3RFbFBvcy5sZWZ0IC0gdGFyZ2V0RWxXaWR0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MwXSgpLFxuICAgICAgICAgICAgICBsZWZ0OiBzaGlmdFdpZHRoW3BvczFdKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogaG9zdEVsUG9zLnRvcCAtIHRhcmdldEVsSGVpZ2h0LFxuICAgICAgICAgICAgICBsZWZ0OiBzaGlmdFdpZHRoW3BvczFdKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXRFbFBvcztcbiAgICAgIH1cbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBpY2tlcicsIFsndWkuYm9vdHN0cmFwLmRhdGVwYXJzZXInLCAndWkuYm9vdHN0cmFwLnBvc2l0aW9uJ10pXG5cbi52YWx1ZSgnJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yJywgZmFsc2UpXG5cbi5jb25zdGFudCgnZGF0ZXBpY2tlckNvbmZpZycsIHtcbiAgZm9ybWF0RGF5OiAnZGQnLFxuICBmb3JtYXRNb250aDogJ01NTU0nLFxuICBmb3JtYXRZZWFyOiAneXl5eScsXG4gIGZvcm1hdERheUhlYWRlcjogJ0VFRScsXG4gIGZvcm1hdERheVRpdGxlOiAnTU1NTSB5eXl5JyxcbiAgZm9ybWF0TW9udGhUaXRsZTogJ3l5eXknLFxuICBkYXRlcGlja2VyTW9kZTogJ2RheScsXG4gIG1pbk1vZGU6ICdkYXknLFxuICBtYXhNb2RlOiAneWVhcicsXG4gIHNob3dXZWVrczogdHJ1ZSxcbiAgc3RhcnRpbmdEYXk6IDAsXG4gIHllYXJSYW5nZTogMjAsXG4gIG1pbkRhdGU6IG51bGwsXG4gIG1heERhdGU6IG51bGwsXG4gIHNob3J0Y3V0UHJvcGFnYXRpb246IGZhbHNlXG59KVxuXG4uY29udHJvbGxlcignRGF0ZXBpY2tlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgJyRpbnRlcnBvbGF0ZScsICckbG9nJywgJ2RhdGVGaWx0ZXInLCAnZGF0ZXBpY2tlckNvbmZpZycsICckZGF0ZXBpY2tlclN1cHByZXNzRXJyb3InLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkaW50ZXJwb2xhdGUsICRsb2csIGRhdGVGaWx0ZXIsIGRhdGVwaWNrZXJDb25maWcsICRkYXRlcGlja2VyU3VwcHJlc3NFcnJvcikge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBuZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH07IC8vIG51bGxNb2RlbEN0cmw7XG5cbiAgLy8gTW9kZXMgY2hhaW5cbiAgdGhpcy5tb2RlcyA9IFsnZGF5JywgJ21vbnRoJywgJ3llYXInXTtcblxuICAvLyBDb25maWd1cmF0aW9uIGF0dHJpYnV0ZXNcbiAgYW5ndWxhci5mb3JFYWNoKFsnZm9ybWF0RGF5JywgJ2Zvcm1hdE1vbnRoJywgJ2Zvcm1hdFllYXInLCAnZm9ybWF0RGF5SGVhZGVyJywgJ2Zvcm1hdERheVRpdGxlJywgJ2Zvcm1hdE1vbnRoVGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICdzaG93V2Vla3MnLCAnc3RhcnRpbmdEYXknLCAneWVhclJhbmdlJywgJ3Nob3J0Y3V0UHJvcGFnYXRpb24nXSwgZnVuY3Rpb24oa2V5LCBpbmRleCkge1xuICAgIHNlbGZba2V5XSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRyc1trZXldKSA/IChpbmRleCA8IDYgPyAkaW50ZXJwb2xhdGUoJGF0dHJzW2tleV0pKCRzY29wZS4kcGFyZW50KSA6ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRyc1trZXldKSkgOiBkYXRlcGlja2VyQ29uZmlnW2tleV07XG4gIH0pO1xuXG4gIC8vIFdhdGNoYWJsZSBkYXRlIGF0dHJpYnV0ZXNcbiAgYW5ndWxhci5mb3JFYWNoKFsnbWluRGF0ZScsICdtYXhEYXRlJ10sIGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgkYXR0cnNba2V5XSkge1xuICAgICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnNba2V5XSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNlbGZba2V5XSA9IHZhbHVlID8gbmV3IERhdGUodmFsdWUpIDogbnVsbDtcbiAgICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGZba2V5XSA9IGRhdGVwaWNrZXJDb25maWdba2V5XSA/IG5ldyBEYXRlKGRhdGVwaWNrZXJDb25maWdba2V5XSkgOiBudWxsO1xuICAgIH1cbiAgfSk7XG5cbiAgYW5ndWxhci5mb3JFYWNoKFsnbWluTW9kZScsICdtYXhNb2RlJ10sIGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgkYXR0cnNba2V5XSkge1xuICAgICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnNba2V5XSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNlbGZba2V5XSA9IGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogJGF0dHJzW2tleV07XG4gICAgICAgICRzY29wZVtrZXldID0gc2VsZltrZXldO1xuICAgICAgICBpZiAoKGtleSA9PSAnbWluTW9kZScgJiYgc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSkgPCBzZWxmLm1vZGVzLmluZGV4T2Yoc2VsZltrZXldKSkgfHwgKGtleSA9PSAnbWF4TW9kZScgJiYgc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSkgPiBzZWxmLm1vZGVzLmluZGV4T2Yoc2VsZltrZXldKSkpIHtcbiAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSBzZWxmW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmW2tleV0gPSBkYXRlcGlja2VyQ29uZmlnW2tleV0gfHwgbnVsbDtcbiAgICAgICRzY29wZVtrZXldID0gc2VsZltrZXldO1xuICAgIH1cbiAgfSk7XG5cbiAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gJHNjb3BlLmRhdGVwaWNrZXJNb2RlIHx8IGRhdGVwaWNrZXJDb25maWcuZGF0ZXBpY2tlck1vZGU7XG4gICRzY29wZS51bmlxdWVJZCA9ICdkYXRlcGlja2VyLScgKyAkc2NvcGUuJGlkICsgJy0nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuXG4gIGlmIChhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuaW5pdERhdGUpKSB7XG4gICAgdGhpcy5hY3RpdmVEYXRlID0gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmluaXREYXRlKSB8fCBuZXcgRGF0ZSgpO1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkYXR0cnMuaW5pdERhdGUsIGZ1bmN0aW9uKGluaXREYXRlKSB7XG4gICAgICBpZiAoaW5pdERhdGUgJiYgKG5nTW9kZWxDdHJsLiRpc0VtcHR5KG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSB8fCBuZ01vZGVsQ3RybC4kaW52YWxpZCkpIHtcbiAgICAgICAgc2VsZi5hY3RpdmVEYXRlID0gaW5pdERhdGU7XG4gICAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmFjdGl2ZURhdGUgPSBuZXcgRGF0ZSgpO1xuICB9XG5cbiAgJHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24oZGF0ZU9iamVjdCkge1xuICAgIGlmIChzZWxmLmNvbXBhcmUoZGF0ZU9iamVjdC5kYXRlLCBzZWxmLmFjdGl2ZURhdGUpID09PSAwKSB7XG4gICAgICAkc2NvcGUuYWN0aXZlRGF0ZUlkID0gZGF0ZU9iamVjdC51aWQ7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuXG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICB9O1xuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIHtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSksXG4gICAgICAgICAgaXNWYWxpZCA9ICFpc05hTihkYXRlKTtcblxuICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVEYXRlID0gZGF0ZTtcbiAgICAgIH0gZWxzZSBpZiAoISRkYXRlcGlja2VyU3VwcHJlc3NFcnJvcikge1xuICAgICAgICAkbG9nLmVycm9yKCdEYXRlcGlja2VyIGRpcmVjdGl2ZTogXCJuZy1tb2RlbFwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yZWZyZXNoVmlldygpO1xuICB9O1xuXG4gIHRoaXMucmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICB0aGlzLl9yZWZyZXNoVmlldygpO1xuXG4gICAgICB2YXIgZGF0ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPyBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSA6IG51bGw7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2RhdGVEaXNhYmxlZCcsICFkYXRlIHx8ICh0aGlzLmVsZW1lbnQgJiYgIXRoaXMuaXNEaXNhYmxlZChkYXRlKSkpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmNyZWF0ZURhdGVPYmplY3QgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXQpIHtcbiAgICB2YXIgbW9kZWwgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkgOiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgbGFiZWw6IGRhdGVGaWx0ZXIoZGF0ZSwgZm9ybWF0KSxcbiAgICAgIHNlbGVjdGVkOiBtb2RlbCAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgbW9kZWwpID09PSAwLFxuICAgICAgZGlzYWJsZWQ6IHRoaXMuaXNEaXNhYmxlZChkYXRlKSxcbiAgICAgIGN1cnJlbnQ6IHRoaXMuY29tcGFyZShkYXRlLCBuZXcgRGF0ZSgpKSA9PT0gMCxcbiAgICAgIGN1c3RvbUNsYXNzOiB0aGlzLmN1c3RvbUNsYXNzKGRhdGUpXG4gICAgfTtcbiAgfTtcblxuICB0aGlzLmlzRGlzYWJsZWQgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgcmV0dXJuICgodGhpcy5taW5EYXRlICYmIHRoaXMuY29tcGFyZShkYXRlLCB0aGlzLm1pbkRhdGUpIDwgMCkgfHwgKHRoaXMubWF4RGF0ZSAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgdGhpcy5tYXhEYXRlKSA+IDApIHx8ICgkYXR0cnMuZGF0ZURpc2FibGVkICYmICRzY29wZS5kYXRlRGlzYWJsZWQoe2RhdGU6IGRhdGUsIG1vZGU6ICRzY29wZS5kYXRlcGlja2VyTW9kZX0pKSk7XG4gIH07XG5cbiAgdGhpcy5jdXN0b21DbGFzcyA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICByZXR1cm4gJHNjb3BlLmN1c3RvbUNsYXNzKHtkYXRlOiBkYXRlLCBtb2RlOiAkc2NvcGUuZGF0ZXBpY2tlck1vZGV9KTtcbiAgfTtcblxuICAvLyBTcGxpdCBhcnJheSBpbnRvIHNtYWxsZXIgYXJyYXlzXG4gIHRoaXMuc3BsaXQgPSBmdW5jdGlvbihhcnIsIHNpemUpIHtcbiAgICB2YXIgYXJyYXlzID0gW107XG4gICAgd2hpbGUgKGFyci5sZW5ndGggPiAwKSB7XG4gICAgICBhcnJheXMucHVzaChhcnIuc3BsaWNlKDAsIHNpemUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5cztcbiAgfTtcblxuICAvLyBGaXggYSBoYXJkLXJlcHJvZHVzaWJsZSBidWcgd2l0aCB0aW1lem9uZXNcbiAgLy8gVGhlIGJ1ZyBkZXBlbmRzIG9uIE9TLCBicm93c2VyLCBjdXJyZW50IHRpbWV6b25lIGFuZCBjdXJyZW50IGRhdGVcbiAgLy8gaS5lLlxuICAvLyB2YXIgZGF0ZSA9IG5ldyBEYXRlKDIwMTQsIDAsIDEpO1xuICAvLyBjb25zb2xlLmxvZyhkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCksIGRhdGUuZ2V0SG91cnMoKSk7XG4gIC8vIGNhbiByZXN1bHQgaW4gXCIyMDEzIDExIDMxIDIzXCIgYmVjYXVzZSBvZiB0aGUgYnVnLlxuICB0aGlzLmZpeFRpbWVab25lID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICBkYXRlLnNldEhvdXJzKGhvdXJzID09PSAyMyA/IGhvdXJzICsgMiA6IDApO1xuICB9O1xuXG4gICRzY29wZS5zZWxlY3QgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgaWYgKCRzY29wZS5kYXRlcGlja2VyTW9kZSA9PT0gc2VsZi5taW5Nb2RlKSB7XG4gICAgICB2YXIgZHQgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkgOiBuZXcgRGF0ZSgwLCAwLCAwLCAwLCAwLCAwLCAwKTtcbiAgICAgIGR0LnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSk7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGR0KTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5hY3RpdmVEYXRlID0gZGF0ZTtcbiAgICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSkgLSAxXTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm1vdmUgPSBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbiAgICB2YXIgeWVhciA9IHNlbGYuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICsgZGlyZWN0aW9uICogKHNlbGYuc3RlcC55ZWFycyB8fCAwKSxcbiAgICAgICAgbW9udGggPSBzZWxmLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSArIGRpcmVjdGlvbiAqIChzZWxmLnN0ZXAubW9udGhzIHx8IDApO1xuICAgIHNlbGYuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyLCBtb250aCwgMSk7XG4gICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICB9O1xuXG4gICRzY29wZS50b2dnbGVNb2RlID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgZGlyZWN0aW9uID0gZGlyZWN0aW9uIHx8IDE7XG5cbiAgICBpZiAoKCRzY29wZS5kYXRlcGlja2VyTW9kZSA9PT0gc2VsZi5tYXhNb2RlICYmIGRpcmVjdGlvbiA9PT0gMSkgfHwgKCRzY29wZS5kYXRlcGlja2VyTW9kZSA9PT0gc2VsZi5taW5Nb2RlICYmIGRpcmVjdGlvbiA9PT0gLTEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZi5tb2Rlc1tzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKSArIGRpcmVjdGlvbl07XG4gIH07XG5cbiAgLy8gS2V5IGV2ZW50IG1hcHBlclxuICAkc2NvcGUua2V5cyA9IHsgMTM6ICdlbnRlcicsIDMyOiAnc3BhY2UnLCAzMzogJ3BhZ2V1cCcsIDM0OiAncGFnZWRvd24nLCAzNTogJ2VuZCcsIDM2OiAnaG9tZScsIDM3OiAnbGVmdCcsIDM4OiAndXAnLCAzOTogJ3JpZ2h0JywgNDA6ICdkb3duJyB9O1xuXG4gIHZhciBmb2N1c0VsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICBzZWxmLmVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgfTtcblxuICAvLyBMaXN0ZW4gZm9yIGZvY3VzIHJlcXVlc3RzIGZyb20gcG9wdXAgZGlyZWN0aXZlXG4gICRzY29wZS4kb24oJ2RhdGVwaWNrZXIuZm9jdXMnLCBmb2N1c0VsZW1lbnQpO1xuXG4gICRzY29wZS5rZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgdmFyIGtleSA9ICRzY29wZS5rZXlzW2V2dC53aGljaF07XG5cbiAgICBpZiAoIWtleSB8fCBldnQuc2hpZnRLZXkgfHwgZXZ0LmFsdEtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghc2VsZi5zaG9ydGN1dFByb3BhZ2F0aW9uKSB7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ2VudGVyJyB8fCBrZXkgPT09ICdzcGFjZScpIHtcbiAgICAgIGlmIChzZWxmLmlzRGlzYWJsZWQoc2VsZi5hY3RpdmVEYXRlKSkge1xuICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmdcbiAgICAgIH1cbiAgICAgICRzY29wZS5zZWxlY3Qoc2VsZi5hY3RpdmVEYXRlKTtcbiAgICAgIGZvY3VzRWxlbWVudCgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmN0cmxLZXkgJiYgKGtleSA9PT0gJ3VwJyB8fCBrZXkgPT09ICdkb3duJykpIHtcbiAgICAgICRzY29wZS50b2dnbGVNb2RlKGtleSA9PT0gJ3VwJyA/IDEgOiAtMSk7XG4gICAgICBmb2N1c0VsZW1lbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5oYW5kbGVLZXlEb3duKGtleSwgZXZ0KTtcbiAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlcicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sJztcbiAgICB9LFxuICAgIHNjb3BlOiB7XG4gICAgICBkYXRlcGlja2VyTW9kZTogJz0/JyxcbiAgICAgIGRhdGVEaXNhYmxlZDogJyYnLFxuICAgICAgY3VzdG9tQ2xhc3M6ICcmJyxcbiAgICAgIHNob3J0Y3V0UHJvcGFnYXRpb246ICcmPydcbiAgICB9LFxuICAgIHJlcXVpcmU6IFsnZGF0ZXBpY2tlcicsICdebmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdEYXRlcGlja2VyQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGRhdGVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGRhdGVwaWNrZXJDdHJsLmluaXQobmdNb2RlbEN0cmwpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2RheXBpY2tlcicsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uKGRhdGVGaWx0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbCcsXG4gICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgIHNjb3BlLnNob3dXZWVrcyA9IGN0cmwuc2hvd1dlZWtzO1xuXG4gICAgICBjdHJsLnN0ZXAgPSB7IG1vbnRoczogMSB9O1xuICAgICAgY3RybC5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgdmFyIERBWVNfSU5fTU9OVEggPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XG4gICAgICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgICAgICByZXR1cm4gKChtb250aCA9PT0gMSkgJiYgKHllYXIgJSA0ID09PSAwKSAmJiAoKHllYXIgJSAxMDAgIT09IDApIHx8ICh5ZWFyICUgNDAwID09PSAwKSkpID8gMjkgOiBEQVlTX0lOX01PTlRIW21vbnRoXTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0RGF0ZXMoc3RhcnREYXRlLCBuKSB7XG4gICAgICAgIHZhciBkYXRlcyA9IG5ldyBBcnJheShuKSwgY3VycmVudCA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSksIGkgPSAwLCBkYXRlO1xuICAgICAgICB3aGlsZSAoaSA8IG4pIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoY3VycmVudCk7XG4gICAgICAgICAgY3RybC5maXhUaW1lWm9uZShkYXRlKTtcbiAgICAgICAgICBkYXRlc1tpKytdID0gZGF0ZTtcbiAgICAgICAgICBjdXJyZW50LnNldERhdGUoY3VycmVudC5nZXREYXRlKCkgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0ZXM7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgbW9udGggPSBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICBmaXJzdERheU9mTW9udGggPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSksXG4gICAgICAgICAgZGlmZmVyZW5jZSA9IGN0cmwuc3RhcnRpbmdEYXkgLSBmaXJzdERheU9mTW9udGguZ2V0RGF5KCksXG4gICAgICAgICAgbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggPSAoZGlmZmVyZW5jZSA+IDApID8gNyAtIGRpZmZlcmVuY2UgOiAtIGRpZmZlcmVuY2UsXG4gICAgICAgICAgZmlyc3REYXRlID0gbmV3IERhdGUoZmlyc3REYXlPZk1vbnRoKTtcblxuICAgICAgICBpZiAobnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggPiAwKSB7XG4gICAgICAgICAgZmlyc3REYXRlLnNldERhdGUoLW51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyA0MiBpcyB0aGUgbnVtYmVyIG9mIGRheXMgb24gYSBzaXgtbW9udGggY2FsZW5kYXJcbiAgICAgICAgdmFyIGRheXMgPSBnZXREYXRlcyhmaXJzdERhdGUsIDQyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0MjsgaSArKykge1xuICAgICAgICAgIGRheXNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF5c1tpXSwgY3RybC5mb3JtYXREYXkpLCB7XG4gICAgICAgICAgICBzZWNvbmRhcnk6IGRheXNbaV0uZ2V0TW9udGgoKSAhPT0gbW9udGgsXG4gICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUubGFiZWxzID0gbmV3IEFycmF5KDcpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDc7IGorKykge1xuICAgICAgICAgIHNjb3BlLmxhYmVsc1tqXSA9IHtcbiAgICAgICAgICAgIGFiYnI6IGRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLCBjdHJsLmZvcm1hdERheUhlYWRlciksXG4gICAgICAgICAgICBmdWxsOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgJ0VFRUUnKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS50aXRsZSA9IGRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLCBjdHJsLmZvcm1hdERheVRpdGxlKTtcbiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQoZGF5cywgNyk7XG5cbiAgICAgICAgaWYgKHNjb3BlLnNob3dXZWVrcykge1xuICAgICAgICAgIHNjb3BlLndlZWtOdW1iZXJzID0gW107XG4gICAgICAgICAgdmFyIHRodXJzZGF5SW5kZXggPSAoNCArIDcgLSBjdHJsLnN0YXJ0aW5nRGF5KSAlIDcsXG4gICAgICAgICAgICAgIG51bVdlZWtzID0gc2NvcGUucm93cy5sZW5ndGg7XG4gICAgICAgICAgZm9yICh2YXIgY3VyV2VlayA9IDA7IGN1cldlZWsgPCBudW1XZWVrczsgY3VyV2VlaysrKSB7XG4gICAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycy5wdXNoKFxuICAgICAgICAgICAgICBnZXRJU084NjAxV2Vla051bWJlcihzY29wZS5yb3dzW2N1cldlZWtdW3RodXJzZGF5SW5kZXhdLmRhdGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gKG5ldyBEYXRlKGRhdGUxLmdldEZ1bGxZZWFyKCksIGRhdGUxLmdldE1vbnRoKCksIGRhdGUxLmdldERhdGUoKSkgLSBuZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLCBkYXRlMi5nZXRNb250aCgpLCBkYXRlMi5nZXREYXRlKCkpKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGdldElTTzg2MDFXZWVrTnVtYmVyKGRhdGUpIHtcbiAgICAgICAgdmFyIGNoZWNrRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZShjaGVja0RhdGUuZ2V0RGF0ZSgpICsgNCAtIChjaGVja0RhdGUuZ2V0RGF5KCkgfHwgNykpOyAvLyBUaHVyc2RheVxuICAgICAgICB2YXIgdGltZSA9IGNoZWNrRGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgIGNoZWNrRGF0ZS5zZXRNb250aCgwKTsgLy8gQ29tcGFyZSB3aXRoIEphbiAxXG4gICAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKDEpO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJvdW5kKCh0aW1lIC0gY2hlY2tEYXRlKSAvIDg2NDAwMDAwKSAvIDcpICsgMTtcbiAgICAgIH1cblxuICAgICAgY3RybC5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oa2V5LCBldnQpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RGF0ZSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gNzsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgNztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIHZhciBtb250aCA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpICsgKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKTtcbiAgICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgobW9udGgsIDEpO1xuICAgICAgICAgIGRhdGUgPSBNYXRoLm1pbihnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpLCBkYXRlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICBkYXRlID0gZ2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksIGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RGF0ZShkYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnbW9udGhwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbihkYXRlRmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCcsXG4gICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgIGN0cmwuc3RlcCA9IHsgeWVhcnM6IDEgfTtcbiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtb250aHMgPSBuZXcgQXJyYXkoMTIpLFxuICAgICAgICAgICAgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgZGF0ZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeWVhciwgaSwgMSk7XG4gICAgICAgICAgY3RybC5maXhUaW1lWm9uZShkYXRlKTtcbiAgICAgICAgICBtb250aHNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF0ZSwgY3RybC5mb3JtYXRNb250aCksIHtcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS50aXRsZSA9IGRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLCBjdHJsLmZvcm1hdE1vbnRoVGl0bGUpO1xuICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdChtb250aHMsIDMpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpKSAtIG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCkpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oa2V5LCBldnQpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXBcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd1cCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDM7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDM7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHtcbiAgICAgICAgICB2YXIgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICsgKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKTtcbiAgICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhcik7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcbiAgICAgICAgICBkYXRlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7XG4gICAgICAgICAgZGF0ZSA9IDExO1xuICAgICAgICB9XG4gICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChkYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgneWVhcnBpY2tlcicsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uKGRhdGVGaWx0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwnLFxuICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBjdHJsLnllYXJSYW5nZTtcblxuICAgICAgY3RybC5zdGVwID0geyB5ZWFyczogcmFuZ2UgfTtcbiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFN0YXJ0aW5nWWVhciggeWVhciApIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KCh5ZWFyIC0gMSkgLyByYW5nZSwgMTApICogcmFuZ2UgKyAxO1xuICAgICAgfVxuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeWVhcnMgPSBuZXcgQXJyYXkocmFuZ2UpLCBkYXRlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBzdGFydCA9IGdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk7IGkgPCByYW5nZTsgaSsrKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHN0YXJ0ICsgaSwgMCwgMSk7XG4gICAgICAgICAgY3RybC5maXhUaW1lWm9uZShkYXRlKTtcbiAgICAgICAgICB5ZWFyc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChkYXRlLCBjdHJsLmZvcm1hdFllYXIpLCB7XG4gICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBbeWVhcnNbMF0ubGFiZWwsIHllYXJzW3JhbmdlIC0gMV0ubGFiZWxdLmpvaW4oJyAtICcpO1xuICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdCh5ZWFycywgNSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUxLmdldEZ1bGxZZWFyKCkgLSBkYXRlMi5nZXRGdWxsWWVhcigpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oa2V5LCBldnQpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXBcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd1cCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDU7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDU7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHtcbiAgICAgICAgICBkYXRlICs9IChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSkgKiBjdHJsLnN0ZXAueWVhcnM7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcbiAgICAgICAgICBkYXRlID0gZ2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSkgKyByYW5nZSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29uc3RhbnQoJ2RhdGVwaWNrZXJQb3B1cENvbmZpZycsIHtcbiAgZGF0ZXBpY2tlclBvcHVwOiAneXl5eS1NTS1kZCcsXG4gIGRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sJyxcbiAgZGF0ZXBpY2tlclRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwnLFxuICBodG1sNVR5cGVzOiB7XG4gICAgZGF0ZTogJ3l5eXktTU0tZGQnLFxuICAgICdkYXRldGltZS1sb2NhbCc6ICd5eXl5LU1NLWRkVEhIOm1tOnNzLnNzcycsXG4gICAgJ21vbnRoJzogJ3l5eXktTU0nXG4gIH0sXG4gIGN1cnJlbnRUZXh0OiAnVG9kYXknLFxuICBjbGVhclRleHQ6ICdDbGVhcicsXG4gIGNsb3NlVGV4dDogJ0RvbmUnLFxuICBjbG9zZU9uRGF0ZVNlbGVjdGlvbjogdHJ1ZSxcbiAgYXBwZW5kVG9Cb2R5OiBmYWxzZSxcbiAgc2hvd0J1dHRvbkJhcjogdHJ1ZSxcbiAgb25PcGVuRm9jdXM6IHRydWVcbn0pXG5cbi5kaXJlY3RpdmUoJ2RhdGVwaWNrZXJQb3B1cCcsIFsnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRkb2N1bWVudCcsICckcm9vdFNjb3BlJywgJyRwb3NpdGlvbicsICdkYXRlRmlsdGVyJywgJ2RhdGVQYXJzZXInLCAnZGF0ZXBpY2tlclBvcHVwQ29uZmlnJywgJyR0aW1lb3V0JyxcbmZ1bmN0aW9uKCRjb21waWxlLCAkcGFyc2UsICRkb2N1bWVudCwgJHJvb3RTY29wZSwgJHBvc2l0aW9uLCBkYXRlRmlsdGVyLCBkYXRlUGFyc2VyLCBkYXRlcGlja2VyUG9wdXBDb25maWcsICR0aW1lb3V0KSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgIHNjb3BlOiB7XG4gICAgICBpc09wZW46ICc9PycsXG4gICAgICBjdXJyZW50VGV4dDogJ0AnLFxuICAgICAgY2xlYXJUZXh0OiAnQCcsXG4gICAgICBjbG9zZVRleHQ6ICdAJyxcbiAgICAgIGRhdGVEaXNhYmxlZDogJyYnLFxuICAgICAgY3VzdG9tQ2xhc3M6ICcmJ1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICB2YXIgZGF0ZUZvcm1hdCxcbiAgICAgICAgICBjbG9zZU9uRGF0ZVNlbGVjdGlvbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmNsb3NlT25EYXRlU2VsZWN0aW9uLFxuICAgICAgICAgIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5hcHBlbmRUb0JvZHksXG4gICAgICAgICAgb25PcGVuRm9jdXMgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5vbk9wZW5Gb2N1cykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm9uT3BlbkZvY3VzKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5vbk9wZW5Gb2N1cyxcbiAgICAgICAgICBkYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsKSA/IGF0dHJzLmRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsLFxuICAgICAgICAgIGRhdGVwaWNrZXJUZW1wbGF0ZVVybCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRhdGVwaWNrZXJUZW1wbGF0ZVVybCkgPyBhdHRycy5kYXRlcGlja2VyVGVtcGxhdGVVcmwgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclRlbXBsYXRlVXJsLFxuICAgICAgICAgIGNhY2hlID0ge307XG5cbiAgICAgIHNjb3BlLnNob3dCdXR0b25CYXIgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5zaG93QnV0dG9uQmFyKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuc2hvd0J1dHRvbkJhcikgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuc2hvd0J1dHRvbkJhcjtcblxuICAgICAgc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gc2NvcGVba2V5ICsgJ1RleHQnXSB8fCBkYXRlcGlja2VyUG9wdXBDb25maWdba2V5ICsgJ1RleHQnXTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLmlzRGlzYWJsZWQgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIGlmIChkYXRlID09PSAndG9kYXknKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKChzY29wZS53YXRjaERhdGEubWluRGF0ZSAmJiBzY29wZS5jb21wYXJlKGRhdGUsIGNhY2hlLm1pbkRhdGUpIDwgMCkgfHxcbiAgICAgICAgICAoc2NvcGUud2F0Y2hEYXRhLm1heERhdGUgJiYgc2NvcGUuY29tcGFyZShkYXRlLCBjYWNoZS5tYXhEYXRlKSA+IDApKTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpLCBkYXRlMS5nZXREYXRlKCkpIC0gbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSwgZGF0ZTIuZ2V0RGF0ZSgpKSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgaXNIdG1sNURhdGVJbnB1dCA9IGZhbHNlO1xuICAgICAgaWYgKGRhdGVwaWNrZXJQb3B1cENvbmZpZy5odG1sNVR5cGVzW2F0dHJzLnR5cGVdKSB7XG4gICAgICAgIGRhdGVGb3JtYXQgPSBkYXRlcGlja2VyUG9wdXBDb25maWcuaHRtbDVUeXBlc1thdHRycy50eXBlXTtcbiAgICAgICAgaXNIdG1sNURhdGVJbnB1dCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRlRm9ybWF0ID0gYXR0cnMuZGF0ZXBpY2tlclBvcHVwIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXA7XG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdkYXRlcGlja2VyUG9wdXAnLCBmdW5jdGlvbih2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBuZXdEYXRlRm9ybWF0ID0gdmFsdWUgfHwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJQb3B1cDtcbiAgICAgICAgICAgIC8vIEludmFsaWRhdGUgdGhlICRtb2RlbFZhbHVlIHRvIGVuc3VyZSB0aGF0IGZvcm1hdHRlcnMgcmUtcnVuXG4gICAgICAgICAgICAvLyBGSVhNRTogUmVmYWN0b3Igd2hlbiBQUiBpcyBtZXJnZWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8xMDc2NFxuICAgICAgICAgICAgaWYgKG5ld0RhdGVGb3JtYXQgIT09IGRhdGVGb3JtYXQpIHtcbiAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IG5ld0RhdGVGb3JtYXQ7XG4gICAgICAgICAgICAgIG5nTW9kZWwuJG1vZGVsVmFsdWUgPSBudWxsO1xuXG4gICAgICAgICAgICAgIGlmICghZGF0ZUZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZGF0ZXBpY2tlclBvcHVwIG11c3QgaGF2ZSBhIGRhdGUgZm9ybWF0IHNwZWNpZmllZC4nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkYXRlRm9ybWF0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZGF0ZXBpY2tlclBvcHVwIG11c3QgaGF2ZSBhIGRhdGUgZm9ybWF0IHNwZWNpZmllZC4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzSHRtbDVEYXRlSW5wdXQgJiYgYXR0cnMuZGF0ZXBpY2tlclBvcHVwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSFRNTDUgZGF0ZSBpbnB1dCB0eXBlcyBkbyBub3Qgc3VwcG9ydCBjdXN0b20gZm9ybWF0cy4nKTtcbiAgICAgIH1cblxuICAgICAgLy8gcG9wdXAgZWxlbWVudCB1c2VkIHRvIGRpc3BsYXkgY2FsZW5kYXJcbiAgICAgIHZhciBwb3B1cEVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IGRhdGVwaWNrZXItcG9wdXAtd3JhcD48ZGl2IGRhdGVwaWNrZXI+PC9kaXY+PC9kaXY+Jyk7XG4gICAgICBwb3B1cEVsLmF0dHIoe1xuICAgICAgICAnbmctbW9kZWwnOiAnZGF0ZScsXG4gICAgICAgICduZy1jaGFuZ2UnOiAnZGF0ZVNlbGVjdGlvbihkYXRlKScsXG4gICAgICAgICd0ZW1wbGF0ZS11cmwnOiBkYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybFxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNhbWVsdG9EYXNoKHN0cmluZykge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24oJDEpIHsgcmV0dXJuICctJyArICQxLnRvTG93ZXJDYXNlKCk7IH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBkYXRlcGlja2VyIGVsZW1lbnRcbiAgICAgIHZhciBkYXRlcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQocG9wdXBFbC5jaGlsZHJlbigpWzBdKTtcbiAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCd0ZW1wbGF0ZS11cmwnLCBkYXRlcGlja2VyVGVtcGxhdGVVcmwpO1xuXG4gICAgICBpZiAoaXNIdG1sNURhdGVJbnB1dCkge1xuICAgICAgICBpZiAoYXR0cnMudHlwZSA9PT0gJ21vbnRoJykge1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdkYXRlcGlja2VyLW1vZGUnLCAnXCJtb250aFwiJyk7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ21pbi1tb2RlJywgJ21vbnRoJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGF0dHJzLmRhdGVwaWNrZXJPcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyT3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaW5pdERhdGUpIHtcbiAgICAgICAgICBzY29wZS5pbml0RGF0ZSA9IG9wdGlvbnMuaW5pdERhdGU7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ2luaXQtZGF0ZScsICdpbml0RGF0ZScpO1xuICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmluaXREYXRlO1xuICAgICAgICB9XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbih2YWx1ZSwgb3B0aW9uKSB7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoIGNhbWVsdG9EYXNoKG9wdGlvbiksIHZhbHVlICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzY29wZS53YXRjaERhdGEgPSB7fTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChbJ21pbk1vZGUnLCAnbWF4TW9kZScsICdtaW5EYXRlJywgJ21heERhdGUnLCAnZGF0ZXBpY2tlck1vZGUnLCAnaW5pdERhdGUnLCAnc2hvcnRjdXRQcm9wYWdhdGlvbiddLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGF0dHJzW2tleV0pIHtcbiAgICAgICAgICB2YXIgZ2V0QXR0cmlidXRlID0gJHBhcnNlKGF0dHJzW2tleV0pO1xuICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKGdldEF0dHJpYnV0ZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHNjb3BlLndhdGNoRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbWluRGF0ZScgfHwga2V5ID09PSAnbWF4RGF0ZScpIHtcbiAgICAgICAgICAgICAgY2FjaGVba2V5XSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cihjYW1lbHRvRGFzaChrZXkpLCAnd2F0Y2hEYXRhLicgKyBrZXkpO1xuXG4gICAgICAgICAgLy8gUHJvcGFnYXRlIGNoYW5nZXMgZnJvbSBkYXRlcGlja2VyIHRvIG91dHNpZGVcbiAgICAgICAgICBpZiAoa2V5ID09PSAnZGF0ZXBpY2tlck1vZGUnKSB7XG4gICAgICAgICAgICB2YXIgc2V0QXR0cmlidXRlID0gZ2V0QXR0cmlidXRlLmFzc2lnbjtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgnd2F0Y2hEYXRhLicgKyBrZXksIGZ1bmN0aW9uKHZhbHVlLCBvbGR2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNldEF0dHJpYnV0ZSkgJiYgdmFsdWUgIT09IG9sZHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2V0QXR0cmlidXRlKHNjb3BlLiRwYXJlbnQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChhdHRycy5kYXRlRGlzYWJsZWQpIHtcbiAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ2RhdGUtZGlzYWJsZWQnLCAnZGF0ZURpc2FibGVkKHsgZGF0ZTogZGF0ZSwgbW9kZTogbW9kZSB9KScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMuc2hvd1dlZWtzKSB7XG4gICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdzaG93LXdlZWtzJywgYXR0cnMuc2hvd1dlZWtzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGF0dHJzLmN1c3RvbUNsYXNzKSB7XG4gICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdjdXN0b20tY2xhc3MnLCAnY3VzdG9tQ2xhc3MoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnNlRGF0ZSh2aWV3VmFsdWUpIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmlld1ZhbHVlKSkge1xuICAgICAgICAgIC8vIHByZXN1bWFibHkgdGltZXN0YW1wIHRvIGRhdGUgb2JqZWN0XG4gICAgICAgICAgdmlld1ZhbHVlID0gbmV3IERhdGUodmlld1ZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdmlld1ZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RhdGUodmlld1ZhbHVlKSAmJiAhaXNOYU4odmlld1ZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB2aWV3VmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyh2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgdmFyIGRhdGUgPSBkYXRlUGFyc2VyLnBhcnNlKHZpZXdWYWx1ZSwgZGF0ZUZvcm1hdCwgc2NvcGUuZGF0ZSk7XG4gICAgICAgICAgaWYgKGlzTmFOKGRhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuXG4gICAgICAgIGlmICghYXR0cnMubmdSZXF1aXJlZCAmJiAhdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzRGF0ZSh2YWx1ZSkgJiYgIWlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgdmFyIGRhdGUgPSBkYXRlUGFyc2VyLnBhcnNlKHZhbHVlLCBkYXRlRm9ybWF0KTtcbiAgICAgICAgICByZXR1cm4gIWlzTmFOKGRhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWlzSHRtbDVEYXRlSW5wdXQpIHtcbiAgICAgICAgLy8gSW50ZXJuYWwgQVBJIHRvIG1haW50YWluIHRoZSBjb3JyZWN0IG5nLWludmFsaWQtW2tleV0gY2xhc3NcbiAgICAgICAgbmdNb2RlbC4kJHBhcnNlck5hbWUgPSAnZGF0ZSc7XG4gICAgICAgIG5nTW9kZWwuJHZhbGlkYXRvcnMuZGF0ZSA9IHZhbGlkYXRvcjtcbiAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy51bnNoaWZ0KHBhcnNlRGF0ZSk7XG4gICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gbmdNb2RlbC4kaXNFbXB0eSh2YWx1ZSkgPyB2YWx1ZSA6IGRhdGVGaWx0ZXIodmFsdWUsIGRhdGVGb3JtYXQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBJbm5lciBjaGFuZ2VcbiAgICAgIHNjb3BlLmRhdGVTZWxlY3Rpb24gPSBmdW5jdGlvbihkdCkge1xuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZHQpKSB7XG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IGR0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRlID0gc2NvcGUuZGF0ZSA/IGRhdGVGaWx0ZXIoc2NvcGUuZGF0ZSwgZGF0ZUZvcm1hdCkgOiBudWxsOyAvLyBTZXR0aW5nIHRvIE5VTEwgaXMgbmVjZXNzYXJ5IGZvciBmb3JtIHZhbGlkYXRvcnMgdG8gZnVuY3Rpb25cbiAgICAgICAgZWxlbWVudC52YWwoZGF0ZSk7XG4gICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShkYXRlKTtcblxuICAgICAgICBpZiAoY2xvc2VPbkRhdGVTZWxlY3Rpb24pIHtcbiAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIERldGVjdCBjaGFuZ2VzIGluIHRoZSB2aWV3IGZyb20gdGhlIHRleHQgYm94XG4gICAgICBuZ01vZGVsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLmRhdGUgPSBkYXRlUGFyc2VyLnBhcnNlKG5nTW9kZWwuJHZpZXdWYWx1ZSwgZGF0ZUZvcm1hdCwgc2NvcGUuZGF0ZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGRvY3VtZW50Q2xpY2tCaW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKHNjb3BlLmlzT3BlbiAmJiAhKGVsZW1lbnRbMF0uY29udGFpbnMoZXZlbnQudGFyZ2V0KSB8fCBwb3B1cEVsWzBdLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBpbnB1dEtleWRvd25CaW5kID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDI3ICYmIHNjb3BlLmlzT3Blbikge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSA0MCAmJiAhc2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBlbGVtZW50LmJpbmQoJ2tleWRvd24nLCBpbnB1dEtleWRvd25CaW5kKTtcblxuICAgICAgc2NvcGUua2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LndoaWNoID09PSAyNykge1xuICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5wb3NpdGlvbiA9IGFwcGVuZFRvQm9keSA/ICRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCkgOiAkcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCk7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24udG9wID0gc2NvcGUucG9zaXRpb24udG9wICsgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcblxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKG9uT3BlbkZvY3VzKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ2RhdGVwaWNrZXIuZm9jdXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgICAgICB9LCAwLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIGlmIChkYXRlID09PSAndG9kYXknKSB7XG4gICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0RhdGUoc2NvcGUuZGF0ZSkpIHtcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShzY29wZS5kYXRlKTtcbiAgICAgICAgICAgIGRhdGUuc2V0RnVsbFllYXIodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSwgdG9kYXkuZ2V0RGF0ZSgpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHRvZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2NvcGUuZGF0ZVNlbGVjdGlvbihkYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgJHBvcHVwID0gJGNvbXBpbGUocG9wdXBFbCkoc2NvcGUpO1xuICAgICAgLy8gUHJldmVudCBqUXVlcnkgY2FjaGUgbWVtb3J5IGxlYWsgKHRlbXBsYXRlIGlzIG5vdyByZWR1bmRhbnQgYWZ0ZXIgbGlua2luZylcbiAgICAgIHBvcHVwRWwucmVtb3ZlKCk7XG5cbiAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQoJHBvcHVwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuYWZ0ZXIoJHBvcHVwKTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2NvcGUuaXNPcGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgIGVsZW1lbnQudW5iaW5kKCdrZXlkb3duJywgaW5wdXRLZXlkb3duQmluZCk7XG4gICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ2RhdGVwaWNrZXJQb3B1cFdyYXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDonRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sJztcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kcm9wZG93bicsIFsndWkuYm9vdHN0cmFwLnBvc2l0aW9uJ10pXG5cbi5jb25zdGFudCgnZHJvcGRvd25Db25maWcnLCB7XG4gIG9wZW5DbGFzczogJ29wZW4nXG59KVxuXG4uc2VydmljZSgnZHJvcGRvd25TZXJ2aWNlJywgWyckZG9jdW1lbnQnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRkb2N1bWVudCwgJHJvb3RTY29wZSkge1xuICB2YXIgb3BlblNjb3BlID0gbnVsbDtcblxuICB0aGlzLm9wZW4gPSBmdW5jdGlvbihkcm9wZG93blNjb3BlKSB7XG4gICAgaWYgKCFvcGVuU2NvcGUpIHtcbiAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGNsb3NlRHJvcGRvd24pO1xuICAgICAgJGRvY3VtZW50LmJpbmQoJ2tleWRvd24nLCBrZXliaW5kRmlsdGVyKTtcbiAgICB9XG5cbiAgICBpZiAob3BlblNjb3BlICYmIG9wZW5TY29wZSAhPT0gZHJvcGRvd25TY29wZSkge1xuICAgICAgb3BlblNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9wZW5TY29wZSA9IGRyb3Bkb3duU2NvcGU7XG4gIH07XG5cbiAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKGRyb3Bkb3duU2NvcGUpIHtcbiAgICBpZiAob3BlblNjb3BlID09PSBkcm9wZG93blNjb3BlKSB7XG4gICAgICBvcGVuU2NvcGUgPSBudWxsO1xuICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBjbG9zZURyb3Bkb3duKTtcbiAgICAgICRkb2N1bWVudC51bmJpbmQoJ2tleWRvd24nLCBrZXliaW5kRmlsdGVyKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNsb3NlRHJvcGRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICAvLyBUaGlzIG1ldGhvZCBtYXkgc3RpbGwgYmUgY2FsbGVkIGR1cmluZyB0aGUgc2FtZSBtb3VzZSBldmVudCB0aGF0XG4gICAgLy8gdW5ib3VuZCB0aGlzIGV2ZW50IGhhbmRsZXIuIFNvIGNoZWNrIG9wZW5TY29wZSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgICBpZiAoIW9wZW5TY29wZSkgeyByZXR1cm47IH1cblxuICAgIGlmIChldnQgJiYgb3BlblNjb3BlLmdldEF1dG9DbG9zZSgpID09PSAnZGlzYWJsZWQnKSAgeyByZXR1cm4gOyB9XG5cbiAgICB2YXIgdG9nZ2xlRWxlbWVudCA9IG9wZW5TY29wZS5nZXRUb2dnbGVFbGVtZW50KCk7XG4gICAgaWYgKGV2dCAmJiB0b2dnbGVFbGVtZW50ICYmIHRvZ2dsZUVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZHJvcGRvd25FbGVtZW50ID0gb3BlblNjb3BlLmdldERyb3Bkb3duRWxlbWVudCgpO1xuICAgIGlmIChldnQgJiYgb3BlblNjb3BlLmdldEF1dG9DbG9zZSgpID09PSAnb3V0c2lkZUNsaWNrJyAmJlxuICAgICAgZHJvcGRvd25FbGVtZW50ICYmIGRyb3Bkb3duRWxlbWVudFswXS5jb250YWlucyhldnQudGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9wZW5TY29wZS5pc09wZW4gPSBmYWxzZTtcblxuICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICBvcGVuU2NvcGUuJGFwcGx5KCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBrZXliaW5kRmlsdGVyID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgIG9wZW5TY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKTtcbiAgICAgIGNsb3NlRHJvcGRvd24oKTtcbiAgICB9IGVsc2UgaWYgKG9wZW5TY29wZS5pc0tleW5hdkVuYWJsZWQoKSAmJiAvKDM4fDQwKS8udGVzdChldnQud2hpY2gpICYmIG9wZW5TY29wZS5pc09wZW4pIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgb3BlblNjb3BlLmZvY3VzRHJvcGRvd25FbnRyeShldnQud2hpY2gpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29udHJvbGxlcignRHJvcGRvd25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICdkcm9wZG93bkNvbmZpZycsICdkcm9wZG93blNlcnZpY2UnLCAnJGFuaW1hdGUnLCAnJHBvc2l0aW9uJywgJyRkb2N1bWVudCcsICckY29tcGlsZScsICckdGVtcGxhdGVSZXF1ZXN0JywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgZHJvcGRvd25Db25maWcsIGRyb3Bkb3duU2VydmljZSwgJGFuaW1hdGUsICRwb3NpdGlvbiwgJGRvY3VtZW50LCAkY29tcGlsZSwgJHRlbXBsYXRlUmVxdWVzdCkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgc2NvcGUgPSAkc2NvcGUuJG5ldygpLCAvLyBjcmVhdGUgYSBjaGlsZCBzY29wZSBzbyB3ZSBhcmUgbm90IHBvbGx1dGluZyBvcmlnaW5hbCBvbmVcbiAgICB0ZW1wbGF0ZVNjb3BlLFxuICAgIG9wZW5DbGFzcyA9IGRyb3Bkb3duQ29uZmlnLm9wZW5DbGFzcyxcbiAgICBnZXRJc09wZW4sXG4gICAgc2V0SXNPcGVuID0gYW5ndWxhci5ub29wLFxuICAgIHRvZ2dsZUludm9rZXIgPSAkYXR0cnMub25Ub2dnbGUgPyAkcGFyc2UoJGF0dHJzLm9uVG9nZ2xlKSA6IGFuZ3VsYXIubm9vcCxcbiAgICBhcHBlbmRUb0JvZHkgPSBmYWxzZSxcbiAgICBrZXluYXZFbmFibGVkID0gZmFsc2UsXG4gICAgc2VsZWN0ZWRPcHRpb24gPSBudWxsLFxuICAgIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBzZWxmLiRlbGVtZW50ID0gZWxlbWVudDtcblxuICAgIGlmICgkYXR0cnMuaXNPcGVuKSB7XG4gICAgICBnZXRJc09wZW4gPSAkcGFyc2UoJGF0dHJzLmlzT3Blbik7XG4gICAgICBzZXRJc09wZW4gPSBnZXRJc09wZW4uYXNzaWduO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKGdldElzT3BlbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2NvcGUuaXNPcGVuID0gISF2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5kcm9wZG93bkFwcGVuZFRvQm9keSk7XG4gICAga2V5bmF2RW5hYmxlZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5rZXlib2FyZE5hdik7XG5cbiAgICBpZiAoYXBwZW5kVG9Cb2R5ICYmIHNlbGYuZHJvcGRvd25NZW51KSB7XG4gICAgICBib2R5LmFwcGVuZChzZWxmLmRyb3Bkb3duTWVudSk7XG4gICAgICBib2R5LmFkZENsYXNzKCdkcm9wZG93bicpO1xuICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbiBoYW5kbGVEZXN0cm95RXZlbnQoKSB7XG4gICAgICAgIHNlbGYuZHJvcGRvd25NZW51LnJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMudG9nZ2xlID0gZnVuY3Rpb24ob3Blbikge1xuICAgIHJldHVybiBzY29wZS5pc09wZW4gPSBhcmd1bWVudHMubGVuZ3RoID8gISFvcGVuIDogIXNjb3BlLmlzT3BlbjtcbiAgfTtcblxuICAvLyBBbGxvdyBvdGhlciBkaXJlY3RpdmVzIHRvIHdhdGNoIHN0YXR1c1xuICB0aGlzLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzY29wZS5pc09wZW47XG4gIH07XG5cbiAgc2NvcGUuZ2V0VG9nZ2xlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLnRvZ2dsZUVsZW1lbnQ7XG4gIH07XG5cbiAgc2NvcGUuZ2V0QXV0b0Nsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRhdHRycy5hdXRvQ2xvc2UgfHwgJ2Fsd2F5cyc7IC8vb3IgJ291dHNpZGVDbGljaycgb3IgJ2Rpc2FibGVkJ1xuICB9O1xuXG4gIHNjb3BlLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi4kZWxlbWVudDtcbiAgfTtcblxuICBzY29wZS5pc0tleW5hdkVuYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ga2V5bmF2RW5hYmxlZDtcbiAgfTtcblxuICBzY29wZS5mb2N1c0Ryb3Bkb3duRW50cnkgPSBmdW5jdGlvbihrZXlDb2RlKSB7XG4gICAgdmFyIGVsZW1zID0gc2VsZi5kcm9wZG93bk1lbnUgPyAvL0lmIGFwcGVuZCB0byBib2R5IGlzIHVzZWQuXG4gICAgICAoYW5ndWxhci5lbGVtZW50KHNlbGYuZHJvcGRvd25NZW51KS5maW5kKCdhJykpIDpcbiAgICAgIChhbmd1bGFyLmVsZW1lbnQoc2VsZi4kZWxlbWVudCkuZmluZCgndWwnKS5lcSgwKS5maW5kKCdhJykpO1xuXG4gICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICBjYXNlICg0MCk6IHtcbiAgICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKHNlbGYuc2VsZWN0ZWRPcHRpb24pKSB7XG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IChzZWxmLnNlbGVjdGVkT3B0aW9uID09PSBlbGVtcy5sZW5ndGggLTEgP1xuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA6XG4gICAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICgzOCk6IHtcbiAgICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKHNlbGYuc2VsZWN0ZWRPcHRpb24pKSB7XG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IGVsZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IHNlbGYuc2VsZWN0ZWRPcHRpb24gPT09IDAgP1xuICAgICAgICAgICAgMCA6IHNlbGYuc2VsZWN0ZWRPcHRpb24gLSAxO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBlbGVtc1tzZWxmLnNlbGVjdGVkT3B0aW9uXS5mb2N1cygpO1xuICB9O1xuXG4gIHNjb3BlLmdldERyb3Bkb3duRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLmRyb3Bkb3duTWVudTtcbiAgfTtcblxuICBzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi50b2dnbGVFbGVtZW50KSB7XG4gICAgICBzZWxmLnRvZ2dsZUVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbihpc09wZW4sIHdhc09wZW4pIHtcbiAgICBpZiAoYXBwZW5kVG9Cb2R5ICYmIHNlbGYuZHJvcGRvd25NZW51KSB7XG4gICAgICB2YXIgcG9zID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoc2VsZi4kZWxlbWVudCwgc2VsZi5kcm9wZG93bk1lbnUsICdib3R0b20tbGVmdCcsIHRydWUpO1xuICAgICAgdmFyIGNzcyA9IHtcbiAgICAgICAgdG9wOiBwb3MudG9wICsgJ3B4JyxcbiAgICAgICAgZGlzcGxheTogaXNPcGVuID8gJ2Jsb2NrJyA6ICdub25lJ1xuICAgICAgfTtcblxuICAgICAgdmFyIHJpZ2h0YWxpZ24gPSBzZWxmLmRyb3Bkb3duTWVudS5oYXNDbGFzcygnZHJvcGRvd24tbWVudS1yaWdodCcpO1xuICAgICAgaWYgKCFyaWdodGFsaWduKSB7XG4gICAgICAgIGNzcy5sZWZ0ID0gcG9zLmxlZnQgKyAncHgnO1xuICAgICAgICBjc3MucmlnaHQgPSAnYXV0byc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjc3MubGVmdCA9ICdhdXRvJztcbiAgICAgICAgY3NzLnJpZ2h0ID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gKHBvcy5sZWZ0ICsgc2VsZi4kZWxlbWVudC5wcm9wKCdvZmZzZXRXaWR0aCcpKSkgKyAncHgnO1xuICAgICAgfVxuXG4gICAgICBzZWxmLmRyb3Bkb3duTWVudS5jc3MoY3NzKTtcbiAgICB9XG5cbiAgICB2YXIgb3BlbkNvbnRhaW5lciA9IGFwcGVuZFRvQm9keSA/IGJvZHkgOiBzZWxmLiRlbGVtZW50O1xuXG4gICAgJGFuaW1hdGVbaXNPcGVuID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKG9wZW5Db250YWluZXIsIG9wZW5DbGFzcykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpc09wZW4pICYmIGlzT3BlbiAhPT0gd2FzT3Blbikge1xuICAgICAgICB0b2dnbGVJbnZva2VyKCRzY29wZSwgeyBvcGVuOiAhIWlzT3BlbiB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChpc09wZW4pIHtcbiAgICAgIGlmIChzZWxmLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsKSB7XG4gICAgICAgICR0ZW1wbGF0ZVJlcXVlc3Qoc2VsZi5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCkudGhlbihmdW5jdGlvbih0cGxDb250ZW50KSB7XG4gICAgICAgICAgdGVtcGxhdGVTY29wZSA9IHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAkY29tcGlsZSh0cGxDb250ZW50LnRyaW0oKSkodGVtcGxhdGVTY29wZSwgZnVuY3Rpb24oZHJvcGRvd25FbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgbmV3RWwgPSBkcm9wZG93bkVsZW1lbnQ7XG4gICAgICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZXBsYWNlV2l0aChuZXdFbCk7XG4gICAgICAgICAgICBzZWxmLmRyb3Bkb3duTWVudSA9IG5ld0VsO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCk7XG4gICAgICBkcm9wZG93blNlcnZpY2Uub3BlbihzY29wZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzZWxmLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsKSB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZVNjb3BlKSB7XG4gICAgICAgICAgdGVtcGxhdGVTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjwvdWw+Jyk7XG4gICAgICAgIHNlbGYuZHJvcGRvd25NZW51LnJlcGxhY2VXaXRoKG5ld0VsKTtcbiAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUgPSBuZXdFbDtcbiAgICAgIH1cblxuICAgICAgZHJvcGRvd25TZXJ2aWNlLmNsb3NlKHNjb3BlKTtcbiAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2V0SXNPcGVuKSkge1xuICAgICAgc2V0SXNPcGVuKCRzY29wZSwgaXNPcGVuKTtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2NvcGUuZ2V0QXV0b0Nsb3NlKCkgIT09ICdkaXNhYmxlZCcpIHtcbiAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIG9mZkRlc3Ryb3kgPSAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIHNjb3BlLiRkZXN0cm95KCk7XG4gIH0pO1xuICBzY29wZS4kb24oJyRkZXN0cm95Jywgb2ZmRGVzdHJveSk7XG59XSlcblxuLmRpcmVjdGl2ZSgnZHJvcGRvd24nLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250cm9sbGVyOiAnRHJvcGRvd25Db250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgZHJvcGRvd25DdHJsLmluaXQoIGVsZW1lbnQgKTtcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2Ryb3Bkb3duJyk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnZHJvcGRvd25NZW51JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBQycsXG4gICAgcmVxdWlyZTogJz9eZHJvcGRvd24nLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgdHBsVXJsID0gYXR0cnMudGVtcGxhdGVVcmw7XG4gICAgICBpZiAodHBsVXJsKSB7XG4gICAgICAgIGRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCA9IHRwbFVybDtcbiAgICAgIH1cbiAgICAgIGlmICghZHJvcGRvd25DdHJsLmRyb3Bkb3duTWVudSkge1xuICAgICAgICBkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51ID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdrZXlib2FyZE5hdicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9eZHJvcGRvd24nLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuXG4gICAgICBlbGVtZW50LmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChbMzgsIDQwXS5pbmRleE9mKGUud2hpY2gpICE9PSAtMSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgdmFyIGVsZW1zID0gZHJvcGRvd25DdHJsLmRyb3Bkb3duTWVudS5maW5kKCdhJyk7XG5cbiAgICAgICAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgICAgICAgIGNhc2UgKDQwKTogeyAvLyBEb3duXG4gICAgICAgICAgICAgIGlmICghYW5ndWxhci5pc051bWJlcihkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gPSBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gPT09IGVsZW1zLmxlbmd0aCAtMSA/XG4gICAgICAgICAgICAgICAgICBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gOiBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gKyAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAoMzgpOiB7IC8vIFVwXG4gICAgICAgICAgICAgIGlmICghYW5ndWxhci5pc051bWJlcihkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gZWxlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gPSBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gPT09IDAgP1xuICAgICAgICAgICAgICAgICAgMCA6IGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiAtIDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1zW2Ryb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbl0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnZHJvcGRvd25Ub2dnbGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnP15kcm9wZG93bicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcbiAgICAgIGlmICghZHJvcGRvd25DdHJsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnZHJvcGRvd24tdG9nZ2xlJyk7XG5cbiAgICAgIGRyb3Bkb3duQ3RybC50b2dnbGVFbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgdmFyIHRvZ2dsZURyb3Bkb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgJiYgIWF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZHJvcGRvd25DdHJsLnRvZ2dsZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgdG9nZ2xlRHJvcGRvd24pO1xuXG4gICAgICAvLyBXQUktQVJJQVxuICAgICAgZWxlbWVudC5hdHRyKHsgJ2FyaWEtaGFzcG9wdXAnOiB0cnVlLCAnYXJpYS1leHBhbmRlZCc6IGZhbHNlIH0pO1xuICAgICAgc2NvcGUuJHdhdGNoKGRyb3Bkb3duQ3RybC5pc09wZW4sIGZ1bmN0aW9uKCBpc09wZW4gKSB7XG4gICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsICEhaXNPcGVuKTtcbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudW5iaW5kKCdjbGljaycsIHRvZ2dsZURyb3Bkb3duKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLm1vZGFsJywgW10pXG5cbi8qKlxuICogQSBoZWxwZXIsIGludGVybmFsIGRhdGEgc3RydWN0dXJlIHRoYXQgYWN0cyBhcyBhIG1hcCBidXQgYWxzbyBhbGxvd3MgZ2V0dGluZyAvIHJlbW92aW5nXG4gKiBlbGVtZW50cyBpbiB0aGUgTElGTyBvcmRlclxuICovXG4gIC5mYWN0b3J5KCckJHN0YWNrZWRNYXAnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlTmV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YWNrID0gW107XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChrZXkgPT0gc3RhY2tbaV0ua2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrW2ldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBrZXlzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGtleXMucHVzaChzdGFja1tpXS5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGtleSA9PSBzdGFja1tpXS5rZXkpIHtcbiAgICAgICAgICAgICAgICBpZHggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhY2suc3BsaWNlKGlkeCwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmVUb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLnNwbGljZShzdGFjay5sZW5ndGggLSAxLCAxKVswXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxlbmd0aDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2subGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4vKipcbiAqIEEgaGVscGVyLCBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZSB0aGF0IHN0b3JlcyBhbGwgcmVmZXJlbmNlcyBhdHRhY2hlZCB0byBrZXlcbiAqL1xuICAuZmFjdG9yeSgnJCRtdWx0aU1hcCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVOZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbWFwID0ge307XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbnRyaWVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXApLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbWFwW2tleV1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBba2V5XTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhhc0tleTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gISFtYXBba2V5XTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGtleXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwdXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghbWFwW2tleV0pIHtcbiAgICAgICAgICAgICAgbWFwW2tleV0gPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFwW2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBtYXBba2V5XTtcblxuICAgICAgICAgICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaWR4ID0gdmFsdWVzLmluZGV4T2YodmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBkZWxldGUgbWFwW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbi8qKlxuICogQSBoZWxwZXIgZGlyZWN0aXZlIGZvciB0aGUgJG1vZGFsIHNlcnZpY2UuIEl0IGNyZWF0ZXMgYSBiYWNrZHJvcCBlbGVtZW50LlxuICovXG4gIC5kaXJlY3RpdmUoJ21vZGFsQmFja2Ryb3AnLCBbXG4gICAgICAgICAgICckYW5pbWF0ZScsICckaW5qZWN0b3InLCAnJG1vZGFsU3RhY2snLFxuICBmdW5jdGlvbigkYW5pbWF0ZSAsICAkaW5qZWN0b3IsICAgJG1vZGFsU3RhY2spIHtcbiAgICB2YXIgJGFuaW1hdGVDc3MgPSBudWxsO1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRhbmltYXRlQ3NzJykpIHtcbiAgICAgICRhbmltYXRlQ3NzID0gJGluamVjdG9yLmdldCgnJGFuaW1hdGVDc3MnKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sJyxcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3ModEF0dHJzLmJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICByZXR1cm4gbGlua0ZuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBpZiAoYXR0cnMubW9kYWxJbkNsYXNzKSB7XG4gICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgIGFkZENsYXNzOiBhdHRycy5tb2RhbEluQ2xhc3NcbiAgICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kb24oJG1vZGFsU3RhY2suTk9XX0NMT1NJTkdfRVZFTlQsIGZ1bmN0aW9uKGUsIHNldElzQXN5bmMpIHtcbiAgICAgICAgICB2YXIgZG9uZSA9IHNldElzQXN5bmMoKTtcbiAgICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGF0dHJzLm1vZGFsSW5DbGFzc1xuICAgICAgICAgICAgfSkuc3RhcnQoKS50aGVuKGRvbmUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBhdHRycy5tb2RhbEluQ2xhc3MpLnRoZW4oZG9uZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKVxuXG4gIC5kaXJlY3RpdmUoJ21vZGFsV2luZG93JywgW1xuICAgICAgICAgICAnJG1vZGFsU3RhY2snLCAnJHEnLCAnJGFuaW1hdGUnLCAnJGluamVjdG9yJyxcbiAgZnVuY3Rpb24oJG1vZGFsU3RhY2sgLCAgJHEgLCAgJGFuaW1hdGUsICAgJGluamVjdG9yKSB7XG4gICAgdmFyICRhbmltYXRlQ3NzID0gbnVsbDtcblxuICAgIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XG4gICAgICAkYW5pbWF0ZUNzcyA9ICRpbmplY3Rvci5nZXQoJyRhbmltYXRlQ3NzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgaW5kZXg6ICdAJ1xuICAgICAgfSxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgcmV0dXJuIHRBdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwnO1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKGF0dHJzLndpbmRvd0NsYXNzIHx8ICcnKTtcbiAgICAgICAgc2NvcGUuc2l6ZSA9IGF0dHJzLnNpemU7XG5cbiAgICAgICAgc2NvcGUuY2xvc2UgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICB2YXIgbW9kYWwgPSAkbW9kYWxTdGFjay5nZXRUb3AoKTtcbiAgICAgICAgICBpZiAobW9kYWwgJiYgbW9kYWwudmFsdWUuYmFja2Ryb3AgJiYgbW9kYWwudmFsdWUuYmFja2Ryb3AgIT09ICdzdGF0aWMnICYmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkpIHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbC5rZXksICdiYWNrZHJvcCBjbGljaycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IGlzIG9ubHkgYWRkZWQgdG8gdGhlIHNjb3BlIGZvciB0aGUgcHVycG9zZSBvZiBkZXRlY3Rpbmcgd2hlbiB0aGlzIGRpcmVjdGl2ZSBpcyByZW5kZXJlZC5cbiAgICAgICAgLy8gV2UgY2FuIGRldGVjdCB0aGF0IGJ5IHVzaW5nIHRoaXMgcHJvcGVydHkgaW4gdGhlIHRlbXBsYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRpcmVjdGl2ZSBhbmQgdGhlbiB1c2VcbiAgICAgICAgLy8ge0BsaW5rIEF0dHJpYnV0ZSMkb2JzZXJ2ZX0gb24gaXQuIEZvciBtb3JlIGRldGFpbHMgcGxlYXNlIHNlZSB7QGxpbmsgVGFibGVDb2x1bW5SZXNpemV9LlxuICAgICAgICBzY29wZS4kaXNSZW5kZXJlZCA9IHRydWU7XG5cbiAgICAgICAgLy8gRGVmZXJyZWQgb2JqZWN0IHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoaXMgbW9kYWwgaXMgcmVuZGVyLlxuICAgICAgICB2YXIgbW9kYWxSZW5kZXJEZWZlck9iaiA9ICRxLmRlZmVyKCk7XG4gICAgICAgIC8vIE9ic2VydmUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgb24gbmV4dCBkaWdlc3QgY3ljbGUgYWZ0ZXIgY29tcGlsYXRpb24sIGVuc3VyaW5nIHRoYXQgdGhlIERPTSBpcyByZWFkeS5cbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gdXNlIHRoaXMgd2F5IG9mIGZpbmRpbmcgd2hldGhlciBET00gaXMgcmVhZHksIHdlIG5lZWQgdG8gb2JzZXJ2ZSBhIHNjb3BlIHByb3BlcnR5IHVzZWQgaW4gbW9kYWwncyB0ZW1wbGF0ZS5cbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ21vZGFsUmVuZGVyJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICBtb2RhbFJlbmRlckRlZmVyT2JqLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1vZGFsUmVuZGVyRGVmZXJPYmoucHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhbmltYXRpb25Qcm9taXNlID0gbnVsbDtcblxuICAgICAgICAgIGlmIChhdHRycy5tb2RhbEluQ2xhc3MpIHtcbiAgICAgICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICAgICBhbmltYXRpb25Qcm9taXNlID0gJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzOiBhdHRycy5tb2RhbEluQ2xhc3NcbiAgICAgICAgICAgICAgfSkuc3RhcnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvblByb21pc2UgPSAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBhdHRycy5tb2RhbEluQ2xhc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY29wZS4kb24oJG1vZGFsU3RhY2suTk9XX0NMT1NJTkdfRVZFTlQsIGZ1bmN0aW9uKGUsIHNldElzQXN5bmMpIHtcbiAgICAgICAgICAgICAgdmFyIGRvbmUgPSBzZXRJc0FzeW5jKCk7XG4gICAgICAgICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBhdHRycy5tb2RhbEluQ2xhc3NcbiAgICAgICAgICAgICAgICB9KS5zdGFydCgpLnRoZW4oZG9uZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgYXR0cnMubW9kYWxJbkNsYXNzKS50aGVuKGRvbmUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cblxuICAgICAgICAgICRxLndoZW4oYW5pbWF0aW9uUHJvbWlzZSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dHNXaXRoQXV0b2ZvY3VzID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdbYXV0b2ZvY3VzXScpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBdXRvLWZvY3VzaW5nIG9mIGEgZnJlc2hseS1vcGVuZWQgbW9kYWwgZWxlbWVudCBjYXVzZXMgYW55IGNoaWxkIGVsZW1lbnRzXG4gICAgICAgICAgICAgKiB3aXRoIHRoZSBhdXRvZm9jdXMgYXR0cmlidXRlIHRvIGxvc2UgZm9jdXMuIFRoaXMgaXMgYW4gaXNzdWUgb24gdG91Y2hcbiAgICAgICAgICAgICAqIGJhc2VkIGRldmljZXMgd2hpY2ggd2lsbCBzaG93IGFuZCB0aGVuIGhpZGUgdGhlIG9uc2NyZWVuIGtleWJvYXJkLlxuICAgICAgICAgICAgICogQXR0ZW1wdHMgdG8gcmVmb2N1cyB0aGUgYXV0b2ZvY3VzIGVsZW1lbnQgdmlhIEphdmFTY3JpcHQgd2lsbCBub3QgcmVvcGVuXG4gICAgICAgICAgICAgKiB0aGUgb25zY3JlZW4ga2V5Ym9hcmQuIEZpeGVkIGJ5IHVwZGF0ZWQgdGhlIGZvY3VzaW5nIGxvZ2ljIHRvIG9ubHkgYXV0b2ZvY3VzXG4gICAgICAgICAgICAgKiB0aGUgbW9kYWwgZWxlbWVudCBpZiB0aGUgbW9kYWwgZG9lcyBub3QgY29udGFpbiBhbiBhdXRvZm9jdXMgZWxlbWVudC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGlucHV0c1dpdGhBdXRvZm9jdXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGlucHV0c1dpdGhBdXRvZm9jdXNbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIE5vdGlmeSB7QGxpbmsgJG1vZGFsU3RhY2t9IHRoYXQgbW9kYWwgaXMgcmVuZGVyZWQuXG4gICAgICAgICAgdmFyIG1vZGFsID0gJG1vZGFsU3RhY2suZ2V0VG9wKCk7XG4gICAgICAgICAgaWYgKG1vZGFsKSB7XG4gICAgICAgICAgICAkbW9kYWxTdGFjay5tb2RhbFJlbmRlcmVkKG1vZGFsLmtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XSlcblxuICAuZGlyZWN0aXZlKCdtb2RhbEFuaW1hdGlvbkNsYXNzJywgW1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgICBpZiAodEF0dHJzLm1vZGFsQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0RWxlbWVudC5hZGRDbGFzcyh0QXR0cnMubW9kYWxBbmltYXRpb25DbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKVxuXG4gIC5kaXJlY3RpdmUoJ21vZGFsVHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIGNvbnRyb2xsZXIsICR0cmFuc2NsdWRlKSB7XG4gICAgICAgICR0cmFuc2NsdWRlKCRzY29wZS4kcGFyZW50LCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICAgICRlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuICAuZmFjdG9yeSgnJG1vZGFsU3RhY2snLCBbXG4gICAgICAgICAgICAgJyRhbmltYXRlJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckY29tcGlsZScsICckcm9vdFNjb3BlJyxcbiAgICAgICAgICAgICAnJHEnLFxuICAgICAgICAgICAgICckaW5qZWN0b3InLFxuICAgICAgICAgICAgICckJG11bHRpTWFwJyxcbiAgICAgICAgICAgICAnJCRzdGFja2VkTWFwJyxcbiAgICBmdW5jdGlvbigkYW5pbWF0ZSAsICAkdGltZW91dCAsICAkZG9jdW1lbnQgLCAgJGNvbXBpbGUgLCAgJHJvb3RTY29wZSAsXG4gICAgICAgICAgICAgICRxLFxuICAgICAgICAgICAgICAkaW5qZWN0b3IsXG4gICAgICAgICAgICAgICQkbXVsdGlNYXAsXG4gICAgICAgICAgICAgICQkc3RhY2tlZE1hcCkge1xuICAgICAgdmFyICRhbmltYXRlQ3NzID0gbnVsbDtcblxuICAgICAgaWYgKCRpbmplY3Rvci5oYXMoJyRhbmltYXRlQ3NzJykpIHtcbiAgICAgICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xuICAgICAgfVxuXG4gICAgICB2YXIgT1BFTkVEX01PREFMX0NMQVNTID0gJ21vZGFsLW9wZW4nO1xuXG4gICAgICB2YXIgYmFja2Ryb3BEb21FbCwgYmFja2Ryb3BTY29wZTtcbiAgICAgIHZhciBvcGVuZWRXaW5kb3dzID0gJCRzdGFja2VkTWFwLmNyZWF0ZU5ldygpO1xuICAgICAgdmFyIG9wZW5lZENsYXNzZXMgPSAkJG11bHRpTWFwLmNyZWF0ZU5ldygpO1xuICAgICAgdmFyICRtb2RhbFN0YWNrID0ge1xuICAgICAgICBOT1dfQ0xPU0lOR19FVkVOVDogJ21vZGFsLnN0YWNrLm5vdy1jbG9zaW5nJ1xuICAgICAgfTtcblxuICAgICAgLy9Nb2RhbCBmb2N1cyBiZWhhdmlvclxuICAgICAgdmFyIGZvY3VzYWJsZUVsZW1lbnRMaXN0O1xuICAgICAgdmFyIGZvY3VzSW5kZXggPSAwO1xuICAgICAgdmFyIHRhYmFiYmxlU2VsZWN0b3IgPSAnYVtocmVmXSwgYXJlYVtocmVmXSwgaW5wdXQ6bm90KFtkaXNhYmxlZF0pLCAnICtcbiAgICAgICAgJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSksc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCAnICtcbiAgICAgICAgJ2lmcmFtZSwgb2JqZWN0LCBlbWJlZCwgKlt0YWJpbmRleF0sICpbY29udGVudGVkaXRhYmxlPXRydWVdJztcblxuICAgICAgZnVuY3Rpb24gYmFja2Ryb3BJbmRleCgpIHtcbiAgICAgICAgdmFyIHRvcEJhY2tkcm9wSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG9wZW5lZCA9IG9wZW5lZFdpbmRvd3Mua2V5cygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wZW5lZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChvcGVuZWRXaW5kb3dzLmdldChvcGVuZWRbaV0pLnZhbHVlLmJhY2tkcm9wKSB7XG4gICAgICAgICAgICB0b3BCYWNrZHJvcEluZGV4ID0gaTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvcEJhY2tkcm9wSW5kZXg7XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJHdhdGNoKGJhY2tkcm9wSW5kZXgsIGZ1bmN0aW9uKG5ld0JhY2tkcm9wSW5kZXgpIHtcbiAgICAgICAgaWYgKGJhY2tkcm9wU2NvcGUpIHtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlLmluZGV4ID0gbmV3QmFja2Ryb3BJbmRleDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UsIGVsZW1lbnRUb1JlY2VpdmVGb2N1cykge1xuICAgICAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5JykuZXEoMCk7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpLnZhbHVlO1xuXG4gICAgICAgIC8vY2xlYW4gdXAgdGhlIHN0YWNrXG4gICAgICAgIG9wZW5lZFdpbmRvd3MucmVtb3ZlKG1vZGFsSW5zdGFuY2UpO1xuXG4gICAgICAgIHJlbW92ZUFmdGVyQW5pbWF0ZShtb2RhbFdpbmRvdy5tb2RhbERvbUVsLCBtb2RhbFdpbmRvdy5tb2RhbFNjb3BlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgbW9kYWxCb2R5Q2xhc3MgPSBtb2RhbFdpbmRvdy5vcGVuZWRDbGFzcyB8fCBPUEVORURfTU9EQUxfQ0xBU1M7XG4gICAgICAgICAgb3BlbmVkQ2xhc3Nlcy5yZW1vdmUobW9kYWxCb2R5Q2xhc3MsIG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICAgIGJvZHkudG9nZ2xlQ2xhc3MobW9kYWxCb2R5Q2xhc3MsIG9wZW5lZENsYXNzZXMuaGFzS2V5KG1vZGFsQm9keUNsYXNzKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjaGVja1JlbW92ZUJhY2tkcm9wKCk7XG5cbiAgICAgICAgLy9tb3ZlIGZvY3VzIHRvIHNwZWNpZmllZCBlbGVtZW50IGlmIGF2YWlsYWJsZSwgb3IgZWxzZSB0byBib2R5XG4gICAgICAgIGlmIChlbGVtZW50VG9SZWNlaXZlRm9jdXMgJiYgZWxlbWVudFRvUmVjZWl2ZUZvY3VzLmZvY3VzKSB7XG4gICAgICAgICAgZWxlbWVudFRvUmVjZWl2ZUZvY3VzLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYm9keS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNoZWNrUmVtb3ZlQmFja2Ryb3AoKSB7XG4gICAgICAgICAgLy9yZW1vdmUgYmFja2Ryb3AgaWYgbm8gbG9uZ2VyIG5lZWRlZFxuICAgICAgICAgIGlmIChiYWNrZHJvcERvbUVsICYmIGJhY2tkcm9wSW5kZXgoKSA9PSAtMSkge1xuICAgICAgICAgICAgdmFyIGJhY2tkcm9wU2NvcGVSZWYgPSBiYWNrZHJvcFNjb3BlO1xuICAgICAgICAgICAgcmVtb3ZlQWZ0ZXJBbmltYXRlKGJhY2tkcm9wRG9tRWwsIGJhY2tkcm9wU2NvcGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBiYWNrZHJvcFNjb3BlUmVmID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmFja2Ryb3BEb21FbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGJhY2tkcm9wU2NvcGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1vdmVBZnRlckFuaW1hdGUoZG9tRWwsIHNjb3BlLCBkb25lKSB7XG4gICAgICAgIHZhciBhc3luY0RlZmVycmVkO1xuICAgICAgICB2YXIgYXN5bmNQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdmFyIHNldElzQXN5bmMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIWFzeW5jRGVmZXJyZWQpIHtcbiAgICAgICAgICAgIGFzeW5jRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgYXN5bmNQcm9taXNlID0gYXN5bmNEZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBhc3luY0RvbmUoKSB7XG4gICAgICAgICAgICBhc3luY0RlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCRtb2RhbFN0YWNrLk5PV19DTE9TSU5HX0VWRU5ULCBzZXRJc0FzeW5jKTtcblxuICAgICAgICAvLyBOb3RlIHRoYXQgaXQncyBpbnRlbnRpb25hbCB0aGF0IGFzeW5jUHJvbWlzZSBtaWdodCBiZSBudWxsLlxuICAgICAgICAvLyBUaGF0J3Mgd2hlbiBzZXRJc0FzeW5jIGhhcyBub3QgYmVlbiBjYWxsZWQgZHVyaW5nIHRoZVxuICAgICAgICAvLyBOT1dfQ0xPU0lOR19FVkVOVCBicm9hZGNhc3QuXG4gICAgICAgIHJldHVybiAkcS53aGVuKGFzeW5jUHJvbWlzZSkudGhlbihhZnRlckFuaW1hdGluZyk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWZ0ZXJBbmltYXRpbmcoKSB7XG4gICAgICAgICAgaWYgKGFmdGVyQW5pbWF0aW5nLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWZ0ZXJBbmltYXRpbmcuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAgICRhbmltYXRlQ3NzKGRvbUVsLCB7XG4gICAgICAgICAgICAgIGV2ZW50OiAnbGVhdmUnXG4gICAgICAgICAgICB9KS5zdGFydCgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGRvbUVsLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGRvbUVsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuIGV2dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtb2RhbCA9IG9wZW5lZFdpbmRvd3MudG9wKCk7XG4gICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5rZXlib2FyZCkge1xuICAgICAgICAgIHN3aXRjaCAoZXZ0LndoaWNoKXtcbiAgICAgICAgICAgIGNhc2UgMjc6IHtcbiAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnZXNjYXBlIGtleSBwcmVzcycpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDk6IHtcbiAgICAgICAgICAgICAgJG1vZGFsU3RhY2subG9hZEZvY3VzRWxlbWVudExpc3QobW9kYWwpO1xuICAgICAgICAgICAgICB2YXIgZm9jdXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGlmIChldnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoJG1vZGFsU3RhY2suaXNGb2N1c0luRmlyc3RJdGVtKGV2dCkpIHtcbiAgICAgICAgICAgICAgICAgIGZvY3VzQ2hhbmdlZCA9ICRtb2RhbFN0YWNrLmZvY3VzTGFzdEZvY3VzYWJsZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCRtb2RhbFN0YWNrLmlzRm9jdXNJbkxhc3RJdGVtKGV2dCkpIHtcbiAgICAgICAgICAgICAgICAgIGZvY3VzQ2hhbmdlZCA9ICRtb2RhbFN0YWNrLmZvY3VzRmlyc3RGb2N1c2FibGVFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGZvY3VzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkbW9kYWxTdGFjay5vcGVuID0gZnVuY3Rpb24obW9kYWxJbnN0YW5jZSwgbW9kYWwpIHtcbiAgICAgICAgdmFyIG1vZGFsT3BlbmVyID0gJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQsXG4gICAgICAgICAgbW9kYWxCb2R5Q2xhc3MgPSBtb2RhbC5vcGVuZWRDbGFzcyB8fCBPUEVORURfTU9EQUxfQ0xBU1M7XG5cbiAgICAgICAgb3BlbmVkV2luZG93cy5hZGQobW9kYWxJbnN0YW5jZSwge1xuICAgICAgICAgIGRlZmVycmVkOiBtb2RhbC5kZWZlcnJlZCxcbiAgICAgICAgICByZW5kZXJEZWZlcnJlZDogbW9kYWwucmVuZGVyRGVmZXJyZWQsXG4gICAgICAgICAgbW9kYWxTY29wZTogbW9kYWwuc2NvcGUsXG4gICAgICAgICAgYmFja2Ryb3A6IG1vZGFsLmJhY2tkcm9wLFxuICAgICAgICAgIGtleWJvYXJkOiBtb2RhbC5rZXlib2FyZCxcbiAgICAgICAgICBvcGVuZWRDbGFzczogbW9kYWwub3BlbmVkQ2xhc3NcbiAgICAgICAgfSk7XG5cbiAgICAgICAgb3BlbmVkQ2xhc3Nlcy5wdXQobW9kYWxCb2R5Q2xhc3MsIG1vZGFsSW5zdGFuY2UpO1xuXG4gICAgICAgIHZhciBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5lcSgwKSxcbiAgICAgICAgICAgIGN1cnJCYWNrZHJvcEluZGV4ID0gYmFja2Ryb3BJbmRleCgpO1xuXG4gICAgICAgIGlmIChjdXJyQmFja2Ryb3BJbmRleCA+PSAwICYmICFiYWNrZHJvcERvbUVsKSB7XG4gICAgICAgICAgYmFja2Ryb3BTY29wZSA9ICRyb290U2NvcGUuJG5ldyh0cnVlKTtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlLmluZGV4ID0gY3VyckJhY2tkcm9wSW5kZXg7XG4gICAgICAgICAgdmFyIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgbW9kYWwtYmFja2Ryb3A9XCJtb2RhbC1iYWNrZHJvcFwiPjwvZGl2PicpO1xuICAgICAgICAgIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwuYXR0cignYmFja2Ryb3AtY2xhc3MnLCBtb2RhbC5iYWNrZHJvcENsYXNzKTtcbiAgICAgICAgICBpZiAobW9kYWwuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBhbmd1bGFyQmFja2dyb3VuZERvbUVsLmF0dHIoJ21vZGFsLWFuaW1hdGlvbicsICd0cnVlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJhY2tkcm9wRG9tRWwgPSAkY29tcGlsZShhbmd1bGFyQmFja2dyb3VuZERvbUVsKShiYWNrZHJvcFNjb3BlKTtcbiAgICAgICAgICBib2R5LmFwcGVuZChiYWNrZHJvcERvbUVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhbmd1bGFyRG9tRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgbW9kYWwtd2luZG93PVwibW9kYWwtd2luZG93XCI+PC9kaXY+Jyk7XG4gICAgICAgIGFuZ3VsYXJEb21FbC5hdHRyKHtcbiAgICAgICAgICAndGVtcGxhdGUtdXJsJzogbW9kYWwud2luZG93VGVtcGxhdGVVcmwsXG4gICAgICAgICAgJ3dpbmRvdy1jbGFzcyc6IG1vZGFsLndpbmRvd0NsYXNzLFxuICAgICAgICAgICdzaXplJzogbW9kYWwuc2l6ZSxcbiAgICAgICAgICAnaW5kZXgnOiBvcGVuZWRXaW5kb3dzLmxlbmd0aCgpIC0gMSxcbiAgICAgICAgICAnYW5pbWF0ZSc6ICdhbmltYXRlJ1xuICAgICAgICB9KS5odG1sKG1vZGFsLmNvbnRlbnQpO1xuICAgICAgICBpZiAobW9kYWwuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgYW5ndWxhckRvbUVsLmF0dHIoJ21vZGFsLWFuaW1hdGlvbicsICd0cnVlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbW9kYWxEb21FbCA9ICRjb21waWxlKGFuZ3VsYXJEb21FbCkobW9kYWwuc2NvcGUpO1xuICAgICAgICBvcGVuZWRXaW5kb3dzLnRvcCgpLnZhbHVlLm1vZGFsRG9tRWwgPSBtb2RhbERvbUVsO1xuICAgICAgICBvcGVuZWRXaW5kb3dzLnRvcCgpLnZhbHVlLm1vZGFsT3BlbmVyID0gbW9kYWxPcGVuZXI7XG4gICAgICAgIGJvZHkuYXBwZW5kKG1vZGFsRG9tRWwpO1xuICAgICAgICBib2R5LmFkZENsYXNzKG1vZGFsQm9keUNsYXNzKTtcblxuICAgICAgICAkbW9kYWxTdGFjay5jbGVhckZvY3VzTGlzdENhY2hlKCk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBicm9hZGNhc3RDbG9zaW5nKG1vZGFsV2luZG93LCByZXN1bHRPclJlYXNvbiwgY2xvc2luZykge1xuICAgICAgICAgIHJldHVybiAhbW9kYWxXaW5kb3cudmFsdWUubW9kYWxTY29wZS4kYnJvYWRjYXN0KCdtb2RhbC5jbG9zaW5nJywgcmVzdWx0T3JSZWFzb24sIGNsb3NpbmcpLmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICB9XG5cbiAgICAgICRtb2RhbFN0YWNrLmNsb3NlID0gZnVuY3Rpb24obW9kYWxJbnN0YW5jZSwgcmVzdWx0KSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cgJiYgYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVzdWx0LCB0cnVlKSkge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsU2NvcGUuJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UsIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsT3BlbmVyKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIW1vZGFsV2luZG93O1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suZGlzbWlzcyA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsIHJlYXNvbikge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgaWYgKG1vZGFsV2luZG93ICYmIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlYXNvbiwgZmFsc2UpKSB7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUubW9kYWxTY29wZS4kJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbE9wZW5lcik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdztcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3NBbGwgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgdmFyIHRvcE1vZGFsID0gdGhpcy5nZXRUb3AoKTtcbiAgICAgICAgd2hpbGUgKHRvcE1vZGFsICYmIHRoaXMuZGlzbWlzcyh0b3BNb2RhbC5rZXksIHJlYXNvbikpIHtcbiAgICAgICAgICB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmdldFRvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gb3BlbmVkV2luZG93cy50b3AoKTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLm1vZGFsUmVuZGVyZWQgPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlKSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5yZW5kZXJEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmZvY3VzRmlyc3RGb2N1c2FibGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3RbMF0uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuICAgICAgJG1vZGFsU3RhY2suZm9jdXNMYXN0Rm9jdXNhYmxlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvY3VzYWJsZUVsZW1lbnRMaXN0W2ZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCAtIDFdLmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suaXNGb2N1c0luRmlyc3RJdGVtID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIChldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50KSA9PSBmb2N1c2FibGVFbGVtZW50TGlzdFswXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5pc0ZvY3VzSW5MYXN0SXRlbSA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiAoZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudCkgPT0gZm9jdXNhYmxlRWxlbWVudExpc3RbZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suY2xlYXJGb2N1c0xpc3RDYWNoZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb2N1c2FibGVFbGVtZW50TGlzdCA9IFtdO1xuICAgICAgICBmb2N1c0luZGV4ID0gMDtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmxvYWRGb2N1c0VsZW1lbnRMaXN0ID0gZnVuY3Rpb24obW9kYWxXaW5kb3cpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0ID09PSB1bmRlZmluZWQgfHwgIWZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aDApIHtcbiAgICAgICAgICBpZiAobW9kYWxXaW5kb3cpIHtcbiAgICAgICAgICAgIHZhciBtb2RhbERvbUUxID0gbW9kYWxXaW5kb3cudmFsdWUubW9kYWxEb21FbDtcbiAgICAgICAgICAgIGlmIChtb2RhbERvbUUxICYmIG1vZGFsRG9tRTEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGZvY3VzYWJsZUVsZW1lbnRMaXN0ID0gbW9kYWxEb21FMVswXS5xdWVyeVNlbGVjdG9yQWxsKHRhYmFiYmxlU2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuICRtb2RhbFN0YWNrO1xuICAgIH1dKVxuXG4gIC5wcm92aWRlcignJG1vZGFsJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyICRtb2RhbFByb3ZpZGVyID0ge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICAgIGJhY2tkcm9wOiB0cnVlLCAvL2NhbiBhbHNvIGJlIGZhbHNlIG9yICdzdGF0aWMnXG4gICAgICAgIGtleWJvYXJkOiB0cnVlXG4gICAgICB9LFxuICAgICAgJGdldDogWyckaW5qZWN0b3InLCAnJHJvb3RTY29wZScsICckcScsICckdGVtcGxhdGVSZXF1ZXN0JywgJyRjb250cm9sbGVyJywgJyRtb2RhbFN0YWNrJyxcbiAgICAgICAgZnVuY3Rpb24gKCRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEsICR0ZW1wbGF0ZVJlcXVlc3QsICRjb250cm9sbGVyLCAkbW9kYWxTdGFjaykge1xuICAgICAgICAgIHZhciAkbW9kYWwgPSB7fTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlUHJvbWlzZShvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy50ZW1wbGF0ZSA/ICRxLndoZW4ob3B0aW9ucy50ZW1wbGF0ZSkgOlxuICAgICAgICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KGFuZ3VsYXIuaXNGdW5jdGlvbihvcHRpb25zLnRlbXBsYXRlVXJsKSA/IChvcHRpb25zLnRlbXBsYXRlVXJsKSgpIDogb3B0aW9ucy50ZW1wbGF0ZVVybCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0UmVzb2x2ZVByb21pc2VzKHJlc29sdmVzKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZXNBcnIgPSBbXTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXNvbHZlcywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih2YWx1ZSkgfHwgYW5ndWxhci5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHByb21pc2VzQXJyLnB1c2goJHEud2hlbigkaW5qZWN0b3IuaW52b2tlKHZhbHVlKSkpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXNBcnIucHVzaCgkcS53aGVuKCRpbmplY3Rvci5nZXQodmFsdWUpKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXNBcnIucHVzaCgkcS53aGVuKHZhbHVlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VzQXJyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBwcm9taXNlQ2hhaW4gPSBudWxsO1xuICAgICAgICAgICRtb2RhbC5nZXRQcm9taXNlQ2hhaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlQ2hhaW47XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRtb2RhbC5vcGVuID0gZnVuY3Rpb24gKG1vZGFsT3B0aW9ucykge1xuXG4gICAgICAgICAgICB2YXIgbW9kYWxSZXN1bHREZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB2YXIgbW9kYWxPcGVuZWREZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB2YXIgbW9kYWxSZW5kZXJEZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIC8vcHJlcGFyZSBhbiBpbnN0YW5jZSBvZiBhIG1vZGFsIHRvIGJlIGluamVjdGVkIGludG8gY29udHJvbGxlcnMgYW5kIHJldHVybmVkIHRvIGEgY2FsbGVyXG4gICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9IHtcbiAgICAgICAgICAgICAgcmVzdWx0OiBtb2RhbFJlc3VsdERlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIG9wZW5lZDogbW9kYWxPcGVuZWREZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgICAgICByZW5kZXJlZDogbW9kYWxSZW5kZXJEZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkbW9kYWxTdGFjay5jbG9zZShtb2RhbEluc3RhbmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkaXNtaXNzOiBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWxJbnN0YW5jZSwgcmVhc29uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy9tZXJnZSBhbmQgY2xlYW4gdXAgb3B0aW9uc1xuICAgICAgICAgICAgbW9kYWxPcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sICRtb2RhbFByb3ZpZGVyLm9wdGlvbnMsIG1vZGFsT3B0aW9ucyk7XG4gICAgICAgICAgICBtb2RhbE9wdGlvbnMucmVzb2x2ZSA9IG1vZGFsT3B0aW9ucy5yZXNvbHZlIHx8IHt9O1xuXG4gICAgICAgICAgICAvL3ZlcmlmeSBvcHRpb25zXG4gICAgICAgICAgICBpZiAoIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZSAmJiAhbW9kYWxPcHRpb25zLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25lIG9mIHRlbXBsYXRlIG9yIHRlbXBsYXRlVXJsIG9wdGlvbnMgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlID1cbiAgICAgICAgICAgICAgJHEuYWxsKFtnZXRUZW1wbGF0ZVByb21pc2UobW9kYWxPcHRpb25zKV0uY29uY2F0KGdldFJlc29sdmVQcm9taXNlcyhtb2RhbE9wdGlvbnMucmVzb2x2ZSkpKTtcblxuICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHJlc29sdXRpb24gb2YgdGhlIGV4aXN0aW5nIHByb21pc2UgY2hhaW4uXG4gICAgICAgICAgICAvLyBUaGVuIHN3aXRjaCB0byBvdXIgb3duIGNvbWJpbmVkIHByb21pc2UgZGVwZW5kZW5jeSAocmVnYXJkbGVzcyBvZiBob3cgdGhlIHByZXZpb3VzIG1vZGFsIGZhcmVkKS5cbiAgICAgICAgICAgIC8vIFRoZW4gYWRkIHRvICRtb2RhbFN0YWNrIGFuZCByZXNvbHZlIG9wZW5lZC5cbiAgICAgICAgICAgIC8vIEZpbmFsbHkgY2xlYW4gdXAgdGhlIGNoYWluIHZhcmlhYmxlIGlmIG5vIHN1YnNlcXVlbnQgbW9kYWwgaGFzIG92ZXJ3cml0dGVuIGl0LlxuICAgICAgICAgICAgdmFyIHNhbWVQcm9taXNlO1xuICAgICAgICAgICAgc2FtZVByb21pc2UgPSBwcm9taXNlQ2hhaW4gPSAkcS5hbGwoW3Byb21pc2VDaGFpbl0pXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZTsgfSwgZnVuY3Rpb24oKSB7IHJldHVybiB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlOyB9KVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiByZXNvbHZlU3VjY2Vzcyh0cGxBbmRWYXJzKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbW9kYWxTY29wZSA9IChtb2RhbE9wdGlvbnMuc2NvcGUgfHwgJHJvb3RTY29wZSkuJG5ldygpO1xuICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJGNsb3NlID0gbW9kYWxJbnN0YW5jZS5jbG9zZTtcbiAgICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRkaXNtaXNzID0gbW9kYWxJbnN0YW5jZS5kaXNtaXNzO1xuXG4gICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIW1vZGFsU2NvcGUuJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRkaXNtaXNzKCckdWliVW5zY2hlZHVsZWREZXN0cnVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGN0cmxJbnN0YW5jZSwgY3RybExvY2FscyA9IHt9O1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHZlSXRlciA9IDE7XG5cbiAgICAgICAgICAgICAgICAvL2NvbnRyb2xsZXJzXG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsT3B0aW9ucy5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICBjdHJsTG9jYWxzLiRzY29wZSA9IG1vZGFsU2NvcGU7XG4gICAgICAgICAgICAgICAgICBjdHJsTG9jYWxzLiRtb2RhbEluc3RhbmNlID0gbW9kYWxJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChtb2RhbE9wdGlvbnMucmVzb2x2ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgICAgICBjdHJsTG9jYWxzW2tleV0gPSB0cGxBbmRWYXJzW3Jlc29sdmVJdGVyKytdO1xuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIGN0cmxJbnN0YW5jZSA9ICRjb250cm9sbGVyKG1vZGFsT3B0aW9ucy5jb250cm9sbGVyLCBjdHJsTG9jYWxzKTtcbiAgICAgICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuY29udHJvbGxlckFzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuYmluZFRvQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGN0cmxJbnN0YW5jZSwgbW9kYWxTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBtb2RhbFNjb3BlW21vZGFsT3B0aW9ucy5jb250cm9sbGVyQXNdID0gY3RybEluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRtb2RhbFN0YWNrLm9wZW4obW9kYWxJbnN0YW5jZSwge1xuICAgICAgICAgICAgICAgICAgc2NvcGU6IG1vZGFsU2NvcGUsXG4gICAgICAgICAgICAgICAgICBkZWZlcnJlZDogbW9kYWxSZXN1bHREZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckRlZmVycmVkOiBtb2RhbFJlbmRlckRlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgY29udGVudDogdHBsQW5kVmFyc1swXSxcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogbW9kYWxPcHRpb25zLmFuaW1hdGlvbixcbiAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiBtb2RhbE9wdGlvbnMuYmFja2Ryb3AsXG4gICAgICAgICAgICAgICAgICBrZXlib2FyZDogbW9kYWxPcHRpb25zLmtleWJvYXJkLFxuICAgICAgICAgICAgICAgICAgYmFja2Ryb3BDbGFzczogbW9kYWxPcHRpb25zLmJhY2tkcm9wQ2xhc3MsXG4gICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogbW9kYWxPcHRpb25zLndpbmRvd0NsYXNzLFxuICAgICAgICAgICAgICAgICAgd2luZG93VGVtcGxhdGVVcmw6IG1vZGFsT3B0aW9ucy53aW5kb3dUZW1wbGF0ZVVybCxcbiAgICAgICAgICAgICAgICAgIHNpemU6IG1vZGFsT3B0aW9ucy5zaXplLFxuICAgICAgICAgICAgICAgICAgb3BlbmVkQ2xhc3M6IG1vZGFsT3B0aW9ucy5vcGVuZWRDbGFzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1vZGFsT3BlbmVkRGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcblxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gcmVzb2x2ZUVycm9yKHJlYXNvbikge1xuICAgICAgICAgICAgICBtb2RhbE9wZW5lZERlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgICBtb2RhbFJlc3VsdERlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAocHJvbWlzZUNoYWluID09PSBzYW1lUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21pc2VDaGFpbiA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gbW9kYWxJbnN0YW5jZTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuICRtb2RhbDtcbiAgICAgICAgfV1cbiAgICB9O1xuXG4gICAgcmV0dXJuICRtb2RhbFByb3ZpZGVyO1xuICB9KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wYWdpbmF0aW9uJywgW10pXG4uY29udHJvbGxlcignUGFnaW5hdGlvbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBuZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH0sIC8vIG51bGxNb2RlbEN0cmxcbiAgICAgIHNldE51bVBhZ2VzID0gJGF0dHJzLm51bVBhZ2VzID8gJHBhcnNlKCRhdHRycy5udW1QYWdlcykuYXNzaWduIDogYW5ndWxhci5ub29wO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXywgY29uZmlnKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG5cbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlbmRlcigpO1xuICAgIH07XG5cbiAgICBpZiAoJGF0dHJzLml0ZW1zUGVyUGFnZSkge1xuICAgICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaXRlbXNQZXJQYWdlKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2VsZi5pdGVtc1BlclBhZ2UgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAkc2NvcGUudG90YWxQYWdlcyA9IHNlbGYuY2FsY3VsYXRlVG90YWxQYWdlcygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXRlbXNQZXJQYWdlID0gY29uZmlnLml0ZW1zUGVyUGFnZTtcbiAgICB9XG5cbiAgICAkc2NvcGUuJHdhdGNoKCd0b3RhbEl0ZW1zJywgZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUudG90YWxQYWdlcyA9IHNlbGYuY2FsY3VsYXRlVG90YWxQYWdlcygpO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgndG90YWxQYWdlcycsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBzZXROdW1QYWdlcygkc2NvcGUuJHBhcmVudCwgdmFsdWUpOyAvLyBSZWFkb25seSB2YXJpYWJsZVxuXG4gICAgICBpZiAoICRzY29wZS5wYWdlID4gdmFsdWUgKSB7XG4gICAgICAgICRzY29wZS5zZWxlY3RQYWdlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmNhbGN1bGF0ZVRvdGFsUGFnZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdG90YWxQYWdlcyA9IHRoaXMuaXRlbXNQZXJQYWdlIDwgMSA/IDEgOiBNYXRoLmNlaWwoJHNjb3BlLnRvdGFsSXRlbXMgLyB0aGlzLml0ZW1zUGVyUGFnZSk7XG4gICAgcmV0dXJuIE1hdGgubWF4KHRvdGFsUGFnZXMgfHwgMCwgMSk7XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUucGFnZSA9IHBhcnNlSW50KG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUsIDEwKSB8fCAxO1xuICB9O1xuXG4gICRzY29wZS5zZWxlY3RQYWdlID0gZnVuY3Rpb24ocGFnZSwgZXZ0KSB7XG4gICAgaWYgKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdmFyIGNsaWNrQWxsb3dlZCA9ICEkc2NvcGUubmdEaXNhYmxlZCB8fCAhZXZ0O1xuICAgIGlmIChjbGlja0FsbG93ZWQgJiYgJHNjb3BlLnBhZ2UgIT09IHBhZ2UgJiYgcGFnZSA+IDAgJiYgcGFnZSA8PSAkc2NvcGUudG90YWxQYWdlcykge1xuICAgICAgaWYgKGV2dCAmJiBldnQudGFyZ2V0KSB7XG4gICAgICAgIGV2dC50YXJnZXQuYmx1cigpO1xuICAgICAgfVxuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShwYWdlKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmdldFRleHQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gJHNjb3BlW2tleSArICdUZXh0J10gfHwgc2VsZi5jb25maWdba2V5ICsgJ1RleHQnXTtcbiAgfTtcblxuICAkc2NvcGUubm9QcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkc2NvcGUucGFnZSA9PT0gMTtcbiAgfTtcblxuICAkc2NvcGUubm9OZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRzY29wZS5wYWdlID09PSAkc2NvcGUudG90YWxQYWdlcztcbiAgfTtcbn1dKVxuXG4uY29uc3RhbnQoJ3BhZ2luYXRpb25Db25maWcnLCB7XG4gIGl0ZW1zUGVyUGFnZTogMTAsXG4gIGJvdW5kYXJ5TGlua3M6IGZhbHNlLFxuICBkaXJlY3Rpb25MaW5rczogdHJ1ZSxcbiAgZmlyc3RUZXh0OiAnRmlyc3QnLFxuICBwcmV2aW91c1RleHQ6ICdQcmV2aW91cycsXG4gIG5leHRUZXh0OiAnTmV4dCcsXG4gIGxhc3RUZXh0OiAnTGFzdCcsXG4gIHJvdGF0ZTogdHJ1ZVxufSlcblxuLmRpcmVjdGl2ZSgncGFnaW5hdGlvbicsIFsnJHBhcnNlJywgJ3BhZ2luYXRpb25Db25maWcnLCBmdW5jdGlvbigkcGFyc2UsIHBhZ2luYXRpb25Db25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICBzY29wZToge1xuICAgICAgdG90YWxJdGVtczogJz0nLFxuICAgICAgZmlyc3RUZXh0OiAnQCcsXG4gICAgICBwcmV2aW91c1RleHQ6ICdAJyxcbiAgICAgIG5leHRUZXh0OiAnQCcsXG4gICAgICBsYXN0VGV4dDogJ0AnLFxuICAgICAgbmdEaXNhYmxlZDonPSdcbiAgICB9LFxuICAgIHJlcXVpcmU6IFsncGFnaW5hdGlvbicsICc/bmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdQYWdpbmF0aW9uQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAncGFnaW5hdGlvbicsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sJztcbiAgICB9LFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHBhZ2luYXRpb25DdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHtcbiAgICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnNcbiAgICAgIHZhciBtYXhTaXplID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMubWF4U2l6ZSkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm1heFNpemUpIDogcGFnaW5hdGlvbkNvbmZpZy5tYXhTaXplLFxuICAgICAgICAgIHJvdGF0ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnJvdGF0ZSkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnJvdGF0ZSkgOiBwYWdpbmF0aW9uQ29uZmlnLnJvdGF0ZTtcbiAgICAgIHNjb3BlLmJvdW5kYXJ5TGlua3MgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5ib3VuZGFyeUxpbmtzKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYm91bmRhcnlMaW5rcykgOiBwYWdpbmF0aW9uQ29uZmlnLmJvdW5kYXJ5TGlua3M7XG4gICAgICBzY29wZS5kaXJlY3Rpb25MaW5rcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGlyZWN0aW9uTGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5kaXJlY3Rpb25MaW5rcztcblxuICAgICAgcGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCwgcGFnaW5hdGlvbkNvbmZpZyk7XG5cbiAgICAgIGlmIChhdHRycy5tYXhTaXplKSB7XG4gICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5tYXhTaXplKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBtYXhTaXplID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICBwYWdpbmF0aW9uQ3RybC5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBwYWdlIG9iamVjdCB1c2VkIGluIHRlbXBsYXRlXG4gICAgICBmdW5jdGlvbiBtYWtlUGFnZShudW1iZXIsIHRleHQsIGlzQWN0aXZlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbnVtYmVyOiBudW1iZXIsXG4gICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICBhY3RpdmU6IGlzQWN0aXZlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldFBhZ2VzKGN1cnJlbnRQYWdlLCB0b3RhbFBhZ2VzKSB7XG4gICAgICAgIHZhciBwYWdlcyA9IFtdO1xuXG4gICAgICAgIC8vIERlZmF1bHQgcGFnZSBsaW1pdHNcbiAgICAgICAgdmFyIHN0YXJ0UGFnZSA9IDEsIGVuZFBhZ2UgPSB0b3RhbFBhZ2VzO1xuICAgICAgICB2YXIgaXNNYXhTaXplZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKG1heFNpemUpICYmIG1heFNpemUgPCB0b3RhbFBhZ2VzO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZSBpZiBtYXhTaXplXG4gICAgICAgIGlmIChpc01heFNpemVkKSB7XG4gICAgICAgICAgaWYgKHJvdGF0ZSkge1xuICAgICAgICAgICAgLy8gQ3VycmVudCBwYWdlIGlzIGRpc3BsYXllZCBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aXNpYmxlIG9uZXNcbiAgICAgICAgICAgIHN0YXJ0UGFnZSA9IE1hdGgubWF4KGN1cnJlbnRQYWdlIC0gTWF0aC5mbG9vcihtYXhTaXplLzIpLCAxKTtcbiAgICAgICAgICAgIGVuZFBhZ2UgICA9IHN0YXJ0UGFnZSArIG1heFNpemUgLSAxO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgaWYgbGltaXQgaXMgZXhjZWVkZWRcbiAgICAgICAgICAgIGlmIChlbmRQYWdlID4gdG90YWxQYWdlcykge1xuICAgICAgICAgICAgICBlbmRQYWdlICAgPSB0b3RhbFBhZ2VzO1xuICAgICAgICAgICAgICBzdGFydFBhZ2UgPSBlbmRQYWdlIC0gbWF4U2l6ZSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFZpc2libGUgcGFnZXMgYXJlIHBhZ2luYXRlZCB3aXRoIG1heFNpemVcbiAgICAgICAgICAgIHN0YXJ0UGFnZSA9ICgoTWF0aC5jZWlsKGN1cnJlbnRQYWdlIC8gbWF4U2l6ZSkgLSAxKSAqIG1heFNpemUpICsgMTtcblxuICAgICAgICAgICAgLy8gQWRqdXN0IGxhc3QgcGFnZSBpZiBsaW1pdCBpcyBleGNlZWRlZFxuICAgICAgICAgICAgZW5kUGFnZSA9IE1hdGgubWluKHN0YXJ0UGFnZSArIG1heFNpemUgLSAxLCB0b3RhbFBhZ2VzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgcGFnZSBudW1iZXIgbGlua3NcbiAgICAgICAgZm9yICh2YXIgbnVtYmVyID0gc3RhcnRQYWdlOyBudW1iZXIgPD0gZW5kUGFnZTsgbnVtYmVyKyspIHtcbiAgICAgICAgICB2YXIgcGFnZSA9IG1ha2VQYWdlKG51bWJlciwgbnVtYmVyLCBudW1iZXIgPT09IGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICBwYWdlcy5wdXNoKHBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGxpbmtzIHRvIG1vdmUgYmV0d2VlbiBwYWdlIHNldHNcbiAgICAgICAgaWYgKGlzTWF4U2l6ZWQgJiYgISByb3RhdGUpIHtcbiAgICAgICAgICBpZiAoc3RhcnRQYWdlID4gMSkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzUGFnZVNldCA9IG1ha2VQYWdlKHN0YXJ0UGFnZSAtIDEsICcuLi4nLCBmYWxzZSk7XG4gICAgICAgICAgICBwYWdlcy51bnNoaWZ0KHByZXZpb3VzUGFnZVNldCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGVuZFBhZ2UgPCB0b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFBhZ2VTZXQgPSBtYWtlUGFnZShlbmRQYWdlICsgMSwgJy4uLicsIGZhbHNlKTtcbiAgICAgICAgICAgIHBhZ2VzLnB1c2gobmV4dFBhZ2VTZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWdlcztcbiAgICAgIH1cblxuICAgICAgdmFyIG9yaWdpbmFsUmVuZGVyID0gcGFnaW5hdGlvbkN0cmwucmVuZGVyO1xuICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG9yaWdpbmFsUmVuZGVyKCk7XG4gICAgICAgIGlmIChzY29wZS5wYWdlID4gMCAmJiBzY29wZS5wYWdlIDw9IHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgICAgICBzY29wZS5wYWdlcyA9IGdldFBhZ2VzKHNjb3BlLnBhZ2UsIHNjb3BlLnRvdGFsUGFnZXMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29uc3RhbnQoJ3BhZ2VyQ29uZmlnJywge1xuICBpdGVtc1BlclBhZ2U6IDEwLFxuICBwcmV2aW91c1RleHQ6ICfCqyBQcmV2aW91cycsXG4gIG5leHRUZXh0OiAnTmV4dCDCuycsXG4gIGFsaWduOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdwYWdlcicsIFsncGFnZXJDb25maWcnLCBmdW5jdGlvbihwYWdlckNvbmZpZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHNjb3BlOiB7XG4gICAgICB0b3RhbEl0ZW1zOiAnPScsXG4gICAgICBwcmV2aW91c1RleHQ6ICdAJyxcbiAgICAgIG5leHRUZXh0OiAnQCcsXG4gICAgICBuZ0Rpc2FibGVkOiAnPSdcbiAgICB9LFxuICAgIHJlcXVpcmU6IFsncGFnZXInLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnUGFnaW5hdGlvbkNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ3BhZ2luYXRpb24nLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwnO1xuICAgIH0sXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgcGFnaW5hdGlvbkN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkge1xuICAgICAgICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nIGlmIG5vIG5nLW1vZGVsXG4gICAgICB9XG5cbiAgICAgIHNjb3BlLmFsaWduID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYWxpZ24pID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5hbGlnbikgOiBwYWdlckNvbmZpZy5hbGlnbjtcbiAgICAgIHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwsIHBhZ2VyQ29uZmlnKTtcbiAgICB9XG4gIH07XG59XSk7XG5cbi8qKlxuICogVGhlIGZvbGxvd2luZyBmZWF0dXJlcyBhcmUgc3RpbGwgb3V0c3RhbmRpbmc6IGFuaW1hdGlvbiBhcyBhXG4gKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuXG4gKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBodG1sIHRvb2x0aXBzLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGlvbi5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50b29sdGlwJywgWyd1aS5ib290c3RyYXAucG9zaXRpb24nLCAndWkuYm9vdHN0cmFwLmJpbmRIdG1sJ10pXG5cbi8qKlxuICogVGhlICR0b29sdGlwIHNlcnZpY2UgY3JlYXRlcyB0b29sdGlwLSBhbmQgcG9wb3Zlci1saWtlIGRpcmVjdGl2ZXMgYXMgd2VsbCBhc1xuICogaG91c2VzIGdsb2JhbCBvcHRpb25zIGZvciB0aGVtLlxuICovXG4ucHJvdmlkZXIoJyR0b29sdGlwJywgZnVuY3Rpb24oKSB7XG4gIC8vIFRoZSBkZWZhdWx0IG9wdGlvbnMgdG9vbHRpcCBhbmQgcG9wb3Zlci5cbiAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIHBsYWNlbWVudDogJ3RvcCcsXG4gICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgIHBvcHVwRGVsYXk6IDAsXG4gICAgdXNlQ29udGVudEV4cDogZmFsc2VcbiAgfTtcblxuICAvLyBEZWZhdWx0IGhpZGUgdHJpZ2dlcnMgZm9yIGVhY2ggc2hvdyB0cmlnZ2VyXG4gIHZhciB0cmlnZ2VyTWFwID0ge1xuICAgICdtb3VzZWVudGVyJzogJ21vdXNlbGVhdmUnLFxuICAgICdjbGljayc6ICdjbGljaycsXG4gICAgJ2ZvY3VzJzogJ2JsdXInLFxuICAgICdub25lJzogJydcbiAgfTtcblxuICAvLyBUaGUgb3B0aW9ucyBzcGVjaWZpZWQgdG8gdGhlIHByb3ZpZGVyIGdsb2JhbGx5LlxuICB2YXIgZ2xvYmFsT3B0aW9ucyA9IHt9O1xuXG4gIC8qKlxuICAgKiBgb3B0aW9ucyh7fSlgIGFsbG93cyBnbG9iYWwgY29uZmlndXJhdGlvbiBvZiBhbGwgdG9vbHRpcHMgaW4gdGhlXG4gICAqIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSggJ0FwcCcsIFsndWkuYm9vdHN0cmFwLnRvb2x0aXAnXSwgZnVuY3Rpb24oICR0b29sdGlwUHJvdmlkZXIgKSB7XG4gICAqICAgICAvLyBwbGFjZSB0b29sdGlwcyBsZWZ0IGluc3RlYWQgb2YgdG9wIGJ5IGRlZmF1bHRcbiAgICogICAgICR0b29sdGlwUHJvdmlkZXIub3B0aW9ucyggeyBwbGFjZW1lbnQ6ICdsZWZ0JyB9ICk7XG4gICAqICAgfSk7XG4gICAqL1xuXHR0aGlzLm9wdGlvbnMgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGFuZ3VsYXIuZXh0ZW5kKGdsb2JhbE9wdGlvbnMsIHZhbHVlKTtcblx0fTtcblxuICAvKipcbiAgICogVGhpcyBhbGxvd3MgeW91IHRvIGV4dGVuZCB0aGUgc2V0IG9mIHRyaWdnZXIgbWFwcGluZ3MgYXZhaWxhYmxlLiBFLmcuOlxuICAgKlxuICAgKiAgICR0b29sdGlwUHJvdmlkZXIuc2V0VHJpZ2dlcnMoICdvcGVuVHJpZ2dlcic6ICdjbG9zZVRyaWdnZXInICk7XG4gICAqL1xuICB0aGlzLnNldFRyaWdnZXJzID0gZnVuY3Rpb24gc2V0VHJpZ2dlcnModHJpZ2dlcnMpIHtcbiAgICBhbmd1bGFyLmV4dGVuZCh0cmlnZ2VyTWFwLCB0cmlnZ2Vycyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRyYW5zbGF0aW5nIGNhbWVsLWNhc2UgdG8gc25ha2UtY2FzZS5cbiAgICovXG4gIGZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSkge1xuICAgIHZhciByZWdleHAgPSAvW0EtWl0vZztcbiAgICB2YXIgc2VwYXJhdG9yID0gJy0nO1xuICAgIHJldHVybiBuYW1lLnJlcGxhY2UocmVnZXhwLCBmdW5jdGlvbihsZXR0ZXIsIHBvcykge1xuICAgICAgcmV0dXJuIChwb3MgPyBzZXBhcmF0b3IgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBhY3R1YWwgaW5zdGFuY2Ugb2YgdGhlICR0b29sdGlwIHNlcnZpY2UuXG4gICAqIFRPRE8gc3VwcG9ydCBtdWx0aXBsZSB0cmlnZ2Vyc1xuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRjb21waWxlJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckcG9zaXRpb24nLCAnJGludGVycG9sYXRlJywgJyRyb290U2NvcGUnLCAnJHBhcnNlJywgZnVuY3Rpb24oJHdpbmRvdywgJGNvbXBpbGUsICR0aW1lb3V0LCAkZG9jdW1lbnQsICRwb3NpdGlvbiwgJGludGVycG9sYXRlLCAkcm9vdFNjb3BlLCAkcGFyc2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gJHRvb2x0aXAodHlwZSwgcHJlZml4LCBkZWZhdWx0VHJpZ2dlclNob3csIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIGdsb2JhbE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHNob3cgYW5kIGhpZGUgdHJpZ2dlcnMuXG4gICAgICAgKlxuICAgICAgICogSWYgYSB0cmlnZ2VyIGlzIHN1cHBsaWVkLFxuICAgICAgICogaXQgaXMgdXNlZCB0byBzaG93IHRoZSB0b29sdGlwOyBvdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdHJpZ2dlcmBcbiAgICAgICAqIG9wdGlvbiBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZDsgZWxzZSBpdCB3aWxsXG4gICAgICAgKiBkZWZhdWx0IHRvIHRoZSB0cmlnZ2VyIHN1cHBsaWVkIHRvIHRoaXMgZGlyZWN0aXZlIGZhY3RvcnkuXG4gICAgICAgKlxuICAgICAgICogVGhlIGhpZGUgdHJpZ2dlciBpcyBiYXNlZCBvbiB0aGUgc2hvdyB0cmlnZ2VyLiBJZiB0aGUgYHRyaWdnZXJgIG9wdGlvblxuICAgICAgICogd2FzIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kLCBpdCB3aWxsIHVzZSB0aGVcbiAgICAgICAqIG1hcHBlZCB0cmlnZ2VyIGZyb20gYHRyaWdnZXJNYXBgIG9yIHRoZSBwYXNzZWQgdHJpZ2dlciBpZiB0aGUgbWFwIGlzXG4gICAgICAgKiB1bmRlZmluZWQ7IG90aGVyd2lzZSwgaXQgdXNlcyB0aGUgYHRyaWdnZXJNYXBgIHZhbHVlIG9mIHRoZSBzaG93XG4gICAgICAgKiB0cmlnZ2VyOyBlbHNlIGl0IHdpbGwganVzdCB1c2UgdGhlIHNob3cgdHJpZ2dlci5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZ2V0VHJpZ2dlcnModHJpZ2dlcikge1xuICAgICAgICB2YXIgc2hvdyA9ICh0cmlnZ2VyIHx8IG9wdGlvbnMudHJpZ2dlciB8fCBkZWZhdWx0VHJpZ2dlclNob3cpLnNwbGl0KCcgJyk7XG4gICAgICAgIHZhciBoaWRlID0gc2hvdy5tYXAoZnVuY3Rpb24odHJpZ2dlcikge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VyTWFwW3RyaWdnZXJdIHx8IHRyaWdnZXI7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNob3c6IHNob3csXG4gICAgICAgICAgaGlkZTogaGlkZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgZGlyZWN0aXZlTmFtZSA9IHNuYWtlX2Nhc2UodHlwZSk7XG5cbiAgICAgIHZhciBzdGFydFN5bSA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpO1xuICAgICAgdmFyIGVuZFN5bSA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKTtcbiAgICAgIHZhciB0ZW1wbGF0ZSA9XG4gICAgICAgICc8ZGl2ICcrIGRpcmVjdGl2ZU5hbWUgKyctcG9wdXAgJytcbiAgICAgICAgICAndGl0bGU9XCInK3N0YXJ0U3ltKyd0aXRsZScrZW5kU3ltKydcIiAnK1xuICAgICAgICAgIChvcHRpb25zLnVzZUNvbnRlbnRFeHAgP1xuICAgICAgICAgICAgJ2NvbnRlbnQtZXhwPVwiY29udGVudEV4cCgpXCIgJyA6XG4gICAgICAgICAgICAnY29udGVudD1cIicrc3RhcnRTeW0rJ2NvbnRlbnQnK2VuZFN5bSsnXCIgJykgK1xuICAgICAgICAgICdwbGFjZW1lbnQ9XCInK3N0YXJ0U3ltKydwbGFjZW1lbnQnK2VuZFN5bSsnXCIgJytcbiAgICAgICAgICAncG9wdXAtY2xhc3M9XCInK3N0YXJ0U3ltKydwb3B1cENsYXNzJytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgJ2FuaW1hdGlvbj1cImFuaW1hdGlvblwiICcrXG4gICAgICAgICAgJ2lzLW9wZW49XCJpc09wZW5cIicrXG4gICAgICAgICAgJ29yaWdpbi1zY29wZT1cIm9yaWdTY29wZVwiICcrXG4gICAgICAgICAgJz4nK1xuICAgICAgICAnPC9kaXY+JztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbGVtLCB0QXR0cnMpIHtcbiAgICAgICAgICB2YXIgdG9vbHRpcExpbmtlciA9ICRjb21waWxlKCB0ZW1wbGF0ZSApO1xuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCB0b29sdGlwQ3RybCkge1xuICAgICAgICAgICAgdmFyIHRvb2x0aXA7XG4gICAgICAgICAgICB2YXIgdG9vbHRpcExpbmtlZFNjb3BlO1xuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25UaW1lb3V0O1xuICAgICAgICAgICAgdmFyIHBvcHVwVGltZW91dDtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvblRpbWVvdXQ7XG4gICAgICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5hcHBlbmRUb0JvZHkpID8gb3B0aW9ucy5hcHBlbmRUb0JvZHkgOiBmYWxzZTtcbiAgICAgICAgICAgIHZhciB0cmlnZ2VycyA9IGdldFRyaWdnZXJzKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB2YXIgaGFzRW5hYmxlRXhwID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnNbcHJlZml4ICsgJ0VuYWJsZSddKTtcbiAgICAgICAgICAgIHZhciB0dFNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTtcbiAgICAgICAgICAgIHZhciByZXBvc2l0aW9uU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaXNPcGVuRXhwID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnNbcHJlZml4ICsgJ0lzT3BlbiddKSA/ICRwYXJzZShhdHRyc1twcmVmaXggKyAnSXNPcGVuJ10pIDogZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciBwb3NpdGlvblRvb2x0aXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCF0b29sdGlwKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICAgIGlmICghcG9zaXRpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25UaW1lb3V0ID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgcG9zaXRpb25pbmcgYW5kIGJveCBzaXplIGZvciBjb3JyZWN0IHdpZHRoIGFuZCBoZWlnaHQgdmFsdWVzLlxuICAgICAgICAgICAgICAgICAgdG9vbHRpcC5jc3MoeyB0b3A6IDAsIGxlZnQ6IDAsIHdpZHRoOiAnYXV0bycsIGhlaWdodDogJ2F1dG8nIH0pO1xuXG4gICAgICAgICAgICAgICAgICB2YXIgdHRCb3ggPSAkcG9zaXRpb24ucG9zaXRpb24odG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgICB2YXIgdHRDc3MgPSAkcG9zaXRpb24ucG9zaXRpb25FbGVtZW50cyhlbGVtZW50LCB0b29sdGlwLCB0dFNjb3BlLnBsYWNlbWVudCwgYXBwZW5kVG9Cb2R5KTtcbiAgICAgICAgICAgICAgICAgIHR0Q3NzLnRvcCArPSAncHgnO1xuICAgICAgICAgICAgICAgICAgdHRDc3MubGVmdCArPSAncHgnO1xuXG4gICAgICAgICAgICAgICAgICB0dENzcy53aWR0aCA9IHR0Qm94LndpZHRoICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgIHR0Q3NzLmhlaWdodCA9IHR0Qm94LmhlaWdodCArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgIC8vIE5vdyBzZXQgdGhlIGNhbGN1bGF0ZWQgcG9zaXRpb25pbmcgYW5kIHNpemUuXG4gICAgICAgICAgICAgICAgICB0b29sdGlwLmNzcyh0dENzcyk7XG5cbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICB9LCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFNldCB1cCB0aGUgY29ycmVjdCBzY29wZSB0byBhbGxvdyB0cmFuc2NsdXNpb24gbGF0ZXJcbiAgICAgICAgICAgIHR0U2NvcGUub3JpZ1Njb3BlID0gc2NvcGU7XG5cbiAgICAgICAgICAgIC8vIEJ5IGRlZmF1bHQsIHRoZSB0b29sdGlwIGlzIG5vdCBvcGVuLlxuICAgICAgICAgICAgLy8gVE9ETyBhZGQgYWJpbGl0eSB0byBzdGFydCB0b29sdGlwIG9wZW5lZFxuICAgICAgICAgICAgdHRTY29wZS5pc09wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVG9vbHRpcEJpbmQoKSB7XG4gICAgICAgICAgICAgIGlmICghdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICBzaG93VG9vbHRpcEJpbmQoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoaWRlVG9vbHRpcEJpbmQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaG93IHRoZSB0b29sdGlwIHdpdGggZGVsYXkgaWYgc3BlY2lmaWVkLCBvdGhlcndpc2Ugc2hvdyBpdCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvd1Rvb2x0aXBCaW5kKCkge1xuICAgICAgICAgICAgICBpZiAoaGFzRW5hYmxlRXhwICYmICFzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnRW5hYmxlJ10pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcHJlcGFyZVRvb2x0aXAoKTtcblxuICAgICAgICAgICAgICBpZiAodHRTY29wZS5wb3B1cERlbGF5KSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZyBpZiB0aGUgdG9vbHRpcCB3YXMgYWxyZWFkeSBzY2hlZHVsZWQgdG8gcG9wLXVwLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBpZiBzaG93IGlzIHRyaWdnZXJlZCBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgYW55IGhpZGUgaXMgdHJpZ2dlcmVkLlxuICAgICAgICAgICAgICAgIGlmICghcG9wdXBUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSAkdGltZW91dChzaG93LCB0dFNjb3BlLnBvcHVwRGVsYXksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVUb29sdGlwQmluZCAoKSB7XG4gICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaG93IHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgcGVuZGluZyByZW1vdmUgdHJhbnNpdGlvbiwgd2UgbXVzdCBjYW5jZWwgaXQsIGxlc3QgdGhlXG4gICAgICAgICAgICAgIC8vIHRvb2x0aXAgYmUgbXlzdGVyaW91c2x5IHJlbW92ZWQuXG4gICAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0cmFuc2l0aW9uVGltZW91dCk7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBlbXB0eSB0b29sdGlwcy5cbiAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucy51c2VDb250ZW50RXhwID8gdHRTY29wZS5jb250ZW50RXhwKCkgOiB0dFNjb3BlLmNvbnRlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIubm9vcDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNyZWF0ZVRvb2x0aXAoKTtcblxuICAgICAgICAgICAgICAvLyBBbmQgc2hvdyB0aGUgdG9vbHRpcC5cbiAgICAgICAgICAgICAgdHRTY29wZS5pc09wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICBpZiAoaXNPcGVuRXhwKSB7XG4gICAgICAgICAgICAgICAgaXNPcGVuRXhwLmFzc2lnbih0dFNjb3BlLm9yaWdTY29wZSwgdHRTY29wZS5pc09wZW4pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgICB0dFNjb3BlLiRhcHBseSgpOyAvLyBkaWdlc3QgcmVxdWlyZWQgYXMgJGFwcGx5IGlzIG5vdCBjYWxsZWRcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRvb2x0aXAuY3NzKHsgZGlzcGxheTogJ2Jsb2NrJyB9KTtcblxuICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgdG9vbHRpcCBwb3B1cCBlbGVtZW50LlxuICAgICAgICAgICAgZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgICAgICAgLy8gRmlyc3QgdGhpbmdzIGZpcnN0OiB3ZSBkb24ndCBzaG93IGl0IGFueW1vcmUuXG4gICAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgIGlmIChpc09wZW5FeHApIHtcbiAgICAgICAgICAgICAgICBpc09wZW5FeHAuYXNzaWduKHR0U2NvcGUub3JpZ1Njb3BlLCB0dFNjb3BlLmlzT3Blbik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvL2lmIHRvb2x0aXAgaXMgZ29pbmcgdG8gYmUgc2hvd24gYWZ0ZXIgZGVsYXksIHdlIG11c3QgY2FuY2VsIHRoaXNcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCk7XG4gICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvc2l0aW9uVGltZW91dCk7XG4gICAgICAgICAgICAgIHBvc2l0aW9uVGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgLy8gQW5kIG5vdyB3ZSByZW1vdmUgaXQgZnJvbSB0aGUgRE9NLiBIb3dldmVyLCBpZiB3ZSBoYXZlIGFuaW1hdGlvbiwgd2VcbiAgICAgICAgICAgICAgLy8gbmVlZCB0byB3YWl0IGZvciBpdCB0byBleHBpcmUgYmVmb3JlaGFuZC5cbiAgICAgICAgICAgICAgLy8gRklYTUU6IHRoaXMgaXMgYSBwbGFjZWhvbGRlciBmb3IgYSBwb3J0IG9mIHRoZSB0cmFuc2l0aW9ucyBsaWJyYXJ5LlxuICAgICAgICAgICAgICBpZiAodHRTY29wZS5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zaXRpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KHJlbW92ZVRvb2x0aXAsIDUwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVUb29sdGlwKCkge1xuICAgICAgICAgICAgICAvLyBUaGVyZSBjYW4gb25seSBiZSBvbmUgdG9vbHRpcCBlbGVtZW50IHBlciBkaXJlY3RpdmUgc2hvd24gYXQgb25jZS5cbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlID0gdHRTY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAgPSB0b29sdGlwTGlua2VyKHRvb2x0aXBMaW5rZWRTY29wZSwgZnVuY3Rpb24odG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKHRvb2x0aXApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmFmdGVyKHRvb2x0aXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlQ29udGVudEV4cCkge1xuICAgICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZS4kd2F0Y2goJ2NvbnRlbnRFeHAoKScsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgICAgaWYgKCF2YWwgJiYgdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGlmICghcmVwb3NpdGlvblNjaGVkdWxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXBvc2l0aW9uU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXBvc2l0aW9uU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlVG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICBpZiAodG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIHRvb2x0aXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdG9vbHRpcCA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXBMaW5rZWRTY29wZSkge1xuICAgICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcGFyZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIHByZXBQb3B1cENsYXNzKCk7XG4gICAgICAgICAgICAgIHByZXBQbGFjZW1lbnQoKTtcbiAgICAgICAgICAgICAgcHJlcFBvcHVwRGVsYXkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHRTY29wZS5jb250ZW50RXhwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzY29wZS4kZXZhbChhdHRyc1t0eXBlXSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE9ic2VydmUgdGhlIHJlbGV2YW50IGF0dHJpYnV0ZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICghb3B0aW9ucy51c2VDb250ZW50RXhwKSB7XG4gICAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHR5cGUsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIHR0U2NvcGUuY29udGVudCA9IHZhbDtcblxuICAgICAgICAgICAgICAgIGlmICghdmFsICYmIHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCdkaXNhYmxlZCcsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICBpZiAocG9wdXBUaW1lb3V0ICYmIHZhbCkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodmFsICYmIHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUocHJlZml4ICsgJ1RpdGxlJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgIHR0U2NvcGUudGl0bGUgPSB2YWw7XG4gICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHByZWZpeCArICdQbGFjZW1lbnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgcHJlcFBsYWNlbWVudCgpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGlzT3BlbkV4cCkge1xuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goaXNPcGVuRXhwLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsICE9PSB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgdG9nZ2xlVG9vbHRpcEJpbmQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwUG9wdXBDbGFzcygpIHtcbiAgICAgICAgICAgICAgdHRTY29wZS5wb3B1cENsYXNzID0gYXR0cnNbcHJlZml4ICsgJ0NsYXNzJ107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBQbGFjZW1lbnQoKSB7XG4gICAgICAgICAgICAgIHZhciB2YWwgPSBhdHRyc1twcmVmaXggKyAnUGxhY2VtZW50J107XG4gICAgICAgICAgICAgIHR0U2NvcGUucGxhY2VtZW50ID0gYW5ndWxhci5pc0RlZmluZWQodmFsKSA/IHZhbCA6IG9wdGlvbnMucGxhY2VtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwUG9wdXBEZWxheSgpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzW3ByZWZpeCArICdQb3B1cERlbGF5J107XG4gICAgICAgICAgICAgIHZhciBkZWxheSA9IHBhcnNlSW50KHZhbCwgMTApO1xuICAgICAgICAgICAgICB0dFNjb3BlLnBvcHVwRGVsYXkgPSAhaXNOYU4oZGVsYXkpID8gZGVsYXkgOiBvcHRpb25zLnBvcHVwRGVsYXk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB1bnJlZ2lzdGVyVHJpZ2dlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdHJpZ2dlcnMuc2hvdy5mb3JFYWNoKGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnVuYmluZCh0cmlnZ2VyLCBzaG93VG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdHJpZ2dlcnMuaGlkZS5mb3JFYWNoKGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnVuYmluZCh0cmlnZ2VyLCBoaWRlVG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBUcmlnZ2VycygpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzW3ByZWZpeCArICdUcmlnZ2VyJ107XG4gICAgICAgICAgICAgIHVucmVnaXN0ZXJUcmlnZ2VycygpO1xuXG4gICAgICAgICAgICAgIHRyaWdnZXJzID0gZ2V0VHJpZ2dlcnModmFsKTtcblxuICAgICAgICAgICAgICBpZiAodHJpZ2dlcnMuc2hvdyAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcnMuc2hvdy5mb3JFYWNoKGZ1bmN0aW9uKHRyaWdnZXIsIGlkeCkge1xuICAgICAgICAgICAgICAgICAgLy8gVXNpbmcgcmF3IGFkZEV2ZW50TGlzdGVuZXIgZHVlIHRvIGpxTGl0ZS9qUXVlcnkgYnVnIC0gIzQwNjBcbiAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyID09PSB0cmlnZ2Vycy5oaWRlW2lkeF0pIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKHRyaWdnZXIsIHRvZ2dsZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJpZ2dlcikge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlciwgc2hvd1Rvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKHRyaWdnZXJzLmhpZGVbaWR4XSwgaGlkZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJlcFRyaWdnZXJzKCk7XG5cbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQW5pbWF0aW9uJ10pO1xuICAgICAgICAgICAgdHRTY29wZS5hbmltYXRpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhbmltYXRpb24pID8gISFhbmltYXRpb24gOiBvcHRpb25zLmFuaW1hdGlvbjtcblxuICAgICAgICAgICAgdmFyIGFwcGVuZFRvQm9keVZhbCA9IHNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCArICdBcHBlbmRUb0JvZHknXSk7XG4gICAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhcHBlbmRUb0JvZHlWYWwpID8gYXBwZW5kVG9Cb2R5VmFsIDogYXBwZW5kVG9Cb2R5O1xuXG4gICAgICAgICAgICAvLyBpZiBhIHRvb2x0aXAgaXMgYXR0YWNoZWQgdG8gPGJvZHk+IHdlIG5lZWQgdG8gcmVtb3ZlIGl0IG9uXG4gICAgICAgICAgICAvLyBsb2NhdGlvbiBjaGFuZ2UgYXMgaXRzIHBhcmVudCBzY29wZSB3aWxsIHByb2JhYmx5IG5vdCBiZSBkZXN0cm95ZWRcbiAgICAgICAgICAgIC8vIGJ5IHRoZSBjaGFuZ2UuXG4gICAgICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uIGNsb3NlVG9vbHRpcE9uTG9jYXRpb25DaGFuZ2VTdWNjZXNzKCkge1xuICAgICAgICAgICAgICAgIGlmICh0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0b29sdGlwIGlzIGRlc3Ryb3llZCBhbmQgcmVtb3ZlZC5cbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiBvbkRlc3Ryb3lUb29sdGlwKCkge1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KTtcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvc2l0aW9uVGltZW91dCk7XG4gICAgICAgICAgICAgIHVucmVnaXN0ZXJUcmlnZ2VycygpO1xuICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICAgIHR0U2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICB9XTtcbn0pXG5cbi8vIFRoaXMgaXMgbW9zdGx5IG5nSW5jbHVkZSBjb2RlIGJ1dCB3aXRoIGEgY3VzdG9tIHNjb3BlXG4uZGlyZWN0aXZlKCd0b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlJywgW1xuICAgICAgICAgJyRhbmltYXRlJywgJyRzY2UnLCAnJGNvbXBpbGUnLCAnJHRlbXBsYXRlUmVxdWVzdCcsXG5mdW5jdGlvbiAoJGFuaW1hdGUgLCAgJHNjZSAsICAkY29tcGlsZSAsICAkdGVtcGxhdGVSZXF1ZXN0KSB7XG4gIHJldHVybiB7XG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICB2YXIgb3JpZ1Njb3BlID0gc2NvcGUuJGV2YWwoYXR0cnMudG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZVNjb3BlKTtcblxuICAgICAgdmFyIGNoYW5nZUNvdW50ZXIgPSAwLFxuICAgICAgICBjdXJyZW50U2NvcGUsXG4gICAgICAgIHByZXZpb3VzRWxlbWVudCxcbiAgICAgICAgY3VycmVudEVsZW1lbnQ7XG5cbiAgICAgIHZhciBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQpIHtcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgY3VycmVudFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgY3VycmVudFNjb3BlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShjdXJyZW50RWxlbWVudCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7XG4gICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kd2F0Y2goJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwoYXR0cnMudG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZSksIGZ1bmN0aW9uKHNyYykge1xuICAgICAgICB2YXIgdGhpc0NoYW5nZUlkID0gKytjaGFuZ2VDb3VudGVyO1xuXG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAvL3NldCB0aGUgMm5kIHBhcmFtIHRvIHRydWUgdG8gaWdub3JlIHRoZSB0ZW1wbGF0ZSByZXF1ZXN0IGVycm9yIHNvIHRoYXQgdGhlIGlubmVyXG4gICAgICAgICAgLy9jb250ZW50cyBhbmQgc2NvcGUgY2FuIGJlIGNsZWFuZWQgdXAuXG4gICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgIT09IGNoYW5nZUNvdW50ZXIpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBvcmlnU2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gcmVzcG9uc2U7XG5cbiAgICAgICAgICAgIHZhciBjbG9uZSA9ICRjb21waWxlKHRlbXBsYXRlKShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgZWxlbSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xuXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudExvYWRlZCcsIHNyYyk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkID09PSBjaGFuZ2VDb3VudGVyKSB7XG4gICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudEVycm9yJywgc3JjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkJywgc3JjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi8qKlxuICogTm90ZSB0aGF0IGl0J3MgaW50ZW50aW9uYWwgdGhhdCB0aGVzZSBjbGFzc2VzIGFyZSAqbm90KiBhcHBsaWVkIHRocm91Z2ggJGFuaW1hdGUuXG4gKiBUaGV5IG11c3Qgbm90IGJlIGFuaW1hdGVkIGFzIHRoZXkncmUgZXhwZWN0ZWQgdG8gYmUgcHJlc2VudCBvbiB0aGUgdG9vbHRpcCBvblxuICogaW5pdGlhbGl6YXRpb24uXG4gKi9cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBDbGFzc2VzJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIGlmIChzY29wZS5wbGFjZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhzY29wZS5wbGFjZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLnBvcHVwQ2xhc3MpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhzY29wZS5wb3B1cENsYXNzKTtcbiAgICAgIH1cbiAgICAgIGlmIChzY29wZS5hbmltYXRpb24oKSkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKGF0dHJzLnRvb2x0aXBBbmltYXRpb25DbGFzcyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcFBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd0b29sdGlwJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXAnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJyk7XG59XSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcFRlbXBsYXRlUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnLFxuICAgICAgb3JpZ2luU2NvcGU6ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd0b29sdGlwVGVtcGxhdGUnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwVGVtcGxhdGUnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcEh0bWxQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd0b29sdGlwSHRtbCcsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXBIdG1sJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicsIHtcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXG4gIH0pO1xufV0pXG5cbi8qXG5EZXByZWNhdGVkXG4qL1xuLmRpcmVjdGl2ZSgndG9vbHRpcEh0bWxVbnNhZmVQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLnZhbHVlKCd0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsIGZhbHNlKVxuLmRpcmVjdGl2ZSgndG9vbHRpcEh0bWxVbnNhZmUnLCBbXG4gICAgICAgICAgJyR0b29sdGlwJywgJ3Rvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgJyRsb2cnLFxuZnVuY3Rpb24oJHRvb2x0aXAgLCAgdG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQgLCAgJGxvZykge1xuICBpZiAoIXRvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkKSB7XG4gICAgJGxvZy53YXJuKCd0b29sdGlwLWh0bWwtdW5zYWZlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdG9vbHRpcC1odG1sIG9yIHRvb2x0aXAtdGVtcGxhdGUgaW5zdGVhZC4nKTtcbiAgfVxuICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXBIdG1sVW5zYWZlJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicpO1xufV0pO1xuXG4vKipcbiAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBwb3B1cCBkZWxheSwgYW5pbWF0aW9uIGFzIGFcbiAqIGZ1bmN0aW9uLCBwbGFjZW1lbnQgYXMgYSBmdW5jdGlvbiwgaW5zaWRlLCBzdXBwb3J0IGZvciBtb3JlIHRyaWdnZXJzIHRoYW5cbiAqIGp1c3QgbW91c2UgZW50ZXIvbGVhdmUsIGFuZCBzZWxlY3RvciBkZWxlZ2F0YXRpb24uXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCAndWkuYm9vdHN0cmFwLnBvcG92ZXInLCBbJ3VpLmJvb3RzdHJhcC50b29sdGlwJ10pXG5cbi5kaXJlY3RpdmUoJ3BvcG92ZXJUZW1wbGF0ZVBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyB0aXRsZTogJ0AnLCBjb250ZW50RXhwOiAnJicsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyxcbiAgICAgIG9yaWdpblNjb3BlOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgncG9wb3ZlclRlbXBsYXRlJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCgncG9wb3ZlclRlbXBsYXRlJywgJ3BvcG92ZXInLCAnY2xpY2snLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVySHRtbFBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50RXhwOiAnJicsIHRpdGxlOiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3BvcG92ZXJIdG1sJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCggJ3BvcG92ZXJIdG1sJywgJ3BvcG92ZXInLCAnY2xpY2snLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVyUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IHRpdGxlOiAnQCcsIGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3BvcG92ZXInLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCAncG9wb3ZlcicsICdwb3BvdmVyJywgJ2NsaWNrJyApO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnByb2dyZXNzYmFyJywgW10pXG5cbi5jb25zdGFudCgncHJvZ3Jlc3NDb25maWcnLCB7XG4gIGFuaW1hdGU6IHRydWUsXG4gIG1heDogMTAwXG59KVxuXG4udmFsdWUoJyRwcm9ncmVzc1N1cHByZXNzV2FybmluZycsIGZhbHNlKVxuXG4uY29udHJvbGxlcignUHJvZ3Jlc3NDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ3Byb2dyZXNzQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsIHByb2dyZXNzQ29uZmlnKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGFuaW1hdGUgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYW5pbWF0ZSkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYW5pbWF0ZSkgOiBwcm9ncmVzc0NvbmZpZy5hbmltYXRlO1xuXG4gIHRoaXMuYmFycyA9IFtdO1xuICAkc2NvcGUubWF4ID0gYW5ndWxhci5pc0RlZmluZWQoJHNjb3BlLm1heCkgPyAkc2NvcGUubWF4IDogcHJvZ3Jlc3NDb25maWcubWF4O1xuXG4gIHRoaXMuYWRkQmFyID0gZnVuY3Rpb24oYmFyLCBlbGVtZW50KSB7XG4gICAgaWYgKCFhbmltYXRlKSB7XG4gICAgICBlbGVtZW50LmNzcyh7J3RyYW5zaXRpb24nOiAnbm9uZSd9KTtcbiAgICB9XG5cbiAgICB0aGlzLmJhcnMucHVzaChiYXIpO1xuXG4gICAgYmFyLm1heCA9ICRzY29wZS5tYXg7XG5cbiAgICBiYXIuJHdhdGNoKCd2YWx1ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBiYXIucmVjYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgfSk7XG5cbiAgICBiYXIucmVjYWxjdWxhdGVQZXJjZW50YWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICBiYXIucGVyY2VudCA9ICsoMTAwICogYmFyLnZhbHVlIC8gYmFyLm1heCkudG9GaXhlZCgyKTtcblxuICAgICAgdmFyIHRvdGFsUGVyY2VudGFnZSA9IHNlbGYuYmFycy5yZWR1Y2UoZnVuY3Rpb24odG90YWwsIGJhcikge1xuICAgICAgICByZXR1cm4gdG90YWwgKyBiYXIucGVyY2VudDtcbiAgICAgIH0sIDApO1xuXG4gICAgICBpZiAodG90YWxQZXJjZW50YWdlID4gMTAwKSB7XG4gICAgICAgIGJhci5wZXJjZW50IC09IHRvdGFsUGVyY2VudGFnZSAtIDEwMDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgYmFyLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgIGVsZW1lbnQgPSBudWxsO1xuICAgICAgc2VsZi5yZW1vdmVCYXIoYmFyKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLnJlbW92ZUJhciA9IGZ1bmN0aW9uKGJhcikge1xuICAgICAgdGhpcy5iYXJzLnNwbGljZSh0aGlzLmJhcnMuaW5kZXhPZihiYXIpLCAxKTtcbiAgfTtcblxuICAkc2NvcGUuJHdhdGNoKCdtYXgnLCBmdW5jdGlvbihtYXgpIHtcbiAgICBzZWxmLmJhcnMuZm9yRWFjaChmdW5jdGlvbihiYXIpIHtcbiAgICAgIGJhci5tYXggPSAkc2NvcGUubWF4O1xuICAgICAgYmFyLnJlY2FsY3VsYXRlUGVyY2VudGFnZSgpO1xuICAgIH0pO1xuICB9KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd1aWJQcm9ncmVzcycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJyxcbiAgICByZXF1aXJlOiAndWliUHJvZ3Jlc3MnLFxuICAgIHNjb3BlOiB7XG4gICAgICBtYXg6ICc9PydcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3Byb2dyZXNzJywgWyckbG9nJywgJyRwcm9ncmVzc1N1cHByZXNzV2FybmluZycsIGZ1bmN0aW9uKCRsb2csICRwcm9ncmVzc1N1cHByZXNzV2FybmluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJyxcbiAgICByZXF1aXJlOiAncHJvZ3Jlc3MnLFxuICAgIHNjb3BlOiB7XG4gICAgICBtYXg6ICc9PydcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nKSB7XG4gICAgICAgICRsb2cud2FybigncHJvZ3Jlc3MgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItcHJvZ3Jlc3MgaW5zdGVhZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd1aWJCYXInLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVxdWlyZTogJ151aWJQcm9ncmVzcycsXG4gICAgc2NvcGU6IHtcbiAgICAgIHZhbHVlOiAnPScsXG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcHJvZ3Jlc3NDdHJsKSB7XG4gICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBlbGVtZW50KTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdiYXInLCBbJyRsb2cnLCAnJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nJywgZnVuY3Rpb24oJGxvZywgJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcXVpcmU6ICdecHJvZ3Jlc3MnLFxuICAgIHNjb3BlOiB7XG4gICAgICB2YWx1ZTogJz0nLFxuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkge1xuICAgICAgaWYgKCRwcm9ncmVzc1N1cHByZXNzV2FybmluZykge1xuICAgICAgICAkbG9nLndhcm4oJ2JhciBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1iYXIgaW5zdGVhZCcpO1xuICAgICAgfVxuICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgZWxlbWVudCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3Byb2dyZXNzYmFyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9ncmVzc0NvbnRyb2xsZXInLFxuICAgIHNjb3BlOiB7XG4gICAgICB2YWx1ZTogJz0nLFxuICAgICAgbWF4OiAnPT8nLFxuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcHJvZ3Jlc3NDdHJsKSB7XG4gICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudC5jaGlsZHJlbigpWzBdKSk7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucmF0aW5nJywgW10pXG5cbi5jb25zdGFudCgncmF0aW5nQ29uZmlnJywge1xuICBtYXg6IDUsXG4gIHN0YXRlT246IG51bGwsXG4gIHN0YXRlT2ZmOiBudWxsLFxuICB0aXRsZXMgOiBbJ29uZScsICd0d28nLCAndGhyZWUnLCAnZm91cicsICdmaXZlJ11cbn0pXG5cbi5jb250cm9sbGVyKCdSYXRpbmdDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ3JhdGluZ0NvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCByYXRpbmdDb25maWcpIHtcbiAgdmFyIG5nTW9kZWxDdHJsICA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH07XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHRoaXMucmVuZGVyO1xuXG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlIDw8IDAgIT09IHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlT24gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPbikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPbikgOiByYXRpbmdDb25maWcuc3RhdGVPbjtcbiAgICB0aGlzLnN0YXRlT2ZmID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT2ZmKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9mZikgOiByYXRpbmdDb25maWcuc3RhdGVPZmY7XG4gICAgdmFyIHRtcFRpdGxlcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy50aXRsZXMpICA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy50aXRsZXMpIDogcmF0aW5nQ29uZmlnLnRpdGxlcyA7ICAgIFxuICAgIHRoaXMudGl0bGVzID0gYW5ndWxhci5pc0FycmF5KHRtcFRpdGxlcykgJiYgdG1wVGl0bGVzLmxlbmd0aCA+IDAgP1xuICAgICAgdG1wVGl0bGVzIDogcmF0aW5nQ29uZmlnLnRpdGxlcztcbiAgICBcbiAgICB2YXIgcmF0aW5nU3RhdGVzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJhdGluZ1N0YXRlcykgP1xuICAgICAgJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJhdGluZ1N0YXRlcykgOlxuICAgICAgbmV3IEFycmF5KGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1heCkgOiByYXRpbmdDb25maWcubWF4KTtcbiAgICAkc2NvcGUucmFuZ2UgPSB0aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzKHJhdGluZ1N0YXRlcyk7XG4gIH07XG5cbiAgdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyA9IGZ1bmN0aW9uKHN0YXRlcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBuID0gc3RhdGVzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgc3RhdGVzW2ldID0gYW5ndWxhci5leHRlbmQoeyBpbmRleDogaSB9LCB7IHN0YXRlT246IHRoaXMuc3RhdGVPbiwgc3RhdGVPZmY6IHRoaXMuc3RhdGVPZmYsIHRpdGxlOiB0aGlzLmdldFRpdGxlKGkpIH0sIHN0YXRlc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZXM7XG4gIH07XG4gIFxuICB0aGlzLmdldFRpdGxlID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPj0gdGhpcy50aXRsZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy50aXRsZXNbaW5kZXhdO1xuICAgIH1cbiAgfTtcbiAgXG4gICRzY29wZS5yYXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoISRzY29wZS5yZWFkb25seSAmJiB2YWx1ZSA+PSAwICYmIHZhbHVlIDw9ICRzY29wZS5yYW5nZS5sZW5ndGgpIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA9PT0gdmFsdWUgPyAwIDogdmFsdWUpO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZW50ZXIgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghJHNjb3BlLnJlYWRvbmx5KSB7XG4gICAgICAkc2NvcGUudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgJHNjb3BlLm9uSG92ZXIoe3ZhbHVlOiB2YWx1ZX0pO1xuICB9O1xuXG4gICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS52YWx1ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gICAgJHNjb3BlLm9uTGVhdmUoKTtcbiAgfTtcblxuICAkc2NvcGUub25LZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgaWYgKC8oMzd8Mzh8Mzl8NDApLy50ZXN0KGV2dC53aGljaCkpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgJHNjb3BlLnJhdGUoJHNjb3BlLnZhbHVlICsgKGV2dC53aGljaCA9PT0gMzggfHwgZXZ0LndoaWNoID09PSAzOSA/IDEgOiAtMSkpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS52YWx1ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgncmF0aW5nJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVxdWlyZTogWydyYXRpbmcnLCAnbmdNb2RlbCddLFxuICAgIHNjb3BlOiB7XG4gICAgICByZWFkb25seTogJz0/JyxcbiAgICAgIG9uSG92ZXI6ICcmJyxcbiAgICAgIG9uTGVhdmU6ICcmJ1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogJ1JhdGluZ0NvbnRyb2xsZXInLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciByYXRpbmdDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG4gICAgICByYXRpbmdDdHJsLmluaXQoIG5nTW9kZWxDdHJsICk7XG4gICAgfVxuICB9O1xufSk7XG5cblxuLyoqXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbmd1bGFySlMgdmVyc2lvbiBvZiB0aGUgdGFicyBkaXJlY3RpdmUuXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50YWJzJywgW10pXG5cbi5jb250cm9sbGVyKCdUYWJzZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbiBUYWJzZXRDdHJsKCRzY29wZSkge1xuICB2YXIgY3RybCA9IHRoaXMsXG4gICAgICB0YWJzID0gY3RybC50YWJzID0gJHNjb3BlLnRhYnMgPSBbXTtcblxuICBjdHJsLnNlbGVjdCA9IGZ1bmN0aW9uKHNlbGVjdGVkVGFiKSB7XG4gICAgYW5ndWxhci5mb3JFYWNoKHRhYnMsIGZ1bmN0aW9uKHRhYikge1xuICAgICAgaWYgKHRhYi5hY3RpdmUgJiYgdGFiICE9PSBzZWxlY3RlZFRhYikge1xuICAgICAgICB0YWIuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRhYi5vbkRlc2VsZWN0KCk7XG4gICAgICAgIHNlbGVjdGVkVGFiLnNlbGVjdENhbGxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNlbGVjdGVkVGFiLmFjdGl2ZSA9IHRydWU7XG4gICAgLy8gb25seSBjYWxsIHNlbGVjdCBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBjYWxsZWRcbiAgICBpZiAoIXNlbGVjdGVkVGFiLnNlbGVjdENhbGxlZCkge1xuICAgICAgc2VsZWN0ZWRUYWIub25TZWxlY3QoKTtcbiAgICAgIHNlbGVjdGVkVGFiLnNlbGVjdENhbGxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIGN0cmwuYWRkVGFiID0gZnVuY3Rpb24gYWRkVGFiKHRhYikge1xuICAgIHRhYnMucHVzaCh0YWIpO1xuICAgIC8vIHdlIGNhbid0IHJ1biB0aGUgc2VsZWN0IGZ1bmN0aW9uIG9uIHRoZSBmaXJzdCB0YWJcbiAgICAvLyBzaW5jZSB0aGF0IHdvdWxkIHNlbGVjdCBpdCB0d2ljZVxuICAgIGlmICh0YWJzLmxlbmd0aCA9PT0gMSAmJiB0YWIuYWN0aXZlICE9PSBmYWxzZSkge1xuICAgICAgdGFiLmFjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0YWIuYWN0aXZlKSB7XG4gICAgICBjdHJsLnNlbGVjdCh0YWIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWIuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIGN0cmwucmVtb3ZlVGFiID0gZnVuY3Rpb24gcmVtb3ZlVGFiKHRhYikge1xuICAgIHZhciBpbmRleCA9IHRhYnMuaW5kZXhPZih0YWIpO1xuICAgIC8vU2VsZWN0IGEgbmV3IHRhYiBpZiB0aGUgdGFiIHRvIGJlIHJlbW92ZWQgaXMgc2VsZWN0ZWQgYW5kIG5vdCBkZXN0cm95ZWRcbiAgICBpZiAodGFiLmFjdGl2ZSAmJiB0YWJzLmxlbmd0aCA+IDEgJiYgIWRlc3Ryb3llZCkge1xuICAgICAgLy9JZiB0aGlzIGlzIHRoZSBsYXN0IHRhYiwgc2VsZWN0IHRoZSBwcmV2aW91cyB0YWIuIGVsc2UsIHRoZSBuZXh0IHRhYi5cbiAgICAgIHZhciBuZXdBY3RpdmVJbmRleCA9IGluZGV4ID09IHRhYnMubGVuZ3RoIC0gMSA/IGluZGV4IC0gMSA6IGluZGV4ICsgMTtcbiAgICAgIGN0cmwuc2VsZWN0KHRhYnNbbmV3QWN0aXZlSW5kZXhdKTtcbiAgICB9XG4gICAgdGFicy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9O1xuXG4gIHZhciBkZXN0cm95ZWQ7XG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSk7XG59XSlcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFic2V0XG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRhYnNldCBpcyB0aGUgb3V0ZXIgY29udGFpbmVyIGZvciB0aGUgdGFicyBkaXJlY3RpdmVcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB2ZXJ0aWNhbCBXaGV0aGVyIG9yIG5vdCB0byB1c2UgdmVydGljYWwgc3R5bGluZyBmb3IgdGhlIHRhYnMuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBqdXN0aWZpZWQgV2hldGhlciBvciBub3QgdG8gdXNlIGp1c3RpZmllZCBzdHlsaW5nIGZvciB0aGUgdGFicy5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPHRhYnNldD5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAxXCI+PGI+Rmlyc3Q8L2I+IENvbnRlbnQhPC90YWI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMlwiPjxpPlNlY29uZDwvaT4gQ29udGVudCE8L3RhYj5cbiAgICA8L3RhYnNldD5cbiAgICA8aHIgLz5cbiAgICA8dGFic2V0IHZlcnRpY2FsPVwidHJ1ZVwiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVmVydGljYWwgVGFiIDFcIj48Yj5GaXJzdDwvYj4gVmVydGljYWwgQ29udGVudCE8L3RhYj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlZlcnRpY2FsIFRhYiAyXCI+PGk+U2Vjb25kPC9pPiBWZXJ0aWNhbCBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICAgIDx0YWJzZXQganVzdGlmaWVkPVwidHJ1ZVwiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiSnVzdGlmaWVkIFRhYiAxXCI+PGI+Rmlyc3Q8L2I+IEp1c3RpZmllZCBDb250ZW50ITwvdGFiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiSnVzdGlmaWVkIFRhYiAyXCI+PGk+U2Vjb25kPC9pPiBKdXN0aWZpZWQgQ29udGVudCE8L3RhYj5cbiAgICA8L3RhYnNldD5cbiAgPC9maWxlPlxuPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCd0YWJzZXQnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIHR5cGU6ICdAJ1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogJ1RhYnNldENvbnRyb2xsZXInLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBzY29wZS52ZXJ0aWNhbCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnZlcnRpY2FsKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMudmVydGljYWwpIDogZmFsc2U7XG4gICAgICBzY29wZS5qdXN0aWZpZWQgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5qdXN0aWZpZWQpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5qdXN0aWZpZWQpIDogZmFsc2U7XG4gICAgfVxuICB9O1xufSlcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IGhlYWRpbmcgVGhlIHZpc2libGUgaGVhZGluZywgb3IgdGl0bGUsIG9mIHRoZSB0YWIuIFNldCBIVE1MIGhlYWRpbmdzIHdpdGgge0BsaW5rIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJIZWFkaW5nIHRhYkhlYWRpbmd9LlxuICogQHBhcmFtIHtzdHJpbmc9fSBzZWxlY3QgQW4gZXhwcmVzc2lvbiB0byBldmFsdWF0ZSB3aGVuIHRoZSB0YWIgaXMgc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBhY3RpdmUgQSBiaW5kaW5nLCB0ZWxsaW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgdGFiIGlzIHNlbGVjdGVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gZGlzYWJsZWQgQSBiaW5kaW5nLCB0ZWxsaW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgdGFiIGlzIGRpc2FibGVkLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIHRhYiB3aXRoIGEgaGVhZGluZyBhbmQgY29udGVudC4gTXVzdCBiZSBwbGFjZWQgd2l0aGluIGEge0BsaW5rIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJzZXQgdGFic2V0fS5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVGFic0RlbW9DdHJsXCI+XG4gICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbWFsbFwiIG5nLWNsaWNrPVwiaXRlbXNbMF0uYWN0aXZlID0gdHJ1ZVwiPlxuICAgICAgICBTZWxlY3QgaXRlbSAxLCB1c2luZyBhY3RpdmUgYmluZGluZ1xuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbWFsbFwiIG5nLWNsaWNrPVwiaXRlbXNbMV0uZGlzYWJsZWQgPSAhaXRlbXNbMV0uZGlzYWJsZWRcIj5cbiAgICAgICAgRW5hYmxlL2Rpc2FibGUgaXRlbSAyLCB1c2luZyBkaXNhYmxlZCBiaW5kaW5nXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxiciAvPlxuICAgICAgPHRhYnNldD5cbiAgICAgICAgPHRhYiBoZWFkaW5nPVwiVGFiIDFcIj5GaXJzdCBUYWI8L3RhYj5cbiAgICAgICAgPHRhYiBzZWxlY3Q9XCJhbGVydE1lKClcIj5cbiAgICAgICAgICA8dGFiLWhlYWRpbmc+PGkgY2xhc3M9XCJpY29uLWJlbGxcIj48L2k+IEFsZXJ0IG1lITwvdGFiLWhlYWRpbmc+XG4gICAgICAgICAgU2Vjb25kIFRhYiwgd2l0aCBhbGVydCBjYWxsYmFjayBhbmQgaHRtbCBoZWFkaW5nIVxuICAgICAgICA8L3RhYj5cbiAgICAgICAgPHRhYiBuZy1yZXBlYXQ9XCJpdGVtIGluIGl0ZW1zXCJcbiAgICAgICAgICBoZWFkaW5nPVwie3tpdGVtLnRpdGxlfX1cIlxuICAgICAgICAgIGRpc2FibGVkPVwiaXRlbS5kaXNhYmxlZFwiXG4gICAgICAgICAgYWN0aXZlPVwiaXRlbS5hY3RpdmVcIj5cbiAgICAgICAgICB7e2l0ZW0uY29udGVudH19XG4gICAgICAgIDwvdGFiPlxuICAgICAgPC90YWJzZXQ+XG4gICAgPC9kaXY+XG4gIDwvZmlsZT5cbiAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgIGZ1bmN0aW9uIFRhYnNEZW1vQ3RybCgkc2NvcGUpIHtcbiAgICAgICRzY29wZS5pdGVtcyA9IFtcbiAgICAgICAgeyB0aXRsZTpcIkR5bmFtaWMgVGl0bGUgMVwiLCBjb250ZW50OlwiRHluYW1pYyBJdGVtIDBcIiB9LFxuICAgICAgICB7IHRpdGxlOlwiRHluYW1pYyBUaXRsZSAyXCIsIGNvbnRlbnQ6XCJEeW5hbWljIEl0ZW0gMVwiLCBkaXNhYmxlZDogdHJ1ZSB9XG4gICAgICBdO1xuXG4gICAgICAkc2NvcGUuYWxlcnRNZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGFsZXJ0KFwiWW91J3ZlIHNlbGVjdGVkIHRoZSBhbGVydCB0YWIhXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfTtcbiAgPC9maWxlPlxuPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYkhlYWRpbmdcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhbiBIVE1MIGhlYWRpbmcgZm9yIGEge0BsaW5rIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWIgdGFifS4gTXVzdCBiZSBwbGFjZWQgYXMgYSBjaGlsZCBvZiBhIHRhYiBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8dGFic2V0PlxuICAgICAgPHRhYj5cbiAgICAgICAgPHRhYi1oZWFkaW5nPjxiPkhUTUw8L2I+IGluIG15IHRpdGxlcz8hPC90YWItaGVhZGluZz5cbiAgICAgICAgQW5kIHNvbWUgY29udGVudCwgdG9vIVxuICAgICAgPC90YWI+XG4gICAgICA8dGFiPlxuICAgICAgICA8dGFiLWhlYWRpbmc+PGkgY2xhc3M9XCJpY29uLWhlYXJ0XCI+PC9pPiBJY29uIGhlYWRpbmc/IT88L3RhYi1oZWFkaW5nPlxuICAgICAgICBUaGF0J3MgcmlnaHQuXG4gICAgICA8L3RhYj5cbiAgICA8L3RhYnNldD5cbiAgPC9maWxlPlxuPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCd0YWInLCBbJyRwYXJzZScsICckbG9nJywgZnVuY3Rpb24oJHBhcnNlLCAkbG9nKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ150YWJzZXQnLFxuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90YWJzL3RhYi5odG1sJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICBhY3RpdmU6ICc9PycsXG4gICAgICBoZWFkaW5nOiAnQCcsXG4gICAgICBvblNlbGVjdDogJyZzZWxlY3QnLCAvL1RoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIGluIGNvbnRlbnRIZWFkaW5nVHJhbnNjbHVkZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvL29uY2UgaXQgaW5zZXJ0cyB0aGUgdGFiJ3MgY29udGVudCBpbnRvIHRoZSBkb21cbiAgICAgIG9uRGVzZWxlY3Q6ICcmZGVzZWxlY3QnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vRW1wdHkgY29udHJvbGxlciBzbyBvdGhlciBkaXJlY3RpdmVzIGNhbiByZXF1aXJlIGJlaW5nICd1bmRlcicgYSB0YWJcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzLCB0YWJzZXRDdHJsLCB0cmFuc2NsdWRlKSB7XG4gICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZScsIGZ1bmN0aW9uKGFjdGl2ZSkge1xuICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgdGFic2V0Q3RybC5zZWxlY3Qoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIGlmIChhdHRycy5kaXNhYmxlKSB7XG4gICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5kaXNhYmxlKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kaXNhYmxlZCA9ICEhIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVwcmVjYXRpb24gc3VwcG9ydCBvZiBcImRpc2FibGVkXCIgcGFyYW1ldGVyXG4gICAgICAvLyBmaXgodGFiKTogSUU5IGRpc2FibGVkIGF0dHIgcmVuZGVycyBncmV5IHRleHQgb24gZW5hYmxlZCB0YWIgIzI2NzdcbiAgICAgIC8vIFRoaXMgY29kZSBpcyBkdXBsaWNhdGVkIGZyb20gdGhlIGxpbmVzIGFib3ZlIHRvIG1ha2UgaXQgZWFzeSB0byByZW1vdmUgb25jZVxuICAgICAgLy8gdGhlIGZlYXR1cmUgaGFzIGJlZW4gY29tcGxldGVseSBkZXByZWNhdGVkXG4gICAgICBpZiAoYXR0cnMuZGlzYWJsZWQpIHtcbiAgICAgICAgJGxvZy53YXJuKCdVc2Ugb2YgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFwiZGlzYWJsZVwiJyk7XG4gICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5kaXNhYmxlZCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGlzYWJsZWQgPSAhISB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNjb3BlLmRpc2FibGVkKSB7XG4gICAgICAgICAgc2NvcGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGFic2V0Q3RybC5hZGRUYWIoc2NvcGUpO1xuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICB0YWJzZXRDdHJsLnJlbW92ZVRhYihzY29wZSk7XG4gICAgICB9KTtcblxuICAgICAgLy9XZSBuZWVkIHRvIHRyYW5zY2x1ZGUgbGF0ZXIsIG9uY2UgdGhlIGNvbnRlbnQgY29udGFpbmVyIGlzIHJlYWR5LlxuICAgICAgLy93aGVuIHRoaXMgbGluayBoYXBwZW5zLCB3ZSdyZSBpbnNpZGUgYSB0YWIgaGVhZGluZy5cbiAgICAgIHNjb3BlLiR0cmFuc2NsdWRlRm4gPSB0cmFuc2NsdWRlO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0YWJIZWFkaW5nVHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ150YWInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzLCB0YWJDdHJsKSB7XG4gICAgICBzY29wZS4kd2F0Y2goJ2hlYWRpbmdFbGVtZW50JywgZnVuY3Rpb24gdXBkYXRlSGVhZGluZ0VsZW1lbnQoaGVhZGluZykge1xuICAgICAgICBpZiAoaGVhZGluZykge1xuICAgICAgICAgIGVsbS5odG1sKCcnKTtcbiAgICAgICAgICBlbG0uYXBwZW5kKGhlYWRpbmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd0YWJDb250ZW50VHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ150YWJzZXQnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzKSB7XG4gICAgICB2YXIgdGFiID0gc2NvcGUuJGV2YWwoYXR0cnMudGFiQ29udGVudFRyYW5zY2x1ZGUpO1xuXG4gICAgICAvL05vdyBvdXIgdGFiIGlzIHJlYWR5IHRvIGJlIHRyYW5zY2x1ZGVkOiBib3RoIHRoZSB0YWIgaGVhZGluZyBhcmVhXG4gICAgICAvL2FuZCB0aGUgdGFiIGNvbnRlbnQgYXJlYSBhcmUgbG9hZGVkLiAgVHJhbnNjbHVkZSAnZW0gYm90aC5cbiAgICAgIHRhYi4kdHJhbnNjbHVkZUZuKHRhYi4kcGFyZW50LCBmdW5jdGlvbihjb250ZW50cykge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goY29udGVudHMsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICBpZiAoaXNUYWJIZWFkaW5nKG5vZGUpKSB7XG4gICAgICAgICAgICAvL0xldCB0YWJIZWFkaW5nVHJhbnNjbHVkZSBrbm93LlxuICAgICAgICAgICAgdGFiLmhlYWRpbmdFbGVtZW50ID0gbm9kZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxtLmFwcGVuZChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGlzVGFiSGVhZGluZyhub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudGFnTmFtZSAmJiAoXG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgndGFiLWhlYWRpbmcnKSB8fFxuICAgICAgbm9kZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtdGFiLWhlYWRpbmcnKSB8fFxuICAgICAgbm9kZS5oYXNBdHRyaWJ1dGUoJ3gtdGFiLWhlYWRpbmcnKSB8fFxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0YWItaGVhZGluZycgfHxcbiAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZGF0YS10YWItaGVhZGluZycgfHxcbiAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAneC10YWItaGVhZGluZydcbiAgICApO1xuICB9XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50aW1lcGlja2VyJywgW10pXG5cbi5jb25zdGFudCgndGltZXBpY2tlckNvbmZpZycsIHtcbiAgaG91clN0ZXA6IDEsXG4gIG1pbnV0ZVN0ZXA6IDEsXG4gIHNob3dNZXJpZGlhbjogdHJ1ZSxcbiAgbWVyaWRpYW5zOiBudWxsLFxuICByZWFkb25seUlucHV0OiBmYWxzZSxcbiAgbW91c2V3aGVlbDogdHJ1ZSxcbiAgYXJyb3drZXlzOiB0cnVlLFxuICBzaG93U3Bpbm5lcnM6IHRydWVcbn0pXG5cbi5jb250cm9sbGVyKCdUaW1lcGlja2VyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGxvZycsICckbG9jYWxlJywgJ3RpbWVwaWNrZXJDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkbG9nLCAkbG9jYWxlLCB0aW1lcGlja2VyQ29uZmlnKSB7XG4gIHZhciBzZWxlY3RlZCA9IG5ldyBEYXRlKCksXG4gICAgICBuZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH0sIC8vIG51bGxNb2RlbEN0cmxcbiAgICAgIG1lcmlkaWFucyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tZXJpZGlhbnMpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1lcmlkaWFucykgOiB0aW1lcGlja2VyQ29uZmlnLm1lcmlkaWFucyB8fCAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVM7XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfLCBpbnB1dHMpIHtcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gdGhpcy5yZW5kZXI7XG5cbiAgICBuZ01vZGVsQ3RybC4kZm9ybWF0dGVycy51bnNoaWZ0KGZ1bmN0aW9uKG1vZGVsVmFsdWUpIHtcbiAgICAgIHJldHVybiBtb2RlbFZhbHVlID8gbmV3IERhdGUobW9kZWxWYWx1ZSkgOiBudWxsO1xuICAgIH0pO1xuXG4gICAgdmFyIGhvdXJzSW5wdXRFbCA9IGlucHV0cy5lcSgwKSxcbiAgICAgICAgbWludXRlc0lucHV0RWwgPSBpbnB1dHMuZXEoMSk7XG5cbiAgICB2YXIgbW91c2V3aGVlbCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tb3VzZXdoZWVsKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tb3VzZXdoZWVsKSA6IHRpbWVwaWNrZXJDb25maWcubW91c2V3aGVlbDtcbiAgICBpZiAobW91c2V3aGVlbCkge1xuICAgICAgdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMoaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCk7XG4gICAgfVxuXG4gICAgdmFyIGFycm93a2V5cyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hcnJvd2tleXMpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmFycm93a2V5cykgOiB0aW1lcGlja2VyQ29uZmlnLmFycm93a2V5cztcbiAgICBpZiAoYXJyb3drZXlzKSB7XG4gICAgICB0aGlzLnNldHVwQXJyb3drZXlFdmVudHMoaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnJlYWRvbmx5SW5wdXQgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmVhZG9ubHlJbnB1dCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmVhZG9ubHlJbnB1dCkgOiB0aW1lcGlja2VyQ29uZmlnLnJlYWRvbmx5SW5wdXQ7XG4gICAgdGhpcy5zZXR1cElucHV0RXZlbnRzKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpO1xuICB9O1xuXG4gIHZhciBob3VyU3RlcCA9IHRpbWVwaWNrZXJDb25maWcuaG91clN0ZXA7XG4gIGlmICgkYXR0cnMuaG91clN0ZXApIHtcbiAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5ob3VyU3RlcCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBob3VyU3RlcCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWludXRlU3RlcCA9IHRpbWVwaWNrZXJDb25maWcubWludXRlU3RlcDtcbiAgaWYgKCRhdHRycy5taW51dGVTdGVwKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWludXRlU3RlcCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBtaW51dGVTdGVwID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBtaW47XG4gICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbiksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGR0ID0gbmV3IERhdGUodmFsdWUpO1xuICAgIG1pbiA9IGlzTmFOKGR0KSA/IHVuZGVmaW5lZCA6IGR0O1xuICB9KTtcblxuICB2YXIgbWF4O1xuICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5tYXgpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciBkdCA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICBtYXggPSBpc05hTihkdCkgPyB1bmRlZmluZWQgOiBkdDtcbiAgfSk7XG5cbiAgJHNjb3BlLm5vSW5jcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5jcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIGhvdXJTdGVwICogNjApO1xuICAgIHJldHVybiBpbmNyZW1lbnRlZFNlbGVjdGVkID4gbWF4IHx8XG4gICAgICAoaW5jcmVtZW50ZWRTZWxlY3RlZCA8IHNlbGVjdGVkICYmIGluY3JlbWVudGVkU2VsZWN0ZWQgPCBtaW4pO1xuICB9O1xuXG4gICRzY29wZS5ub0RlY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRlY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCAtaG91clN0ZXAgKiA2MCk7XG4gICAgcmV0dXJuIGRlY3JlbWVudGVkU2VsZWN0ZWQgPCBtaW4gfHxcbiAgICAgIChkZWNyZW1lbnRlZFNlbGVjdGVkID4gc2VsZWN0ZWQgJiYgZGVjcmVtZW50ZWRTZWxlY3RlZCA+IG1heCk7XG4gIH07XG5cbiAgJHNjb3BlLm5vSW5jcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbmNyZW1lbnRlZFNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgbWludXRlU3RlcCk7XG4gICAgcmV0dXJuIGluY3JlbWVudGVkU2VsZWN0ZWQgPiBtYXggfHxcbiAgICAgIChpbmNyZW1lbnRlZFNlbGVjdGVkIDwgc2VsZWN0ZWQgJiYgaW5jcmVtZW50ZWRTZWxlY3RlZCA8IG1pbik7XG4gIH07XG5cbiAgJHNjb3BlLm5vRGVjcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkZWNyZW1lbnRlZFNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgLW1pbnV0ZVN0ZXApO1xuICAgIHJldHVybiBkZWNyZW1lbnRlZFNlbGVjdGVkIDwgbWluIHx8XG4gICAgICAoZGVjcmVtZW50ZWRTZWxlY3RlZCA+IHNlbGVjdGVkICYmIGRlY3JlbWVudGVkU2VsZWN0ZWQgPiBtYXgpO1xuICB9O1xuXG4gICRzY29wZS5ub1RvZ2dsZU1lcmlkaWFuID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMykge1xuICAgICAgcmV0dXJuIGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIDEyICogNjApID4gbWF4O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYWRkTWludXRlcyhzZWxlY3RlZCwgLTEyICogNjApIDwgbWluO1xuICAgIH1cbiAgfTtcblxuICAvLyAxMkggLyAyNEggbW9kZVxuICAkc2NvcGUuc2hvd01lcmlkaWFuID0gdGltZXBpY2tlckNvbmZpZy5zaG93TWVyaWRpYW47XG4gIGlmICgkYXR0cnMuc2hvd01lcmlkaWFuKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuc2hvd01lcmlkaWFuKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICRzY29wZS5zaG93TWVyaWRpYW4gPSAhIXZhbHVlO1xuXG4gICAgICBpZiAobmdNb2RlbEN0cmwuJGVycm9yLnRpbWUpIHtcbiAgICAgICAgLy8gRXZhbHVhdGUgZnJvbSB0ZW1wbGF0ZVxuICAgICAgICB2YXIgaG91cnMgPSBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpLCBtaW51dGVzID0gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpO1xuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaG91cnMpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpKSB7XG4gICAgICAgICAgc2VsZWN0ZWQuc2V0SG91cnMoaG91cnMpO1xuICAgICAgICAgIHJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlVGVtcGxhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIEdldCAkc2NvcGUuaG91cnMgaW4gMjRIIG1vZGUgaWYgdmFsaWRcbiAgZnVuY3Rpb24gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSB7XG4gICAgdmFyIGhvdXJzID0gcGFyc2VJbnQoJHNjb3BlLmhvdXJzLCAxMCk7XG4gICAgdmFyIHZhbGlkID0gJHNjb3BlLnNob3dNZXJpZGlhbiA/IChob3VycyA+IDAgJiYgaG91cnMgPCAxMykgOiAoaG91cnMgPj0gMCAmJiBob3VycyA8IDI0KTtcbiAgICBpZiAoIXZhbGlkKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICgkc2NvcGUuc2hvd01lcmlkaWFuKSB7XG4gICAgICBpZiAoaG91cnMgPT09IDEyKSB7XG4gICAgICAgIGhvdXJzID0gMDtcbiAgICAgIH1cbiAgICAgIGlmICgkc2NvcGUubWVyaWRpYW4gPT09IG1lcmlkaWFuc1sxXSkge1xuICAgICAgICBob3VycyA9IGhvdXJzICsgMTI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBob3VycztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKSB7XG4gICAgdmFyIG1pbnV0ZXMgPSBwYXJzZUludCgkc2NvcGUubWludXRlcywgMTApO1xuICAgIHJldHVybiAobWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPCA2MCkgPyBtaW51dGVzIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFkKHZhbHVlKSB7XG4gICAgcmV0dXJuIChhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkgJiYgdmFsdWUudG9TdHJpbmcoKS5sZW5ndGggPCAyKSA/ICcwJyArIHZhbHVlIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8vIFJlc3BvbmQgb24gbW91c2V3aGVlbCBzcGluXG4gIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzID0gZnVuY3Rpb24oaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCkge1xuICAgIHZhciBpc1Njcm9sbGluZ1VwID0gZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUub3JpZ2luYWxFdmVudCkge1xuICAgICAgICBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICAgICAgfVxuICAgICAgLy9waWNrIGNvcnJlY3QgZGVsdGEgdmFyaWFibGUgZGVwZW5kaW5nIG9uIGV2ZW50XG4gICAgICB2YXIgZGVsdGEgPSAoZS53aGVlbERlbHRhKSA/IGUud2hlZWxEZWx0YSA6IC1lLmRlbHRhWTtcbiAgICAgIHJldHVybiAoZS5kZXRhaWwgfHwgZGVsdGEgPiAwKTtcbiAgICB9O1xuXG4gICAgaG91cnNJbnB1dEVsLmJpbmQoJ21vdXNld2hlZWwgd2hlZWwnLCBmdW5jdGlvbihlKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KGlzU2Nyb2xsaW5nVXAoZSkgPyAkc2NvcGUuaW5jcmVtZW50SG91cnMoKSA6ICRzY29wZS5kZWNyZW1lbnRIb3VycygpKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ21vdXNld2hlZWwgd2hlZWwnLCBmdW5jdGlvbihlKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KGlzU2Nyb2xsaW5nVXAoZSkgPyAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpIDogJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKSk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgfTtcblxuICAvLyBSZXNwb25kIG9uIHVwL2Rvd24gYXJyb3drZXlzXG4gIHRoaXMuc2V0dXBBcnJvd2tleUV2ZW50cyA9IGZ1bmN0aW9uKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpIHtcbiAgICBob3Vyc0lucHV0RWwuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLndoaWNoID09PSAzOCkgeyAvLyB1cFxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRzY29wZS5pbmNyZW1lbnRIb3VycygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT09IDQwKSB7IC8vIGRvd25cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuZGVjcmVtZW50SG91cnMoKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLndoaWNoID09PSAzOCkgeyAvLyB1cFxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRzY29wZS5pbmNyZW1lbnRNaW51dGVzKCk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PT0gNDApIHsgLy8gZG93blxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRzY29wZS5kZWNyZW1lbnRNaW51dGVzKCk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLnNldHVwSW5wdXRFdmVudHMgPSBmdW5jdGlvbihob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKSB7XG4gICAgaWYgKCRzY29wZS5yZWFkb25seUlucHV0KSB7XG4gICAgICAkc2NvcGUudXBkYXRlSG91cnMgPSBhbmd1bGFyLm5vb3A7XG4gICAgICAkc2NvcGUudXBkYXRlTWludXRlcyA9IGFuZ3VsYXIubm9vcDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaW52YWxpZGF0ZSA9IGZ1bmN0aW9uKGludmFsaWRIb3VycywgaW52YWxpZE1pbnV0ZXMpIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobnVsbCk7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaW52YWxpZEhvdXJzKSkge1xuICAgICAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gaW52YWxpZEhvdXJzO1xuICAgICAgfVxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRNaW51dGVzKSkge1xuICAgICAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSBpbnZhbGlkTWludXRlcztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLnVwZGF0ZUhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaG91cnMgPSBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpLFxuICAgICAgICBtaW51dGVzID0gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpO1xuXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaG91cnMpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpKSB7XG4gICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKGhvdXJzKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkIDwgbWluIHx8IHNlbGVjdGVkID4gbWF4KSB7XG4gICAgICAgICAgaW52YWxpZGF0ZSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZyZXNoKCdoJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGhvdXJzSW5wdXRFbC5iaW5kKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCEkc2NvcGUuaW52YWxpZEhvdXJzICYmICRzY29wZS5ob3VycyA8IDEwKSB7XG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmhvdXJzID0gcGFkKCRzY29wZS5ob3Vycyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLnVwZGF0ZU1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtaW51dGVzID0gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpLFxuICAgICAgICBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCk7XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChob3VycykpIHtcbiAgICAgICAgc2VsZWN0ZWQuc2V0TWludXRlcyhtaW51dGVzKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkIDwgbWluIHx8IHNlbGVjdGVkID4gbWF4KSB7XG4gICAgICAgICAgaW52YWxpZGF0ZSh1bmRlZmluZWQsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnJlc2goJ20nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52YWxpZGF0ZSh1bmRlZmluZWQsIHRydWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCEkc2NvcGUuaW52YWxpZE1pbnV0ZXMgJiYgJHNjb3BlLm1pbnV0ZXMgPCAxMCkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5taW51dGVzID0gcGFkKCRzY29wZS5taW51dGVzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcblxuICAgIGlmIChpc05hTihkYXRlKSkge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgJGxvZy5lcnJvcignVGltZXBpY2tlciBkaXJlY3RpdmU6IFwibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgIHNlbGVjdGVkID0gZGF0ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGVjdGVkIDwgbWluIHx8IHNlbGVjdGVkID4gbWF4KSB7XG4gICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcbiAgICAgICAgJHNjb3BlLmludmFsaWRIb3VycyA9IHRydWU7XG4gICAgICAgICRzY29wZS5pbnZhbGlkTWludXRlcyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYWtlVmFsaWQoKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENhbGwgaW50ZXJuYWxseSB3aGVuIHdlIGtub3cgdGhhdCBtb2RlbCBpcyB2YWxpZC5cbiAgZnVuY3Rpb24gcmVmcmVzaChrZXlib2FyZENoYW5nZSkge1xuICAgIG1ha2VWYWxpZCgpO1xuICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobmV3IERhdGUoc2VsZWN0ZWQpKTtcbiAgICB1cGRhdGVUZW1wbGF0ZShrZXlib2FyZENoYW5nZSk7XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlVmFsaWQoKSB7XG4gICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgdHJ1ZSk7XG4gICAgJHNjb3BlLmludmFsaWRIb3VycyA9IGZhbHNlO1xuICAgICRzY29wZS5pbnZhbGlkTWludXRlcyA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVGVtcGxhdGUoa2V5Ym9hcmRDaGFuZ2UpIHtcbiAgICB2YXIgaG91cnMgPSBzZWxlY3RlZC5nZXRIb3VycygpLCBtaW51dGVzID0gc2VsZWN0ZWQuZ2V0TWludXRlcygpO1xuXG4gICAgaWYgKCRzY29wZS5zaG93TWVyaWRpYW4pIHtcbiAgICAgIGhvdXJzID0gKGhvdXJzID09PSAwIHx8IGhvdXJzID09PSAxMikgPyAxMiA6IGhvdXJzICUgMTI7IC8vIENvbnZlcnQgMjQgdG8gMTIgaG91ciBzeXN0ZW1cbiAgICB9XG5cbiAgICAkc2NvcGUuaG91cnMgPSBrZXlib2FyZENoYW5nZSA9PT0gJ2gnID8gaG91cnMgOiBwYWQoaG91cnMpO1xuICAgIGlmIChrZXlib2FyZENoYW5nZSAhPT0gJ20nKSB7XG4gICAgICAkc2NvcGUubWludXRlcyA9IHBhZChtaW51dGVzKTtcbiAgICB9XG4gICAgJHNjb3BlLm1lcmlkaWFuID0gc2VsZWN0ZWQuZ2V0SG91cnMoKSA8IDEyID8gbWVyaWRpYW5zWzBdIDogbWVyaWRpYW5zWzFdO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkTWludXRlcyhkYXRlLCBtaW51dGVzKSB7XG4gICAgdmFyIGR0ID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyBtaW51dGVzICogNjAwMDApO1xuICAgIHZhciBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgbmV3RGF0ZS5zZXRIb3VycyhkdC5nZXRIb3VycygpLCBkdC5nZXRNaW51dGVzKCkpO1xuICAgIHJldHVybiBuZXdEYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkTWludXRlc1RvU2VsZWN0ZWQobWludXRlcykge1xuICAgIHNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgbWludXRlcyk7XG4gICAgcmVmcmVzaCgpO1xuICB9XG5cbiAgJHNjb3BlLnNob3dTcGlubmVycyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zaG93U3Bpbm5lcnMpID9cbiAgICAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc2hvd1NwaW5uZXJzKSA6IHRpbWVwaWNrZXJDb25maWcuc2hvd1NwaW5uZXJzO1xuXG4gICRzY29wZS5pbmNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vSW5jcmVtZW50SG91cnMoKSkge1xuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQoaG91clN0ZXAgKiA2MCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5kZWNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vRGVjcmVtZW50SG91cnMoKSkge1xuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQoLWhvdXJTdGVwICogNjApO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuaW5jcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vSW5jcmVtZW50TWludXRlcygpKSB7XG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZChtaW51dGVTdGVwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0RlY3JlbWVudE1pbnV0ZXMoKSkge1xuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQoLW1pbnV0ZVN0ZXApO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUudG9nZ2xlTWVyaWRpYW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub1RvZ2dsZU1lcmlkaWFuKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKDEyICogNjAgKiAoc2VsZWN0ZWQuZ2V0SG91cnMoKSA8IDEyID8gMSA6IC0xKSk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3RpbWVwaWNrZXInLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXF1aXJlOiBbJ3RpbWVwaWNrZXInLCAnP15uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjonVGltZXBpY2tlckNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ3RpbWVwaWNrZXInLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHt9LFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCc7XG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgdGltZXBpY2tlckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgaWYgKG5nTW9kZWxDdHJsKSB7XG4gICAgICAgIHRpbWVwaWNrZXJDdHJsLmluaXQobmdNb2RlbEN0cmwsIGVsZW1lbnQuZmluZCgnaW5wdXQnKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudHJhbnNpdGlvbicsIFtdKVxuXG4udmFsdWUoJyR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkJywgZmFsc2UpXG4vKipcbiAqICR0cmFuc2l0aW9uIHNlcnZpY2UgcHJvdmlkZXMgYSBjb25zaXN0ZW50IGludGVyZmFjZSB0byB0cmlnZ2VyIENTUyAzIHRyYW5zaXRpb25zIGFuZCB0byBiZSBpbmZvcm1lZCB3aGVuIHRoZXkgY29tcGxldGUuXG4gKiBAcGFyYW0gIHtET01FbGVtZW50fSBlbGVtZW50ICBUaGUgRE9NRWxlbWVudCB0aGF0IHdpbGwgYmUgYW5pbWF0ZWQuXG4gKiBAcGFyYW0gIHtzdHJpbmd8b2JqZWN0fGZ1bmN0aW9ufSB0cmlnZ2VyICBUaGUgdGhpbmcgdGhhdCB3aWxsIGNhdXNlIHRoZSB0cmFuc2l0aW9uIHRvIHN0YXJ0OlxuICogICAtIEFzIGEgc3RyaW5nLCBpdCByZXByZXNlbnRzIHRoZSBjc3MgY2xhc3MgdG8gYmUgYWRkZWQgdG8gdGhlIGVsZW1lbnQuXG4gKiAgIC0gQXMgYW4gb2JqZWN0LCBpdCByZXByZXNlbnRzIGEgaGFzaCBvZiBzdHlsZSBhdHRyaWJ1dGVzIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXG4gKiAgIC0gQXMgYSBmdW5jdGlvbiwgaXQgcmVwcmVzZW50cyBhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB0aGF0IHdpbGwgY2F1c2UgdGhlIHRyYW5zaXRpb24gdG8gb2NjdXIuXG4gKiBAcmV0dXJuIHtQcm9taXNlfSAgQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgdHJhbnNpdGlvbiBmaW5pc2hlcy5cbiAqL1xuLmZhY3RvcnkoJyR0cmFuc2l0aW9uJywgW1xuICAgICAgICAnJHEnLCAnJHRpbWVvdXQnLCAnJHJvb3RTY29wZScsICckbG9nJywgJyR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkJyxcbmZ1bmN0aW9uKCRxICwgICR0aW1lb3V0ICwgICRyb290U2NvcGUgLCAgJGxvZyAsICAkdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCkge1xuXG4gIGlmICghJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICAkbG9nLndhcm4oJyR0cmFuc2l0aW9uIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgJGFuaW1hdGUgZnJvbSBuZ0FuaW1hdGUgaW5zdGVhZC4nKTtcbiAgfVxuXG4gIHZhciAkdHJhbnNpdGlvbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIHRyaWdnZXIsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgIHZhciBlbmRFdmVudE5hbWUgPSAkdHJhbnNpdGlvbltvcHRpb25zLmFuaW1hdGlvbiA/ICdhbmltYXRpb25FbmRFdmVudE5hbWUnIDogJ3RyYW5zaXRpb25FbmRFdmVudE5hbWUnXTtcblxuICAgIHZhciB0cmFuc2l0aW9uRW5kSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKGVuZEV2ZW50TmFtZSkge1xuICAgICAgZWxlbWVudC5iaW5kKGVuZEV2ZW50TmFtZSwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpO1xuICAgIH1cblxuICAgIC8vIFdyYXAgaW4gYSB0aW1lb3V0IHRvIGFsbG93IHRoZSBicm93c2VyIHRpbWUgdG8gdXBkYXRlIHRoZSBET00gYmVmb3JlIHRoZSB0cmFuc2l0aW9uIGlzIHRvIG9jY3VyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIGFuZ3VsYXIuaXNTdHJpbmcodHJpZ2dlcikgKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3ModHJpZ2dlcik7XG4gICAgICB9IGVsc2UgaWYgKCBhbmd1bGFyLmlzRnVuY3Rpb24odHJpZ2dlcikgKSB7XG4gICAgICAgIHRyaWdnZXIoZWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKCBhbmd1bGFyLmlzT2JqZWN0KHRyaWdnZXIpICkge1xuICAgICAgICBlbGVtZW50LmNzcyh0cmlnZ2VyKTtcbiAgICAgIH1cbiAgICAgIC8vSWYgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRyYW5zaXRpb25zLCBpbnN0YW50bHkgcmVzb2x2ZVxuICAgICAgaWYgKCAhZW5kRXZlbnROYW1lICkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQWRkIG91ciBjdXN0b20gY2FuY2VsIGZ1bmN0aW9uIHRvIHRoZSBwcm9taXNlIHRoYXQgaXMgcmV0dXJuZWRcbiAgICAvLyBXZSBjYW4gY2FsbCB0aGlzIGlmIHdlIGFyZSBhYm91dCB0byBydW4gYSBuZXcgdHJhbnNpdGlvbiwgd2hpY2ggd2Uga25vdyB3aWxsIHByZXZlbnQgdGhpcyB0cmFuc2l0aW9uIGZyb20gZW5kaW5nLFxuICAgIC8vIGkuZS4gaXQgd2lsbCB0aGVyZWZvcmUgbmV2ZXIgcmFpc2UgYSB0cmFuc2l0aW9uRW5kIGV2ZW50IGZvciB0aGF0IHRyYW5zaXRpb25cbiAgICBkZWZlcnJlZC5wcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCBlbmRFdmVudE5hbWUgKSB7XG4gICAgICAgIGVsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpO1xuICAgICAgfVxuICAgICAgZGVmZXJyZWQucmVqZWN0KCdUcmFuc2l0aW9uIGNhbmNlbGxlZCcpO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfTtcblxuICAvLyBXb3JrIG91dCB0aGUgbmFtZSBvZiB0aGUgdHJhbnNpdGlvbkVuZCBldmVudFxuICB2YXIgdHJhbnNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHJhbnMnKTtcbiAgdmFyIHRyYW5zaXRpb25FbmRFdmVudE5hbWVzID0ge1xuICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICdNb3pUcmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLFxuICAgICdPVHJhbnNpdGlvbic6ICdvVHJhbnNpdGlvbkVuZCcsXG4gICAgJ3RyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCdcbiAgfTtcbiAgdmFyIGFuaW1hdGlvbkVuZEV2ZW50TmFtZXMgPSB7XG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0QW5pbWF0aW9uRW5kJyxcbiAgICAnTW96VHJhbnNpdGlvbic6ICdhbmltYXRpb25lbmQnLFxuICAgICdPVHJhbnNpdGlvbic6ICdvQW5pbWF0aW9uRW5kJyxcbiAgICAndHJhbnNpdGlvbic6ICdhbmltYXRpb25lbmQnXG4gIH07XG4gIGZ1bmN0aW9uIGZpbmRFbmRFdmVudE5hbWUoZW5kRXZlbnROYW1lcykge1xuICAgIGZvciAodmFyIG5hbWUgaW4gZW5kRXZlbnROYW1lcyl7XG4gICAgICBpZiAodHJhbnNFbGVtZW50LnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGVuZEV2ZW50TmFtZXNbbmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gICR0cmFuc2l0aW9uLnRyYW5zaXRpb25FbmRFdmVudE5hbWUgPSBmaW5kRW5kRXZlbnROYW1lKHRyYW5zaXRpb25FbmRFdmVudE5hbWVzKTtcbiAgJHRyYW5zaXRpb24uYW5pbWF0aW9uRW5kRXZlbnROYW1lID0gZmluZEVuZEV2ZW50TmFtZShhbmltYXRpb25FbmRFdmVudE5hbWVzKTtcbiAgcmV0dXJuICR0cmFuc2l0aW9uO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnR5cGVhaGVhZCcsIFsndWkuYm9vdHN0cmFwLnBvc2l0aW9uJ10pXG5cbi8qKlxuICogQSBoZWxwZXIgc2VydmljZSB0aGF0IGNhbiBwYXJzZSB0eXBlYWhlYWQncyBzeW50YXggKHN0cmluZyBwcm92aWRlZCBieSB1c2VycylcbiAqIEV4dHJhY3RlZCB0byBhIHNlcGFyYXRlIHNlcnZpY2UgZm9yIGVhc2Ugb2YgdW5pdCB0ZXN0aW5nXG4gKi9cbiAgLmZhY3RvcnkoJ3R5cGVhaGVhZFBhcnNlcicsIFsnJHBhcnNlJywgZnVuY3Rpb24oJHBhcnNlKSB7XG5cbiAgLy8gICAgICAgICAgICAgICAgICAgICAgMDAwMDAxMTEwMDAwMDAwMDAwMDAwMjIyMDAwMDAwMDAwMDAwMDAwMDMzMzMzMzMzMzMzMzMzMzAwMDAwMDAwMDAwNDQwMDBcbiAgdmFyIFRZUEVBSEVBRF9SRUdFWFAgPSAvXlxccyooW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbXFwkXFx3XVtcXCRcXHdcXGRdKikpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSQvO1xuXG4gIHJldHVybiB7XG4gICAgcGFyc2U6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICB2YXIgbWF0Y2ggPSBpbnB1dC5tYXRjaChUWVBFQUhFQURfUkVHRVhQKTtcbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdFeHBlY3RlZCB0eXBlYWhlYWQgc3BlY2lmaWNhdGlvbiBpbiBmb3JtIG9mIFwiX21vZGVsVmFsdWVfIChhcyBfbGFiZWxfKT8gZm9yIF9pdGVtXyBpbiBfY29sbGVjdGlvbl9cIicgK1xuICAgICAgICAgICAgJyBidXQgZ290IFwiJyArIGlucHV0ICsgJ1wiLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtTmFtZTptYXRjaFszXSxcbiAgICAgICAgc291cmNlOiRwYXJzZShtYXRjaFs0XSksXG4gICAgICAgIHZpZXdNYXBwZXI6JHBhcnNlKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSxcbiAgICAgICAgbW9kZWxNYXBwZXI6JHBhcnNlKG1hdGNoWzFdKVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcblxuICAuZGlyZWN0aXZlKCd0eXBlYWhlYWQnLCBbJyRjb21waWxlJywgJyRwYXJzZScsICckcScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJHdpbmRvdycsICckcm9vdFNjb3BlJywgJyRwb3NpdGlvbicsICd0eXBlYWhlYWRQYXJzZXInLFxuICAgIGZ1bmN0aW9uKCRjb21waWxlLCAkcGFyc2UsICRxLCAkdGltZW91dCwgJGRvY3VtZW50LCAkd2luZG93LCAkcm9vdFNjb3BlLCAkcG9zaXRpb24sIHR5cGVhaGVhZFBhcnNlcikge1xuICAgIHZhciBIT1RfS0VZUyA9IFs5LCAxMywgMjcsIDM4LCA0MF07XG4gICAgdmFyIGV2ZW50RGVib3VuY2VUaW1lID0gMjAwO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdeP25nTW9kZWxPcHRpb25zJ10sXG4gICAgICBsaW5rOiBmdW5jdGlvbihvcmlnaW5hbFNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdO1xuICAgICAgICB2YXIgbmdNb2RlbE9wdGlvbnMgPSBjdHJsc1sxXTtcbiAgICAgICAgLy9TVVBQT1JURUQgQVRUUklCVVRFUyAoT1BUSU9OUylcblxuICAgICAgICAvL21pbmltYWwgbm8gb2YgY2hhcmFjdGVycyB0aGF0IG5lZWRzIHRvIGJlIGVudGVyZWQgYmVmb3JlIHR5cGVhaGVhZCBraWNrcy1pblxuICAgICAgICB2YXIgbWluTGVuZ3RoID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRNaW5MZW5ndGgpO1xuICAgICAgICBpZiAoIW1pbkxlbmd0aCAmJiBtaW5MZW5ndGggIT09IDApIHtcbiAgICAgICAgICBtaW5MZW5ndGggPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9taW5pbWFsIHdhaXQgdGltZSBhZnRlciBsYXN0IGNoYXJhY3RlciB0eXBlZCBiZWZvcmUgdHlwZWFoZWFkIGtpY2tzLWluXG4gICAgICAgIHZhciB3YWl0VGltZSA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkV2FpdE1zKSB8fCAwO1xuXG4gICAgICAgIC8vc2hvdWxkIGl0IHJlc3RyaWN0IG1vZGVsIHZhbHVlcyB0byB0aGUgb25lcyBzZWxlY3RlZCBmcm9tIHRoZSBwb3B1cCBvbmx5P1xuICAgICAgICB2YXIgaXNFZGl0YWJsZSA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRWRpdGFibGUpICE9PSBmYWxzZTtcblxuICAgICAgICAvL2JpbmRpbmcgdG8gYSB2YXJpYWJsZSB0aGF0IGluZGljYXRlcyBpZiBtYXRjaGVzIGFyZSBiZWluZyByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgdmFyIGlzTG9hZGluZ1NldHRlciA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wO1xuXG4gICAgICAgIC8vYSBjYWxsYmFjayBleGVjdXRlZCB3aGVuIGEgbWF0Y2ggaXMgc2VsZWN0ZWRcbiAgICAgICAgdmFyIG9uU2VsZWN0Q2FsbGJhY2sgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkT25TZWxlY3QpO1xuXG4gICAgICAgIC8vc2hvdWxkIGl0IHNlbGVjdCBoaWdobGlnaHRlZCBwb3B1cCB2YWx1ZSB3aGVuIGxvc2luZyBmb2N1cz9cbiAgICAgICAgdmFyIGlzU2VsZWN0T25CbHVyID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkU2VsZWN0T25CbHVyKSA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkU2VsZWN0T25CbHVyKSA6IGZhbHNlO1xuXG4gICAgICAgIC8vYmluZGluZyB0byBhIHZhcmlhYmxlIHRoYXQgaW5kaWNhdGVzIGlmIHRoZXJlIHdlcmUgbm8gcmVzdWx0cyBhZnRlciB0aGUgcXVlcnkgaXMgY29tcGxldGVkXG4gICAgICAgIHZhciBpc05vUmVzdWx0c1NldHRlciA9ICRwYXJzZShhdHRycy50eXBlYWhlYWROb1Jlc3VsdHMpLmFzc2lnbiB8fCBhbmd1bGFyLm5vb3A7XG5cbiAgICAgICAgdmFyIGlucHV0Rm9ybWF0dGVyID0gYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIgPyAkcGFyc2UoYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBhcHBlbmRUb0JvZHkgPSAgYXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5ID8gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHkpIDogZmFsc2U7XG5cbiAgICAgICAgdmFyIGZvY3VzRmlyc3QgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEZvY3VzRmlyc3QpICE9PSBmYWxzZTtcblxuICAgICAgICAvL0lmIGlucHV0IG1hdGNoZXMgYW4gaXRlbSBvZiB0aGUgbGlzdCBleGFjdGx5LCBzZWxlY3QgaXQgYXV0b21hdGljYWxseVxuICAgICAgICB2YXIgc2VsZWN0T25FeGFjdCA9IGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uRXhhY3QgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uRXhhY3QpIDogZmFsc2U7XG5cbiAgICAgICAgLy9JTlRFUk5BTCBWQVJJQUJMRVNcblxuICAgICAgICAvL21vZGVsIHNldHRlciBleGVjdXRlZCB1cG9uIG1hdGNoIHNlbGVjdGlvblxuICAgICAgICB2YXIgcGFyc2VkTW9kZWwgPSAkcGFyc2UoYXR0cnMubmdNb2RlbCk7XG4gICAgICAgIHZhciBpbnZva2VNb2RlbFNldHRlciA9ICRwYXJzZShhdHRycy5uZ01vZGVsICsgJygkJCRwKScpO1xuICAgICAgICB2YXIgJHNldE1vZGVsVmFsdWUgPSBmdW5jdGlvbihzY29wZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHBhcnNlZE1vZGVsKG9yaWdpbmFsU2NvcGUpKSAmJlxuICAgICAgICAgICAgbmdNb2RlbE9wdGlvbnMgJiYgbmdNb2RlbE9wdGlvbnMuJG9wdGlvbnMgJiYgbmdNb2RlbE9wdGlvbnMuJG9wdGlvbnMuZ2V0dGVyU2V0dGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlTW9kZWxTZXR0ZXIoc2NvcGUsIHskJCRwOiBuZXdWYWx1ZX0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkTW9kZWwuYXNzaWduKHNjb3BlLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vZXhwcmVzc2lvbnMgdXNlZCBieSB0eXBlYWhlYWRcbiAgICAgICAgdmFyIHBhcnNlclJlc3VsdCA9IHR5cGVhaGVhZFBhcnNlci5wYXJzZShhdHRycy50eXBlYWhlYWQpO1xuXG4gICAgICAgIHZhciBoYXNGb2N1cztcblxuICAgICAgICAvL1VzZWQgdG8gYXZvaWQgYnVnIGluIGlPUyB3ZWJ2aWV3IHdoZXJlIGlPUyBrZXlib2FyZCBkb2VzIG5vdCBmaXJlXG4gICAgICAgIC8vbW91c2Vkb3duICYgbW91c2V1cCBldmVudHNcbiAgICAgICAgLy9Jc3N1ZSAjMzY5OVxuICAgICAgICB2YXIgc2VsZWN0ZWQ7XG5cbiAgICAgICAgLy9jcmVhdGUgYSBjaGlsZCBzY29wZSBmb3IgdGhlIHR5cGVhaGVhZCBkaXJlY3RpdmUgc28gd2UgYXJlIG5vdCBwb2xsdXRpbmcgb3JpZ2luYWwgc2NvcGVcbiAgICAgICAgLy93aXRoIHR5cGVhaGVhZC1zcGVjaWZpYyBkYXRhIChtYXRjaGVzLCBxdWVyeSBldGMuKVxuICAgICAgICB2YXIgc2NvcGUgPSBvcmlnaW5hbFNjb3BlLiRuZXcoKTtcbiAgICAgICAgdmFyIG9mZkRlc3Ryb3kgPSBvcmlnaW5hbFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcblx0XHRcdCAgICBzY29wZS4kZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIG9mZkRlc3Ryb3kpO1xuXG4gICAgICAgIC8vIFdBSS1BUklBXG4gICAgICAgIHZhciBwb3B1cElkID0gJ3R5cGVhaGVhZC0nICsgc2NvcGUuJGlkICsgJy0nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuICAgICAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAgICdhcmlhLWF1dG9jb21wbGV0ZSc6ICdsaXN0JyxcbiAgICAgICAgICAnYXJpYS1leHBhbmRlZCc6IGZhbHNlLFxuICAgICAgICAgICdhcmlhLW93bnMnOiBwb3B1cElkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vcG9wLXVwIGVsZW1lbnQgdXNlZCB0byBkaXNwbGF5IG1hdGNoZXNcbiAgICAgICAgdmFyIHBvcFVwRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgdHlwZWFoZWFkLXBvcHVwPjwvZGl2PicpO1xuICAgICAgICBwb3BVcEVsLmF0dHIoe1xuICAgICAgICAgIGlkOiBwb3B1cElkLFxuICAgICAgICAgIG1hdGNoZXM6ICdtYXRjaGVzJyxcbiAgICAgICAgICBhY3RpdmU6ICdhY3RpdmVJZHgnLFxuICAgICAgICAgIHNlbGVjdDogJ3NlbGVjdChhY3RpdmVJZHgpJyxcbiAgICAgICAgICAnbW92ZS1pbi1wcm9ncmVzcyc6ICdtb3ZlSW5Qcm9ncmVzcycsXG4gICAgICAgICAgcXVlcnk6ICdxdWVyeScsXG4gICAgICAgICAgcG9zaXRpb246ICdwb3NpdGlvbidcbiAgICAgICAgfSk7XG4gICAgICAgIC8vY3VzdG9tIGl0ZW0gdGVtcGxhdGVcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKSkge1xuICAgICAgICAgIHBvcFVwRWwuYXR0cigndGVtcGxhdGUtdXJsJywgYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFBvcHVwVGVtcGxhdGVVcmwpKSB7XG4gICAgICAgICAgcG9wVXBFbC5hdHRyKCdwb3B1cC10ZW1wbGF0ZS11cmwnLCBhdHRycy50eXBlYWhlYWRQb3B1cFRlbXBsYXRlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXNldE1hdGNoZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzY29wZS5tYXRjaGVzID0gW107XG4gICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gLTE7XG4gICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRNYXRjaElkID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gcG9wdXBJZCArICctb3B0aW9uLScgKyBpbmRleDtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbmRpY2F0ZSB0aGF0IHRoZSBzcGVjaWZpZWQgbWF0Y2ggaXMgdGhlIGFjdGl2ZSAocHJlLXNlbGVjdGVkKSBpdGVtIGluIHRoZSBsaXN0IG93bmVkIGJ5IHRoaXMgdHlwZWFoZWFkLlxuICAgICAgICAvLyBUaGlzIGF0dHJpYnV0ZSBpcyBhZGRlZCBvciByZW1vdmVkIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgYGFjdGl2ZUlkeGAgY2hhbmdlcy5cbiAgICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmVJZHgnLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cignYXJpYS1hY3RpdmVkZXNjZW5kYW50Jyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1hY3RpdmVkZXNjZW5kYW50JywgZ2V0TWF0Y2hJZChpbmRleCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGlucHV0SXNFeGFjdE1hdGNoID0gZnVuY3Rpb24oaW5wdXRWYWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICBpZiAoc2NvcGUubWF0Y2hlcy5sZW5ndGggPiBpbmRleCAmJiBpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZS50b1VwcGVyQ2FzZSgpID09PSBzY29wZS5tYXRjaGVzW2luZGV4XS5sYWJlbC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0TWF0Y2hlc0FzeW5jID0gZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuICAgICAgICAgIHZhciBsb2NhbHMgPSB7JHZpZXdWYWx1ZTogaW5wdXRWYWx1ZX07XG4gICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIHRydWUpO1xuICAgICAgICAgIGlzTm9SZXN1bHRzU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICAkcS53aGVuKHBhcnNlclJlc3VsdC5zb3VyY2Uob3JpZ2luYWxTY29wZSwgbG9jYWxzKSkudGhlbihmdW5jdGlvbihtYXRjaGVzKSB7XG4gICAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHNldmVyYWwgYXN5bmMgcXVlcmllcyB3ZXJlIGluIHByb2dyZXNzIGlmIGEgdXNlciB3ZXJlIHR5cGluZyBmYXN0XG4gICAgICAgICAgICAvL2J1dCB3ZSBhcmUgaW50ZXJlc3RlZCBvbmx5IGluIHJlc3BvbnNlcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGN1cnJlbnQgdmlldyB2YWx1ZVxuICAgICAgICAgICAgdmFyIG9uQ3VycmVudFJlcXVlc3QgPSAoaW5wdXRWYWx1ZSA9PT0gbW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xuICAgICAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QgJiYgaGFzRm9jdXMpIHtcbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSBmb2N1c0ZpcnN0ID8gMCA6IC0xO1xuICAgICAgICAgICAgICAgIGlzTm9SZXN1bHRzU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzY29wZS5tYXRjaGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgICAgICAvL3RyYW5zZm9ybSBsYWJlbHNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gbWF0Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLm1hdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBnZXRNYXRjaElkKGkpLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIoc2NvcGUsIGxvY2FscyksXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiBtYXRjaGVzW2ldXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5xdWVyeSA9IGlucHV0VmFsdWU7XG4gICAgICAgICAgICAgICAgLy9wb3NpdGlvbiBwb3AtdXAgd2l0aCBtYXRjaGVzIC0gd2UgbmVlZCB0byByZS1jYWxjdWxhdGUgaXRzIHBvc2l0aW9uIGVhY2ggdGltZSB3ZSBhcmUgb3BlbmluZyBhIHdpbmRvd1xuICAgICAgICAgICAgICAgIC8vd2l0aCBtYXRjaGVzIGFzIGEgcG9wLXVwIG1pZ2h0IGJlIGFic29sdXRlLXBvc2l0aW9uZWQgYW5kIHBvc2l0aW9uIG9mIGFuIGlucHV0IG1pZ2h0IGhhdmUgY2hhbmdlZCBvbiBhIHBhZ2VcbiAgICAgICAgICAgICAgICAvL2R1ZSB0byBvdGhlciBlbGVtZW50cyBiZWluZyByZW5kZXJlZFxuICAgICAgICAgICAgICAgIHJlY2FsY3VsYXRlUG9zaXRpb24oKTtcblxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgLy9TZWxlY3QgdGhlIHNpbmdsZSByZW1haW5pbmcgb3B0aW9uIGlmIHVzZXIgaW5wdXQgbWF0Y2hlc1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RPbkV4YWN0ICYmIHNjb3BlLm1hdGNoZXMubGVuZ3RoID09PSAxICYmIGlucHV0SXNFeGFjdE1hdGNoKGlucHV0VmFsdWUsIDApKSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3QoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgICAgIGlzTm9SZXN1bHRzU2V0dGVyKG9yaWdpbmFsU2NvcGUsIHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25DdXJyZW50UmVxdWVzdCkge1xuICAgICAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICAgaXNOb1Jlc3VsdHNTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYmluZCBldmVudHMgb25seSBpZiBhcHBlbmRUb0JvZHkgcGFyYW1zIGV4aXN0IC0gcGVyZm9ybWFuY2UgZmVhdHVyZVxuICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsIGZpcmVSZWNhbGN1bGF0aW5nKTtcbiAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmJpbmQoJ3Njcm9sbCcsIGZpcmVSZWNhbGN1bGF0aW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlY2xhcmUgdGhlIHRpbWVvdXQgcHJvbWlzZSB2YXIgb3V0c2lkZSB0aGUgZnVuY3Rpb24gc2NvcGUgc28gdGhhdCBzdGFja2VkIGNhbGxzIGNhbiBiZSBjYW5jZWxsZWQgbGF0ZXJcbiAgICAgICAgdmFyIHRpbWVvdXRFdmVudFByb21pc2U7XG5cbiAgICAgICAgLy8gRGVmYXVsdCBwcm9ncmVzcyB0eXBlXG4gICAgICAgIHNjb3BlLm1vdmVJblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICAgICAgZnVuY3Rpb24gZmlyZVJlY2FsY3VsYXRpbmcoKSB7XG4gICAgICAgICAgaWYgKCFzY29wZS5tb3ZlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENhbmNlbCBwcmV2aW91cyB0aW1lb3V0XG4gICAgICAgICAgaWYgKHRpbWVvdXRFdmVudFByb21pc2UpIHtcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0RXZlbnRQcm9taXNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEZWJvdW5jZWQgZXhlY3V0aW5nIHJlY2FsY3VsYXRlIGFmdGVyIGV2ZW50cyBmaXJlZFxuICAgICAgICAgIHRpbWVvdXRFdmVudFByb21pc2UgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIGlmIHBvcHVwIGlzIHZpc2libGVcbiAgICAgICAgICAgIGlmIChzY29wZS5tYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjb3BlLm1vdmVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgfSwgZXZlbnREZWJvdW5jZVRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVjYWxjdWxhdGUgYWN0dWFsIHBvc2l0aW9uIGFuZCBzZXQgbmV3IHZhbHVlcyB0byBzY29wZVxuICAgICAgICAvLyBhZnRlciBkaWdlc3QgbG9vcCBpcyBwb3B1cCBpbiByaWdodCBwb3NpdGlvblxuICAgICAgICBmdW5jdGlvbiByZWNhbGN1bGF0ZVBvc2l0aW9uKCkge1xuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uID0gYXBwZW5kVG9Cb2R5ID8gJHBvc2l0aW9uLm9mZnNldChlbGVtZW50KSA6ICRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KTtcbiAgICAgICAgICBzY29wZS5wb3NpdGlvbi50b3AgKz0gZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuXG4gICAgICAgIC8vd2UgbmVlZCB0byBwcm9wYWdhdGUgdXNlcidzIHF1ZXJ5IHNvIHdlIGNhbiBoaWdsaWdodCBtYXRjaGVzXG4gICAgICAgIHNjb3BlLnF1ZXJ5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlclxuICAgICAgICB2YXIgdGltZW91dFByb21pc2U7XG5cbiAgICAgICAgdmFyIHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQgPSBmdW5jdGlvbihpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgdGltZW91dFByb21pc2UgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGdldE1hdGNoZXNBc3luYyhpbnB1dFZhbHVlKTtcbiAgICAgICAgICB9LCB3YWl0VGltZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGNhbmNlbFByZXZpb3VzVGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh0aW1lb3V0UHJvbWlzZSkge1xuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXRQcm9taXNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9wbHVnIGludG8gJHBhcnNlcnMgcGlwZWxpbmUgdG8gb3BlbiBhIHR5cGVhaGVhZCBvbiB2aWV3IGNoYW5nZXMgaW5pdGlhdGVkIGZyb20gRE9NXG4gICAgICAgIC8vJHBhcnNlcnMga2ljay1pbiBvbiBhbGwgdGhlIGNoYW5nZXMgY29taW5nIGZyb20gdGhlIHZpZXcgYXMgd2VsbCBhcyBtYW51YWxseSB0cmlnZ2VyZWQgYnkgJHNldFZpZXdWYWx1ZVxuICAgICAgICBtb2RlbEN0cmwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbihpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgaGFzRm9jdXMgPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKG1pbkxlbmd0aCA9PT0gMCB8fCBpbnB1dFZhbHVlICYmIGlucHV0VmFsdWUubGVuZ3RoID49IG1pbkxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHdhaXRUaW1lID4gMCkge1xuICAgICAgICAgICAgICBjYW5jZWxQcmV2aW91c1RpbWVvdXQoKTtcbiAgICAgICAgICAgICAgc2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dChpbnB1dFZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGdldE1hdGNoZXNBc3luYyhpbnB1dFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICAgIGNhbmNlbFByZXZpb3VzVGltZW91dCgpO1xuICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dFZhbHVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlucHV0VmFsdWUpIHtcbiAgICAgICAgICAgICAgLy8gUmVzZXQgaW4gY2FzZSB1c2VyIGhhZCB0eXBlZCBzb21ldGhpbmcgcHJldmlvdXNseS5cbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCB0cnVlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIGZhbHNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKG1vZGVsVmFsdWUpIHtcbiAgICAgICAgICB2YXIgY2FuZGlkYXRlVmlld1ZhbHVlLCBlbXB0eVZpZXdWYWx1ZTtcbiAgICAgICAgICB2YXIgbG9jYWxzID0ge307XG5cbiAgICAgICAgICAvLyBUaGUgdmFsaWRpdHkgbWF5IGJlIHNldCB0byBmYWxzZSB2aWEgJHBhcnNlcnMgKHNlZSBhYm92ZSkgaWZcbiAgICAgICAgICAvLyB0aGUgbW9kZWwgaXMgcmVzdHJpY3RlZCB0byBzZWxlY3RlZCB2YWx1ZXMuIElmIHRoZSBtb2RlbFxuICAgICAgICAgIC8vIGlzIHNldCBtYW51YWxseSBpdCBpcyBjb25zaWRlcmVkIHRvIGJlIHZhbGlkLlxuICAgICAgICAgIGlmICghaXNFZGl0YWJsZSkge1xuICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCB0cnVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaW5wdXRGb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgIGxvY2Fscy4kbW9kZWwgPSBtb2RlbFZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0Rm9ybWF0dGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vaXQgbWlnaHQgaGFwcGVuIHRoYXQgd2UgZG9uJ3QgaGF2ZSBlbm91Z2ggaW5mbyB0byBwcm9wZXJseSByZW5kZXIgaW5wdXQgdmFsdWVcbiAgICAgICAgICAgIC8vd2UgbmVlZCB0byBjaGVjayBmb3IgdGhpcyBzaXR1YXRpb24gYW5kIHNpbXBseSByZXR1cm4gbW9kZWwgdmFsdWUgaWYgd2UgY2FuJ3QgYXBwbHkgY3VzdG9tIGZvcm1hdHRpbmdcbiAgICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gbW9kZWxWYWx1ZTtcbiAgICAgICAgICAgIGNhbmRpZGF0ZVZpZXdWYWx1ZSA9IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGVtcHR5Vmlld1ZhbHVlID0gcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZVZpZXdWYWx1ZSE9PSBlbXB0eVZpZXdWYWx1ZSA/IGNhbmRpZGF0ZVZpZXdWYWx1ZSA6IG1vZGVsVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbihhY3RpdmVJZHgpIHtcbiAgICAgICAgICAvL2NhbGxlZCBmcm9tIHdpdGhpbiB0aGUgJGRpZ2VzdCgpIGN5Y2xlXG4gICAgICAgICAgdmFyIGxvY2FscyA9IHt9O1xuICAgICAgICAgIHZhciBtb2RlbCwgaXRlbTtcblxuICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IGl0ZW0gPSBzY29wZS5tYXRjaGVzW2FjdGl2ZUlkeF0ubW9kZWw7XG4gICAgICAgICAgbW9kZWwgPSBwYXJzZXJSZXN1bHQubW9kZWxNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAkc2V0TW9kZWxWYWx1ZShvcmlnaW5hbFNjb3BlLCBtb2RlbCk7XG4gICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCB0cnVlKTtcbiAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdwYXJzZScsIHRydWUpO1xuXG4gICAgICAgICAgb25TZWxlY3RDYWxsYmFjayhvcmlnaW5hbFNjb3BlLCB7XG4gICAgICAgICAgICAkaXRlbTogaXRlbSxcbiAgICAgICAgICAgICRtb2RlbDogbW9kZWwsXG4gICAgICAgICAgICAkbGFiZWw6IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2FscylcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuXG4gICAgICAgICAgLy9yZXR1cm4gZm9jdXMgdG8gdGhlIGlucHV0IGVsZW1lbnQgaWYgYSBtYXRjaCB3YXMgc2VsZWN0ZWQgdmlhIGEgbW91c2UgY2xpY2sgZXZlbnRcbiAgICAgICAgICAvLyB1c2UgdGltZW91dCB0byBhdm9pZCAkcm9vdFNjb3BlOmlucHJvZyBlcnJvclxuICAgICAgICAgIGlmIChzY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRGb2N1c09uU2VsZWN0KSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyBlbGVtZW50WzBdLmZvY3VzKCk7IH0sIDAsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9iaW5kIGtleWJvYXJkIGV2ZW50czogYXJyb3dzIHVwKDM4KSAvIGRvd24oNDApLCBlbnRlcigxMykgYW5kIHRhYig5KSwgZXNjKDI3KVxuICAgICAgICBlbGVtZW50LmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAvL3R5cGVhaGVhZCBpcyBvcGVuIGFuZCBhbiBcImludGVyZXN0aW5nXCIga2V5IHdhcyBwcmVzc2VkXG4gICAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoID09PSAwIHx8IEhPVF9LRVlTLmluZGV4T2YoZXZ0LndoaWNoKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBpZiB0aGVyZSdzIG5vdGhpbmcgc2VsZWN0ZWQgKGkuZS4gZm9jdXNGaXJzdCkgYW5kIGVudGVyIG9yIHRhYiBpcyBoaXQsIGNsZWFyIHRoZSByZXN1bHRzXG4gICAgICAgICAgaWYgKHNjb3BlLmFjdGl2ZUlkeCA9PT0gLTEgJiYgKGV2dC53aGljaCA9PT0gOSB8fCBldnQud2hpY2ggPT09IDEzKSkge1xuICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBpZiAoZXZ0LndoaWNoID09PSA0MCkge1xuICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCArIDEpICUgc2NvcGUubWF0Y2hlcy5sZW5ndGg7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gMzgpIHtcbiAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IChzY29wZS5hY3RpdmVJZHggPiAwID8gc2NvcGUuYWN0aXZlSWR4IDogc2NvcGUubWF0Y2hlcy5sZW5ndGgpIC0gMTtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAxMyB8fCBldnQud2hpY2ggPT09IDkpIHtcbiAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnNlbGVjdChzY29wZS5hY3RpdmVJZHgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBlbGVtZW50LmJpbmQoJ2JsdXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoaXNTZWxlY3RPbkJsdXIgJiYgc2NvcGUubWF0Y2hlcy5sZW5ndGggJiYgc2NvcGUuYWN0aXZlSWR4ICE9PSAtMSAmJiAhc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFzRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgICBzZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBLZWVwIHJlZmVyZW5jZSB0byBjbGljayBoYW5kbGVyIHRvIHVuYmluZCBpdC5cbiAgICAgICAgdmFyIGRpc21pc3NDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAvLyBJc3N1ZSAjMzk3M1xuICAgICAgICAgIC8vIEZpcmVmb3ggdHJlYXRzIHJpZ2h0IGNsaWNrIGFzIGEgY2xpY2sgb24gZG9jdW1lbnRcbiAgICAgICAgICBpZiAoZWxlbWVudFswXSAhPT0gZXZ0LnRhcmdldCAmJiBldnQud2hpY2ggIT09IDMgJiYgc2NvcGUubWF0Y2hlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBkaXNtaXNzQ2xpY2tIYW5kbGVyKTtcblxuICAgICAgICBvcmlnaW5hbFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRpc21pc3NDbGlja0hhbmRsZXIpO1xuICAgICAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgICAgICRwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUHJldmVudCBqUXVlcnkgY2FjaGUgbWVtb3J5IGxlYWtcbiAgICAgICAgICBwb3BVcEVsLnJlbW92ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgJHBvcHVwID0gJGNvbXBpbGUocG9wVXBFbCkoc2NvcGUpO1xuXG4gICAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIoJHBvcHVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICBzY29wZToge1xuICAgICAgICBtYXRjaGVzOiAnPScsXG4gICAgICAgIHF1ZXJ5OiAnPScsXG4gICAgICAgIGFjdGl2ZTogJz0nLFxuICAgICAgICBwb3NpdGlvbjogJyYnLFxuICAgICAgICBtb3ZlSW5Qcm9ncmVzczogJz0nLFxuICAgICAgICBzZWxlY3Q6ICcmJ1xuICAgICAgfSxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJzLnBvcHVwVGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCc7XG4gICAgICB9LFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHNjb3BlLnRlbXBsYXRlVXJsID0gYXR0cnMudGVtcGxhdGVVcmw7XG5cbiAgICAgICAgc2NvcGUuaXNPcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKG1hdGNoSWR4KSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLmFjdGl2ZSA9PSBtYXRjaElkeDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5zZWxlY3RBY3RpdmUgPSBmdW5jdGlvbihtYXRjaElkeCkge1xuICAgICAgICAgIHNjb3BlLmFjdGl2ZSA9IG1hdGNoSWR4O1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLnNlbGVjdE1hdGNoID0gZnVuY3Rpb24oYWN0aXZlSWR4KSB7XG4gICAgICAgICAgc2NvcGUuc2VsZWN0KHthY3RpdmVJZHg6YWN0aXZlSWR4fSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuICAuZGlyZWN0aXZlKCd0eXBlYWhlYWRNYXRjaCcsIFsnJHRlbXBsYXRlUmVxdWVzdCcsICckY29tcGlsZScsICckcGFyc2UnLCBmdW5jdGlvbigkdGVtcGxhdGVSZXF1ZXN0LCAkY29tcGlsZSwgJHBhcnNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgaW5kZXg6ICc9JyxcbiAgICAgICAgbWF0Y2g6ICc9JyxcbiAgICAgICAgcXVlcnk6ICc9J1xuICAgICAgfSxcbiAgICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHZhciB0cGxVcmwgPSAkcGFyc2UoYXR0cnMudGVtcGxhdGVVcmwpKHNjb3BlLiRwYXJlbnQpIHx8ICd0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwnO1xuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHRwbFVybCkudGhlbihmdW5jdGlvbih0cGxDb250ZW50KSB7XG4gICAgICAgICAgJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHNjb3BlLCBmdW5jdGlvbihjbG9uZWRFbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKGNsb25lZEVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XSlcblxuICAuZmlsdGVyKCd0eXBlYWhlYWRIaWdobGlnaHQnLCBbJyRzY2UnLCAnJGluamVjdG9yJywgJyRsb2cnLCBmdW5jdGlvbigkc2NlLCAkaW5qZWN0b3IsICRsb2cpIHtcbiAgICB2YXIgaXNTYW5pdGl6ZVByZXNlbnQ7XG4gICAgaXNTYW5pdGl6ZVByZXNlbnQgPSAkaW5qZWN0b3IuaGFzKCckc2FuaXRpemUnKTtcblxuICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ2V4cChxdWVyeVRvRXNjYXBlKSB7XG4gICAgICAvLyBSZWdleDogY2FwdHVyZSB0aGUgd2hvbGUgcXVlcnkgc3RyaW5nIGFuZCByZXBsYWNlIGl0IHdpdGggdGhlIHN0cmluZyB0aGF0IHdpbGwgYmUgdXNlZCB0byBtYXRjaFxuICAgICAgLy8gdGhlIHJlc3VsdHMsIGZvciBleGFtcGxlIGlmIHRoZSBjYXB0dXJlIGlzIFwiYVwiIHRoZSByZXN1bHQgd2lsbCBiZSBcXGFcbiAgICAgIHJldHVybiBxdWVyeVRvRXNjYXBlLnJlcGxhY2UoLyhbLj8qK14kW1xcXVxcXFwoKXt9fC1dKS9nLCAnXFxcXCQxJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29udGFpbnNIdG1sKG1hdGNoSXRlbSkge1xuICAgICAgcmV0dXJuIC88Lio+L2cudGVzdChtYXRjaEl0ZW0pO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihtYXRjaEl0ZW0sIHF1ZXJ5KSB7XG4gICAgICBpZiAoIWlzU2FuaXRpemVQcmVzZW50ICYmIGNvbnRhaW5zSHRtbChtYXRjaEl0ZW0pKSB7XG4gICAgICAgICRsb2cud2FybignVW5zYWZlIHVzZSBvZiB0eXBlYWhlYWQgcGxlYXNlIHVzZSBuZ1Nhbml0aXplJyk7IC8vIFdhcm4gdGhlIHVzZXIgYWJvdXQgdGhlIGRhbmdlclxuICAgICAgfVxuICAgICAgbWF0Y2hJdGVtID0gcXVlcnk/ICgnJyArIG1hdGNoSXRlbSkucmVwbGFjZShuZXcgUmVnRXhwKGVzY2FwZVJlZ2V4cChxdWVyeSksICdnaScpLCAnPHN0cm9uZz4kJjwvc3Ryb25nPicpIDogbWF0Y2hJdGVtOyAvLyBSZXBsYWNlcyB0aGUgY2FwdHVyZSBzdHJpbmcgd2l0aCBhIHRoZSBzYW1lIHN0cmluZyBpbnNpZGUgb2YgYSBcInN0cm9uZ1wiIHRhZ1xuICAgICAgaWYgKCFpc1Nhbml0aXplUHJlc2VudCkge1xuICAgICAgICBtYXRjaEl0ZW0gPSAkc2NlLnRydXN0QXNIdG1sKG1hdGNoSXRlbSk7IC8vIElmICRzYW5pdGl6ZSBpcyBub3QgcHJlc2VudCB3ZSBwYWNrIHRoZSBzdHJpbmcgaW4gYSAkc2NlIG9iamVjdCBmb3IgdGhlIG5nLWJpbmQtaHRtbCBkaXJlY3RpdmVcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaEl0ZW07XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicGFuZWwge3twYW5lbENsYXNzIHx8ICdwYW5lbC1kZWZhdWx0J319XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiIG5nLWtleXByZXNzPVxcXCJ0b2dnbGVPcGVuKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8aDQgY2xhc3M9XFxcInBhbmVsLXRpdGxlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8YSBocmVmIHRhYmluZGV4PVxcXCIwXFxcIiBjbGFzcz1cXFwiYWNjb3JkaW9uLXRvZ2dsZVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU9wZW4oKVxcXCIgYWNjb3JkaW9uLXRyYW5zY2x1ZGU9XFxcImhlYWRpbmdcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCJ7J3RleHQtbXV0ZWQnOiBpc0Rpc2FibGVkfVxcXCI+e3toZWFkaW5nfX08L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIiAgICA8L2g0PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1jb2xsYXBzZSBjb2xsYXBzZVxcXCIgY29sbGFwc2U9XFxcIiFpc09wZW5cXFwiPlxcblwiICtcbiAgICBcIlx0ICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicGFuZWwtZ3JvdXBcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJhbGVydFxcXCIgbmctY2xhc3M9XFxcIlsnYWxlcnQtJyArICh0eXBlIHx8ICd3YXJuaW5nJyksIGNsb3NlYWJsZSA/ICdhbGVydC1kaXNtaXNzaWJsZScgOiBudWxsXVxcXCIgcm9sZT1cXFwiYWxlcnRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8YnV0dG9uIG5nLXNob3c9XFxcImNsb3NlYWJsZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPkNsb3NlPC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbFwiLFxuICAgIFwiPGRpdiBuZy1tb3VzZWVudGVyPVxcXCJwYXVzZSgpXFxcIiBuZy1tb3VzZWxlYXZlPVxcXCJwbGF5KClcXFwiIGNsYXNzPVxcXCJjYXJvdXNlbFxcXCIgbmctc3dpcGUtcmlnaHQ9XFxcInByZXYoKVxcXCIgbmctc3dpcGUtbGVmdD1cXFwibmV4dCgpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPG9sIGNsYXNzPVxcXCJjYXJvdXNlbC1pbmRpY2F0b3JzXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJzbGlkZSBpbiBzbGlkZXMgfCBvcmRlckJ5OmluZGV4T2ZTbGlkZSB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBpc0FjdGl2ZShzbGlkZSl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KHNsaWRlKVxcXCI+PC9saT5cXG5cIiArXG4gICAgXCIgICAgPC9vbD5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiY2Fyb3VzZWwtaW5uZXJcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxhIGNsYXNzPVxcXCJsZWZ0IGNhcm91c2VsLWNvbnRyb2xcXFwiIG5nLWNsaWNrPVxcXCJwcmV2KClcXFwiIG5nLXNob3c9XFxcInNsaWRlcy5sZW5ndGggPiAxXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiICAgIDxhIGNsYXNzPVxcXCJyaWdodCBjYXJvdXNlbC1jb250cm9sXFxcIiBuZy1jbGljaz1cXFwibmV4dCgpXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9zcGFuPjwvYT5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIixcbiAgICBcIjxkaXYgbmctY2xhc3M9XFxcIntcXG5cIiArXG4gICAgXCIgICAgJ2FjdGl2ZSc6IGFjdGl2ZVxcblwiICtcbiAgICBcIiAgfVxcXCIgY2xhc3M9XFxcIml0ZW0gdGV4dC1jZW50ZXJcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWxcIixcbiAgICBcIjxkaXYgbmctc3dpdGNoPVxcXCJkYXRlcGlja2VyTW9kZVxcXCIgcm9sZT1cXFwiYXBwbGljYXRpb25cXFwiIG5nLWtleWRvd249XFxcImtleWRvd24oJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGF5cGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJkYXlcXFwiIHRhYmluZGV4PVxcXCIwXFxcIj48L2RheXBpY2tlcj5cXG5cIiArXG4gICAgXCIgIDxtb250aHBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cXFwibW9udGhcXFwiIHRhYmluZGV4PVxcXCIwXFxcIj48L21vbnRocGlja2VyPlxcblwiICtcbiAgICBcIiAgPHllYXJwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcInllYXJcXFwiIHRhYmluZGV4PVxcXCIwXFxcIj48L3llYXJwaWNrZXI+XFxuXCIgK1xuICAgIFwiPC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsXG4gICAgXCI8dGFibGUgcm9sZT1cXFwiZ3JpZFxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVxcXCJ7e2FjdGl2ZURhdGVJZH19XFxcIj5cXG5cIiArXG4gICAgXCIgIDx0aGVhZD5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgtMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggY29sc3Bhbj1cXFwie3s6OjUgKyBzaG93V2Vla3N9fVxcXCI+PGJ1dHRvbiBpZD1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIHJvbGU9XFxcImhlYWRpbmdcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1vZGUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRhdGVwaWNrZXJNb2RlID09PSBtYXhNb2RlXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGggbmctaWY9XFxcInNob3dXZWVrc1xcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBuZy1yZXBlYXQ9XFxcImxhYmVsIGluIDo6bGFiZWxzIHRyYWNrIGJ5ICRpbmRleFxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIj48c21hbGwgYXJpYS1sYWJlbD1cXFwie3s6OmxhYmVsLmZ1bGx9fVxcXCI+e3s6OmxhYmVsLmFiYnJ9fTwvc21hbGw+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLWlmPVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlciBoNlxcXCI+PGVtPnt7IHdlZWtOdW1iZXJzWyRpbmRleF0gfX08L2VtPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7ezo6ZHQudWlkfX1cXFwiIG5nLWNsYXNzPVxcXCI6OmR0LmN1c3RvbUNsYXNzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xhc3M9XFxcInsnYnRuLWluZm8nOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZHQuZGlzYWJsZWRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PHNwYW4gbmctY2xhc3M9XFxcIjo6eyd0ZXh0LW11dGVkJzogZHQuc2Vjb25kYXJ5LCAndGV4dC1pbmZvJzogZHQuY3VycmVudH1cXFwiPnt7OjpkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCIgaWQ9XFxcInt7OjpkdC51aWR9fVxcXCIgbmctY2xhc3M9XFxcIjo6ZHQuY3VzdG9tQ2xhc3NcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6MTAwJTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCI6OnsndGV4dC1pbmZvJzogZHQuY3VycmVudH1cXFwiPnt7OjpkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiBuZy1pZj1cXFwiaXNPcGVuXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogYmxvY2tcXFwiIG5nLXN0eWxlPVxcXCJ7dG9wOiBwb3NpdGlvbi50b3ArJ3B4JywgbGVmdDogcG9zaXRpb24ubGVmdCsncHgnfVxcXCIgbmcta2V5ZG93bj1cXFwia2V5ZG93bigkZXZlbnQpXFxcIiBuZy1jbGljaz1cXFwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXFxcIj5cXG5cIiArXG4gICAgXCJcdDxsaSBuZy10cmFuc2NsdWRlPjwvbGk+XFxuXCIgK1xuICAgIFwiXHQ8bGkgbmctaWY9XFxcInNob3dCdXR0b25CYXJcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjEwcHggOXB4IDJweFxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdDxzcGFuIGNsYXNzPVxcXCJidG4tZ3JvdXAgcHVsbC1sZWZ0XFxcIj5cXG5cIiArXG4gICAgXCJcdFx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLWluZm9cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoJ3RvZGF5JylcXFwiIG5nLWRpc2FibGVkPVxcXCJpc0Rpc2FibGVkKCd0b2RheScpXFxcIj57eyBnZXRUZXh0KCdjdXJyZW50JykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdFx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLWRhbmdlclxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChudWxsKVxcXCI+e3sgZ2V0VGV4dCgnY2xlYXInKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIlx0XHQ8L3NwYW4+XFxuXCIgK1xuICAgIFwiXHRcdDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwiY2xvc2UoKVxcXCI+e3sgZ2V0VGV4dCgnY2xvc2UnKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIlx0PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXG4gICAgXCI8dGFibGUgcm9sZT1cXFwiZ3JpZFxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVxcXCJ7e2FjdGl2ZURhdGVJZH19XFxcIj5cXG5cIiArXG4gICAgXCIgIDx0aGVhZD5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgtMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggY29sc3Bhbj1cXFwiM1xcXCI+PGJ1dHRvbiBpZD1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIHJvbGU9XFxcImhlYWRpbmdcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1vZGUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRhdGVwaWNrZXJNb2RlID09PSBtYXhNb2RlXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtYmFja2Ryb3BcXFwiXFxuXCIgK1xuICAgIFwiICAgICBtb2RhbC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICAgICBtb2RhbC1pbi1jbGFzcz1cXFwiaW5cXFwiXFxuXCIgK1xuICAgIFwiICAgICBuZy1zdHlsZT1cXFwieyd6LWluZGV4JzogMTA0MCArIChpbmRleCAmJiAxIHx8IDApICsgaW5kZXgqMTB9XFxcIlxcblwiICtcbiAgICBcIj48L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLFxuICAgIFwiPGRpdiBtb2RhbC1yZW5kZXI9XFxcInt7JGlzUmVuZGVyZWR9fVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGNsYXNzPVxcXCJtb2RhbFxcXCJcXG5cIiArXG4gICAgXCIgICAgbW9kYWwtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgICBtb2RhbC1pbi1jbGFzcz1cXFwiaW5cXFwiXFxuXCIgK1xuICAgIFwiXHRuZy1zdHlsZT1cXFwieyd6LWluZGV4JzogMTA1MCArIGluZGV4KjEwLCBkaXNwbGF5OiAnYmxvY2snfVxcXCIgbmctY2xpY2s9XFxcImNsb3NlKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiIG5nLWNsYXNzPVxcXCJzaXplID8gJ21vZGFsLScgKyBzaXplIDogJydcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiIG1vZGFsLXRyYW5zY2x1ZGU+PC9kaXY+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJwYWdlclxcXCI+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkLCBwcmV2aW91czogYWxpZ259XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgLSAxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgncHJldmlvdXMnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9OZXh0KCl8fG5nRGlzYWJsZWQsIG5leHQ6IGFsaWdufVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlICsgMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJwYWdpbmF0aW9uXFxcIj5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpib3VuZGFyeUxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl8fG5nRGlzYWJsZWR9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1maXJzdFxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZSgxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgnZmlyc3QnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6ZGlyZWN0aW9uTGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKXx8bmdEaXNhYmxlZH1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLXByZXZcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSAtIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdwcmV2aW91cycpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1yZXBlYXQ9XFxcInBhZ2UgaW4gcGFnZXMgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogcGFnZS5hY3RpdmUsZGlzYWJsZWQ6IG5nRGlzYWJsZWQmJiFwYWdlLmFjdGl2ZX1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLXBhZ2VcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZS5udW1iZXIsICRldmVudClcXFwiPnt7cGFnZS50ZXh0fX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpkaXJlY3Rpb25MaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9OZXh0KCl8fG5nRGlzYWJsZWR9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1uZXh0XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgKyAxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgnbmV4dCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpib3VuZGFyeUxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKXx8bmdEaXNhYmxlZH1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLWxhc3RcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UodG90YWxQYWdlcywgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ2xhc3QnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1hcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIiBuZy1iaW5kLWh0bWw9XFxcImNvbnRlbnRFeHAoKVxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1hcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIiBiaW5kLWh0bWwtdW5zYWZlPVxcXCJjb250ZW50XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIG5nLWJpbmQ9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCJcXG5cIiArXG4gICAgXCIgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlPVxcXCJjb250ZW50RXhwKClcXFwiXFxuXCIgK1xuICAgIFwiICAgIHRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZS1zY29wZT1cXFwib3JpZ2luU2NvcGUoKVxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci1odG1sLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItaW5uZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxoMyBjbGFzcz1cXFwicG9wb3Zlci10aXRsZVxcXCIgbmctYmluZD1cXFwidGl0bGVcXFwiIG5nLWlmPVxcXCJ0aXRsZVxcXCI+PC9oMz5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWNvbnRlbnRcXFwiIG5nLWJpbmQtaHRtbD1cXFwiY29udGVudEV4cCgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItaW5uZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxoMyBjbGFzcz1cXFwicG9wb3Zlci10aXRsZVxcXCIgbmctYmluZD1cXFwidGl0bGVcXFwiIG5nLWlmPVxcXCJ0aXRsZVxcXCI+PC9oMz5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWNvbnRlbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGU9XFxcImNvbnRlbnRFeHAoKVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIHRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZS1zY29wZT1cXFwib3JpZ2luU2NvcGUoKVxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicG9wb3ZlclxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1pZj1cXFwidGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIiBuZy1iaW5kPVxcXCJjb250ZW50XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzcy1iYXJcXFwiIG5nLWNsYXNzPVxcXCJ0eXBlICYmICdwcm9ncmVzcy1iYXItJyArIHR5cGVcXFwiIHJvbGU9XFxcInByb2dyZXNzYmFyXFxcIiBhcmlhLXZhbHVlbm93PVxcXCJ7e3ZhbHVlfX1cXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7bWF4fX1cXFwiIG5nLXN0eWxlPVxcXCJ7d2lkdGg6IChwZXJjZW50IDwgMTAwID8gcGVyY2VudCA6IDEwMCkgKyAnJSd9XFxcIiBhcmlhLXZhbHVldGV4dD1cXFwie3twZXJjZW50IHwgbnVtYmVyOjB9fSVcXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6IDA7XFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3NcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzc1xcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzcy1iYXJcXFwiIG5nLWNsYXNzPVxcXCJ0eXBlICYmICdwcm9ncmVzcy1iYXItJyArIHR5cGVcXFwiIHJvbGU9XFxcInByb2dyZXNzYmFyXFxcIiBhcmlhLXZhbHVlbm93PVxcXCJ7e3ZhbHVlfX1cXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7bWF4fX1cXFwiIG5nLXN0eWxlPVxcXCJ7d2lkdGg6IChwZXJjZW50IDwgMTAwID8gcGVyY2VudCA6IDEwMCkgKyAnJSd9XFxcIiBhcmlhLXZhbHVldGV4dD1cXFwie3twZXJjZW50IHwgbnVtYmVyOjB9fSVcXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6IDA7XFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWxcIixcbiAgICBcIjxzcGFuIG5nLW1vdXNlbGVhdmU9XFxcInJlc2V0KClcXFwiIG5nLWtleWRvd249XFxcIm9uS2V5ZG93bigkZXZlbnQpXFxcIiB0YWJpbmRleD1cXFwiMFxcXCIgcm9sZT1cXFwic2xpZGVyXFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e3JhbmdlLmxlbmd0aH19XFxcIiBhcmlhLXZhbHVlbm93PVxcXCJ7e3ZhbHVlfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICA8c3BhbiBuZy1yZXBlYXQtc3RhcnQ9XFxcInIgaW4gcmFuZ2UgdHJhY2sgYnkgJGluZGV4XFxcIiBjbGFzcz1cXFwic3Itb25seVxcXCI+KHt7ICRpbmRleCA8IHZhbHVlID8gJyonIDogJyAnIH19KTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPGkgbmctcmVwZWF0LWVuZCBuZy1tb3VzZWVudGVyPVxcXCJlbnRlcigkaW5kZXggKyAxKVxcXCIgbmctY2xpY2s9XFxcInJhdGUoJGluZGV4ICsgMSlcXFwiIGNsYXNzPVxcXCJnbHlwaGljb25cXFwiIG5nLWNsYXNzPVxcXCIkaW5kZXggPCB2YWx1ZSAmJiAoci5zdGF0ZU9uIHx8ICdnbHlwaGljb24tc3RhcicpIHx8IChyLnN0YXRlT2ZmIHx8ICdnbHlwaGljb24tc3Rhci1lbXB0eScpXFxcIiBuZy1hdHRyLXRpdGxlPVxcXCJ7e3IudGl0bGV9fVxcXCIgPjwvaT5cXG5cIiArXG4gICAgXCI8L3NwYW4+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RhYnMvdGFiLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXG4gICAgXCI8bGkgbmctY2xhc3M9XFxcInthY3RpdmU6IGFjdGl2ZSwgZGlzYWJsZWQ6IGRpc2FibGVkfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3QoKVxcXCIgdGFiLWhlYWRpbmctdHJhbnNjbHVkZT57e2hlYWRpbmd9fTwvYT5cXG5cIiArXG4gICAgXCI8L2xpPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbFwiLFxuICAgIFwiPGRpdj5cXG5cIiArXG4gICAgXCIgIDx1bCBjbGFzcz1cXFwibmF2IG5hdi17e3R5cGUgfHwgJ3RhYnMnfX1cXFwiIG5nLWNsYXNzPVxcXCJ7J25hdi1zdGFja2VkJzogdmVydGljYWwsICduYXYtanVzdGlmaWVkJzoganVzdGlmaWVkfVxcXCIgbmctdHJhbnNjbHVkZT48L3VsPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidGFiLWNvbnRlbnRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWItcGFuZVxcXCIgXFxuXCIgK1xuICAgIFwiICAgICAgICAgbmctcmVwZWF0PVxcXCJ0YWIgaW4gdGFic1xcXCIgXFxuXCIgK1xuICAgIFwiICAgICAgICAgbmctY2xhc3M9XFxcInthY3RpdmU6IHRhYi5hY3RpdmV9XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgIHRhYi1jb250ZW50LXRyYW5zY2x1ZGU9XFxcInRhYlxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWxcIixcbiAgICBcIjx0YWJsZT5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgbmctc2hvdz1cXFwiOjpzaG93U3Bpbm5lcnNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD48YSBuZy1jbGljaz1cXFwiaW5jcmVtZW50SG91cnMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9JbmNyZW1lbnRIb3VycygpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cFxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD4mbmJzcDs8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD48YSBuZy1jbGljaz1cXFwiaW5jcmVtZW50TWludXRlcygpXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub0luY3JlbWVudE1pbnV0ZXMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXBcXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd01lcmlkaWFuXFxcIj48L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBuZy1jbGFzcz1cXFwieydoYXMtZXJyb3InOiBpbnZhbGlkSG91cnN9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBzdHlsZT1cXFwid2lkdGg6NTBweDtcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJob3Vyc1xcXCIgbmctY2hhbmdlPVxcXCJ1cGRhdGVIb3VycygpXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIHRleHQtY2VudGVyXFxcIiBuZy1yZWFkb25seT1cXFwiOjpyZWFkb25seUlucHV0XFxcIiBtYXhsZW5ndGg9XFxcIjJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjo8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctY2xhc3M9XFxcInsnaGFzLWVycm9yJzogaW52YWxpZE1pbnV0ZXN9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBzdHlsZT1cXFwid2lkdGg6NTBweDtcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJtaW51dGVzXFxcIiBuZy1jaGFuZ2U9XFxcInVwZGF0ZU1pbnV0ZXMoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclxcXCIgbmctcmVhZG9ubHk9XFxcIjo6cmVhZG9ubHlJbnB1dFxcXCIgbWF4bGVuZ3RoPVxcXCIyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1RvZ2dsZU1lcmlkaWFuKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHRleHQtY2VudGVyXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTWVyaWRpYW4oKVxcXCI+e3ttZXJpZGlhbn19PC9idXR0b24+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgPHRyIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgbmctc2hvdz1cXFwiOjpzaG93U3Bpbm5lcnNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD48YSBuZy1jbGljaz1cXFwiZGVjcmVtZW50SG91cnMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9EZWNyZW1lbnRIb3VycygpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPiZuYnNwOzwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJkZWNyZW1lbnRNaW51dGVzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vRGVjcmVtZW50TWludXRlcygpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sXCIsXG4gICAgXCI8YSBocmVmIHRhYmluZGV4PVxcXCItMVxcXCIgbmctYmluZC1odG1sPVxcXCJtYXRjaC5sYWJlbCB8IHR5cGVhaGVhZEhpZ2hsaWdodDpxdWVyeVxcXCI+PC9hPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctc2hvdz1cXFwiaXNPcGVuKCkgJiYgIW1vdmVJblByb2dyZXNzXFxcIiBuZy1zdHlsZT1cXFwie3RvcDogcG9zaXRpb24oKS50b3ArJ3B4JywgbGVmdDogcG9zaXRpb24oKS5sZWZ0KydweCd9XFxcIiBzdHlsZT1cXFwiZGlzcGxheTogYmxvY2s7XFxcIiByb2xlPVxcXCJsaXN0Ym94XFxcIiBhcmlhLWhpZGRlbj1cXFwie3shaXNPcGVuKCl9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxsaSBuZy1yZXBlYXQ9XFxcIm1hdGNoIGluIG1hdGNoZXMgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXNBY3RpdmUoJGluZGV4KSB9XFxcIiBuZy1tb3VzZWVudGVyPVxcXCJzZWxlY3RBY3RpdmUoJGluZGV4KVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdE1hdGNoKCRpbmRleClcXFwiIHJvbGU9XFxcIm9wdGlvblxcXCIgaWQ9XFxcInt7OjptYXRjaC5pZH19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgdHlwZWFoZWFkLW1hdGNoIGluZGV4PVxcXCIkaW5kZXhcXFwiIG1hdGNoPVxcXCJtYXRjaFxcXCIgcXVlcnk9XFxcInF1ZXJ5XFxcIiB0ZW1wbGF0ZS11cmw9XFxcInRlbXBsYXRlVXJsXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbiFhbmd1bGFyLiQkY3NwKCkgJiYgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCdoZWFkJykucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPi5uZy1hbmltYXRlLml0ZW06bm90KC5sZWZ0KTpub3QoLnJpZ2h0KXstd2Via2l0LXRyYW5zaXRpb246MHMgZWFzZS1pbi1vdXQgbGVmdDt0cmFuc2l0aW9uOjBzIGVhc2UtaW4tb3V0IGxlZnR9PC9zdHlsZT4nKTtcbi8qIGFuZ3VsYXItbG9hZC5qcyAvIHYwLjQuMSAvIChjKSAyMDE0LCAyMDE1LCAyMDE2IFVyaSBTaGFrZWQgLyBNSVQgTGljZW5jZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJMb2FkJywgW10pXG5cdFx0LnNlcnZpY2UoJ2FuZ3VsYXJMb2FkJywgWyckZG9jdW1lbnQnLCAnJHEnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJGRvY3VtZW50LCAkcSwgJHRpbWVvdXQpIHtcblx0XHRcdHZhciBkb2N1bWVudCA9ICRkb2N1bWVudFswXTtcblxuXHRcdFx0ZnVuY3Rpb24gbG9hZGVyKGNyZWF0ZUVsZW1lbnQpIHtcblx0XHRcdFx0dmFyIHByb21pc2VzID0ge307XG5cblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKHVybCkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgcHJvbWlzZXNbdXJsXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cdFx0XHRcdFx0XHR2YXIgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQodXJsKTtcblxuXHRcdFx0XHRcdFx0ZWxlbWVudC5vbmxvYWQgPSBlbGVtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChlbGVtZW50LnJlYWR5U3RhdGUgJiYgZWxlbWVudC5yZWFkeVN0YXRlICE9PSAnY29tcGxldGUnICYmIGVsZW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQkdGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShlKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0ZWxlbWVudC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRwcm9taXNlc1t1cmxdID0gZGVmZXJyZWQucHJvbWlzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gcHJvbWlzZXNbdXJsXTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBEeW5hbWljYWxseSBsb2FkcyB0aGUgZ2l2ZW4gc2NyaXB0XG5cdFx0XHQgKiBAcGFyYW0gc3JjIFRoZSB1cmwgb2YgdGhlIHNjcmlwdCB0byBsb2FkIGR5bmFtaWNhbGx5XG5cdFx0XHQgKiBAcmV0dXJucyB7Kn0gUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgb25jZSB0aGUgc2NyaXB0IGhhcyBiZWVuIGxvYWRlZC5cblx0XHRcdCAqL1xuXHRcdFx0dGhpcy5sb2FkU2NyaXB0ID0gbG9hZGVyKGZ1bmN0aW9uIChzcmMpIHtcblx0XHRcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0XHRcdHNjcmlwdC5zcmMgPSBzcmM7XG5cblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuXHRcdFx0XHRyZXR1cm4gc2NyaXB0O1xuXHRcdFx0fSk7XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogRHluYW1pY2FsbHkgbG9hZHMgdGhlIGdpdmVuIENTUyBmaWxlXG5cdFx0XHQgKiBAcGFyYW0gaHJlZiBUaGUgdXJsIG9mIHRoZSBDU1MgdG8gbG9hZCBkeW5hbWljYWxseVxuXHRcdFx0ICogQHJldHVybnMgeyp9IFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9uY2UgdGhlIENTUyBmaWxlIGhhcyBiZWVuIGxvYWRlZC5cblx0XHRcdCAqL1xuXHRcdFx0dGhpcy5sb2FkQ1NTID0gbG9hZGVyKGZ1bmN0aW9uIChocmVmKSB7XG5cdFx0XHRcdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcblxuXHRcdFx0XHRzdHlsZS5yZWwgPSAnc3R5bGVzaGVldCc7XG5cdFx0XHRcdHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuXHRcdFx0XHRzdHlsZS5ocmVmID0gaHJlZjtcblxuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHRcdFx0cmV0dXJuIHN0eWxlO1xuXHRcdFx0fSk7XG5cdFx0fV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udG9vbHRpcFwiLCBbXCJ1aS5ib290c3RyYXBcIl0pXG4gICAgLmRpcmVjdGl2ZShcInJ2VG9vbHRpcFwiLCBbZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmFcIik7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhcImZhLXF1ZXN0aW9uLWNpcmNsZVwiKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmEtbGdcIik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uc2Nyb2xsLXNldHRpbmdcIixcbiAgICBbXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnRvb2x0aXBcIl0pXG4gICAgLmRpcmVjdGl2ZShcInNjcm9sbFNldHRpbmdcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgc2Nyb2xsOiBcIj1cIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvc2Nyb2xsLXNldHRpbmcvc2Nyb2xsLXNldHRpbmcuaHRtbFwiKSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5kZWZhdWx0U2V0dGluZyA9IHtcbiAgICAgICAgICAgIGJ5OiBcIm5vbmVcIixcbiAgICAgICAgICAgIHNwZWVkOiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgcGF1c2U6IDUsXG4gICAgICAgICAgICBwdWQ6IDEwXG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS5kZWZhdWx0cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAob2JqW3Byb3BdID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLiR3YXRjaChcInNjcm9sbFwiLCBmdW5jdGlvbihzY3JvbGwpIHtcbiAgICAgICAgICAgICRzY29wZS5kZWZhdWx0cyhzY3JvbGwsICRzY29wZS5kZWZhdWx0U2V0dGluZyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uc2Nyb2xsLXNldHRpbmdcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5zY3JvbGwtc2V0dGluZ1wiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL3Njcm9sbC1zZXR0aW5nL3Njcm9sbC1zZXR0aW5nLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtM1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tcXFwic2Nyb2xsLmhlYWRpbmdcXFwiIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxcblwiICtcbiAgICBcIiAgICAgIDxzZWxlY3QgaWQ9XFxcInNjcm9sbC1ieVxcXCIgbmctbW9kZWw9XFxcInNjcm9sbC5ieVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJub25lXFxcIj57eydzY3JvbGwuYnkubm9uZScgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiY29udGludW91c1xcXCI+e3snc2Nyb2xsLmJ5LmNvbnRpbnVvdXMnIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInBhZ2VcXFwiPnt7J3Njcm9sbC5ieS5wYWdlJyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgPC9zZWxlY3Q+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtM1xcXCIgbmctc2hvdz1cXFwic2Nyb2xsLmJ5ICE9ICdub25lJ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3snc2Nyb2xsLnNwZWVkLmxhYmVsJyB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICA8c2VsZWN0IGlkPVxcXCJzY3JvbGwtc3BlZWRcXFwiIG5nLW1vZGVsPVxcXCJzY3JvbGwuc3BlZWRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwic2xvd2VzdFxcXCI+e3snc2Nyb2xsLnNwZWVkLnNsb3dlc3QnIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInNsb3dcXFwiPnt7J3Njcm9sbC5zcGVlZC5zbG93JyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJtZWRpdW1cXFwiPnt7J3Njcm9sbC5zcGVlZC5tZWRpdW0nIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImZhc3RcXFwiPnt7J3Njcm9sbC5zcGVlZC5mYXN0JyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJmYXN0ZXN0XFxcIj57eydzY3JvbGwuc3BlZWQuZmFzdGVzdCcgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvc2VsZWN0PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTNcXFwiIG5nLXNob3c9XFxcInNjcm9sbC5ieSAhPSAnbm9uZSdcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7J3Njcm9sbC5wYXVzZS5sYWJlbCcgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IGlkPVxcXCJzY3JvbGwtcGF1c2VcXFwiIHR5cGU9XFxcIm51bWJlclxcXCIgbmctbW9kZWw9XFxcInNjcm9sbC5wYXVzZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgLz5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpbnB1dC1ncm91cC1hZGRvblxcXCI+e3snY29tbW9uLnVuaXRzLnNlY29uZHMnIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtM1xcXCIgbmctc2hvdz1cXFwic2Nyb2xsLmJ5ICE9ICdub25lJ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3snc2Nyb2xsLnB1ZC5sYWJlbCcgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gcG9wb3Zlcj1cXFwie3snc2Nyb2xsLnB1ZC50b29sdGlwJyB8IHRyYW5zbGF0ZX19XFxcIiBwb3BvdmVyLXRyaWdnZXI9XFxcImNsaWNrXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgcG9wb3Zlci1wbGFjZW1lbnQ9XFxcInJpZ2h0XFxcIiBydi10b29sdGlwPjwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgaWQ9XFxcInNjcm9sbC1wdWRcXFwiIHR5cGU9XFxcIm51bWJlclxcXCIgbmctbW9kZWw9XFxcInNjcm9sbC5wdWRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIC8+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7J2NvbW1vbi51bml0cy5zZWNvbmRzJyB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbi8qKlxuICogQmluZHMgYSBUaW55TUNFIHdpZGdldCB0byA8dGV4dGFyZWE+IGVsZW1lbnRzLlxuICovXG5hbmd1bGFyLm1vZHVsZSgndWkudGlueW1jZScsIFtdKVxuICAudmFsdWUoJ3VpVGlueW1jZUNvbmZpZycsIHt9KVxuICAuZGlyZWN0aXZlKCd1aVRpbnltY2UnLCBbJyRyb290U2NvcGUnLCAnJGNvbXBpbGUnLCAnJHRpbWVvdXQnLCAnJHdpbmRvdycsICckc2NlJywgJ3VpVGlueW1jZUNvbmZpZycsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRjb21waWxlLCAkdGltZW91dCwgJHdpbmRvdywgJHNjZSwgdWlUaW55bWNlQ29uZmlnKSB7XG4gICAgdWlUaW55bWNlQ29uZmlnID0gdWlUaW55bWNlQ29uZmlnIHx8IHt9O1xuICAgIHZhciBnZW5lcmF0ZWRJZHMgPSAwO1xuICAgIHZhciBJRF9BVFRSID0gJ3VpLXRpbnltY2UnO1xuICAgIGlmICh1aVRpbnltY2VDb25maWcuYmFzZVVybCkge1xuICAgICAgdGlueW1jZS5iYXNlVVJMID0gdWlUaW55bWNlQ29uZmlnLmJhc2VVcmw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdeP2Zvcm0nXSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgICAgaWYgKCEkd2luZG93LnRpbnltY2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmdNb2RlbCA9IGN0cmxzWzBdLFxuICAgICAgICAgIGZvcm0gPSBjdHJsc1sxXSB8fCBudWxsO1xuXG4gICAgICAgIHZhciBleHByZXNzaW9uLCBvcHRpb25zID0ge30sIHRpbnlJbnN0YW5jZSxcbiAgICAgICAgICB1cGRhdGVWaWV3ID0gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IGVkaXRvci5nZXRDb250ZW50KHtmb3JtYXQ6IG9wdGlvbnMuZm9ybWF0fSkudHJpbSgpO1xuICAgICAgICAgICAgY29udGVudCA9ICRzY2UudHJ1c3RBc0h0bWwoY29udGVudCk7XG5cbiAgICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShjb250ZW50KTtcbiAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlRGlzYWJsZShkaXNhYmxlZCkge1xuICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSkge1xuICAgICAgICAgICAgICB0aW55SW5zdGFuY2UuZ2V0Qm9keSgpLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICBpZiAodGlueUluc3RhbmNlICYmICF0aW55SW5zdGFuY2Uuc2V0dGluZ3MucmVhZG9ubHkpIHtcbiAgICAgICAgICAgICAgdGlueUluc3RhbmNlLmdldEJvZHkoKS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdlbmVyYXRlIGFuIElEXG4gICAgICAgIGF0dHJzLiRzZXQoJ2lkJywgSURfQVRUUiArICctJyArIGdlbmVyYXRlZElkcysrKTtcblxuICAgICAgICBleHByZXNzaW9uID0ge307XG5cbiAgICAgICAgYW5ndWxhci5leHRlbmQoZXhwcmVzc2lvbiwgc2NvcGUuJGV2YWwoYXR0cnMudWlUaW55bWNlKSk7XG5cbiAgICAgICAgdmFyIHNldHVwT3B0aW9ucyA9IHtcbiAgICAgICAgICAvLyBVcGRhdGUgbW9kZWwgd2hlbiBjYWxsaW5nIHNldENvbnRlbnRcbiAgICAgICAgICAvLyAoc3VjaCBhcyBmcm9tIHRoZSBzb3VyY2UgZWRpdG9yIHBvcHVwKVxuICAgICAgICAgIHNldHVwOiBmdW5jdGlvbihlZCkge1xuICAgICAgICAgICAgZWQub24oJ2luaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgICAgICAgICAgIG5nTW9kZWwuJHNldFByaXN0aW5lKCk7XG4gICAgICAgICAgICAgIGlmIChmb3JtKSB7XG4gICAgICAgICAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCBvbiBidXR0b24gY2xpY2tcbiAgICAgICAgICAgIGVkLm9uKCdFeGVjQ29tbWFuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlZC5zYXZlKCk7XG4gICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCBvbiBjaGFuZ2VcbiAgICAgICAgICAgIGVkLm9uKCdjaGFuZ2UgTm9kZUNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlZC5zYXZlKCk7XG4gICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRbMF0uYmx1cigpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCB3aGVuIGFuIG9iamVjdCBoYXMgYmVlbiByZXNpemVkICh0YWJsZSwgaW1hZ2UpXG4gICAgICAgICAgICBlZC5vbignT2JqZWN0UmVzaXplZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlZC5zYXZlKCk7XG4gICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkLm9uKCdyZW1vdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZXhwcmVzc2lvbi5zZXR1cCkge1xuICAgICAgICAgICAgICBleHByZXNzaW9uLnNldHVwKGVkLCB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmlldzogdXBkYXRlVmlld1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvcm1hdDogZXhwcmVzc2lvbi5mb3JtYXQgfHwgJ2h0bWwnLFxuICAgICAgICAgIHNlbGVjdG9yOiAnIycgKyBhdHRycy5pZFxuICAgICAgICB9O1xuICAgICAgICAvLyBleHRlbmQgb3B0aW9ucyB3aXRoIGluaXRpYWwgdWlUaW55bWNlQ29uZmlnIGFuZFxuICAgICAgICAvLyBvcHRpb25zIGZyb20gZGlyZWN0aXZlIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgICBhbmd1bGFyLmV4dGVuZChvcHRpb25zLCB1aVRpbnltY2VDb25maWcsIGV4cHJlc3Npb24sIHNldHVwT3B0aW9ucyk7XG4gICAgICAgIC8vIFdyYXBwZWQgaW4gJHRpbWVvdXQgZHVlIHRvICR0aW55bWNlOnJlZnJlc2ggaW1wbGVtZW50YXRpb24sIHJlcXVpcmVzXG4gICAgICAgIC8vIGVsZW1lbnQgdG8gYmUgcHJlc2VudCBpbiBET00gYmVmb3JlIGluc3RhbnRpYXRpbmcgZWRpdG9yIHdoZW5cbiAgICAgICAgLy8gcmUtcmVuZGVyaW5nIGRpcmVjdGl2ZVxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5iYXNlVVJMKXtcbiAgICAgICAgICAgIHRpbnltY2UuYmFzZVVSTCA9IG9wdGlvbnMuYmFzZVVSTDsgICAgICAgICAgICBcbiAgICAgICAgICB9XG4gICAgICAgICAgdGlueW1jZS5pbml0KG9wdGlvbnMpO1xuICAgICAgICAgIHRvZ2dsZURpc2FibGUoc2NvcGUuJGV2YWwoYXR0cnMubmdEaXNhYmxlZCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBtb2RlbFZhbHVlID8gJHNjZS50cnVzdEFzSHRtbChtb2RlbFZhbHVlKSA6ICcnO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24odmlld1ZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZSA/ICRzY2UuZ2V0VHJ1c3RlZEh0bWwodmlld1ZhbHVlKSA6ICcnO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IG5nTW9kZWwuJHZpZXdWYWx1ZSA/XG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWRIdG1sKG5nTW9kZWwuJHZpZXdWYWx1ZSkgOiAnJztcblxuICAgICAgICAgIC8vIGluc3RhbmNlLmdldERvYygpIGNoZWNrIGlzIGEgZ3VhcmQgYWdhaW5zdCBudWxsIHZhbHVlXG4gICAgICAgICAgLy8gd2hlbiBkZXN0cnVjdGlvbiAmIHJlY3JlYXRpb24gb2YgaW5zdGFuY2VzIGhhcHBlblxuICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UgJiZcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5nZXREb2MoKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGlueUluc3RhbmNlLnNldENvbnRlbnQodmlld1ZhbHVlKTtcbiAgICAgICAgICAgIC8vIFRyaWdnZXJpbmcgY2hhbmdlIGV2ZW50IGR1ZSB0byBUaW55TUNFIG5vdCBmaXJpbmcgZXZlbnQgJlxuICAgICAgICAgICAgLy8gYmVjb21pbmcgb3V0IG9mIHN5bmMgZm9yIGNoYW5nZSBjYWxsYmFja3NcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5maXJlKCdjaGFuZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgdG9nZ2xlRGlzYWJsZSk7XG5cbiAgICAgICAgLy8gVGhpcyBibG9jayBpcyBiZWNhdXNlIG9mIFRpbnlNQ0Ugbm90IHBsYXlpbmcgd2VsbCB3aXRoIHJlbW92YWwgYW5kXG4gICAgICAgIC8vIHJlY3JlYXRpb24gb2YgaW5zdGFuY2VzLCByZXF1aXJpbmcgaW5zdGFuY2VzIHRvIGhhdmUgZGlmZmVyZW50XG4gICAgICAgIC8vIHNlbGVjdG9ycyBpbiBvcmRlciB0byByZW5kZXIgbmV3IGluc3RhbmNlcyBwcm9wZXJseVxuICAgICAgICBzY29wZS4kb24oJyR0aW55bWNlOnJlZnJlc2gnLCBmdW5jdGlvbihlLCBpZCkge1xuICAgICAgICAgIHZhciBlaWQgPSBhdHRycy5pZDtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChpZCkgfHwgaWQgPT09IGVpZCkge1xuICAgICAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgICAgICAgdmFyIGNsb25lZEVsZW1lbnQgPSBlbGVtZW50LmNsb25lKCk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ2lkJyk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuJyk7XG4gICAgICAgICAgICB0aW55bWNlLmV4ZWNDb21tYW5kKCdtY2VSZW1vdmVFZGl0b3InLCBmYWxzZSwgZWlkKTtcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kKCRjb21waWxlKGNsb25lZEVsZW1lbnQpKHNjb3BlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcblxuICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBlbnN1cmVJbnN0YW5jZSgpIHtcbiAgICAgICAgICBpZiAoIXRpbnlJbnN0YW5jZSkge1xuICAgICAgICAgICAgdGlueUluc3RhbmNlID0gdGlueW1jZS5nZXQoYXR0cnMuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIsIFtcbiAgICBcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIixcbiAgICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCJcbiAgXSlcbiAgICAuZGlyZWN0aXZlKFwidXJsRmllbGRcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgXCIkbG9nXCIsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSwgJGxvZykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICByZXF1aXJlOiBcIj9uZ01vZGVsXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgdXJsOiBcIj1cIixcbiAgICAgICAgICBoaWRlTGFiZWw6IFwiQFwiLFxuICAgICAgICAgIGZpbGVUeXBlOiBcIkBcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvdXJsLWZpZWxkL3VybC1maWVsZC5odG1sXCIpLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG5cbiAgICAgICAgICBmdW5jdGlvbiBoYXNWYWxpZEV4dGVuc2lvbih1cmwsIGZpbGVUeXBlKSB7XG4gICAgICAgICAgICB2YXIgdGVzdFVybCA9IHVybC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICBleHRlbnNpb25zO1xuXG4gICAgICAgICAgICBzd2l0Y2goZmlsZVR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtcIi5qcGdcIiwgXCIuanBlZ1wiLCBcIi5wbmdcIiwgXCIuYm1wXCIsIFwiLnN2Z1wiLCBcIi5naWZcIl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMgPSBbXCIud2VibVwiLCBcIi5tcDRcIiwgXCIub2d2XCIsIFwiLm9nZ1wiXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBleHRlbnNpb25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0ZXN0VXJsLmluZGV4T2YoZXh0ZW5zaW9uc1tpXSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIFVSTCBwb2ludHMgdG8gYSB2YWxpZCBpbWFnZSBmaWxlLlxuICAgICAgICAgIGZ1bmN0aW9uIHRlc3RJbWFnZSgpIHtcbiAgICAgICAgICAgIGlmICgoc2NvcGUuZmlsZVR5cGUgIT09IFwidW5kZWZpbmVkXCIpICYmIChzY29wZS51cmwgIT09IFwidW5kZWZpbmVkXCIpKSB7XG4gICAgICAgICAgICAgIGlmIChzY29wZS5maWxlVHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBzY29wZS5maWxlVHlwZTtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBzY29wZS51cmw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB0ZXN0VXJsKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdXJsUmVnRXhwLFxuICAgICAgICAgICAgICBpc1ZhbGlkO1xuXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgIERpc2N1c3Npb25cbiAgICAgICAgICAgICBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM3Njg0L2hvdy10by1yZXBsYWNlLXBsYWluLXVybHMtd2l0aC1saW5rcyMyMTkyNTQ5MVxuXG4gICAgICAgICAgICAgVXNpbmdcbiAgICAgICAgICAgICBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kcGVyaW5pLzcyOTI5NFxuICAgICAgICAgICAgIFJlYXNvbmluZ1xuICAgICAgICAgICAgIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4ICovXG5cbiAgICAgICAgICAgIHVybFJlZ0V4cCA9IC9eKD86KD86aHR0cHM/fGZ0cCk6XFwvXFwvKSg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstPykqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSg/OlxcLig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldKy0/KSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKig/OlxcLig/OlthLXpcXHUwMGExLVxcdWZmZmZdezIsfSkpKSg/OjpcXGR7Miw1fSk/KD86XFwvW15cXHNdKik/JC9pOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuICAgICAgICAgICAgLy8gQWRkIGh0dHA6Ly8gaWYgbm8gcHJvdG9jb2wgcGFyYW1ldGVyIGV4aXN0c1xuICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCI6Ly9cIikgPT09IC0xKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gXCJodHRwOi8vXCIgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXNWYWxpZCA9IHVybFJlZ0V4cC50ZXN0KHZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKGlzVmFsaWQgJiYgdHlwZW9mIHNjb3BlLmZpbGVUeXBlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgIGlzVmFsaWQgPSBoYXNWYWxpZEV4dGVuc2lvbih2YWx1ZSwgc2NvcGUuZmlsZVR5cGUpO1xuICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5pbnZhbGlkVHlwZSA9IHNjb3BlLmZpbGVUeXBlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY29wZS5pbnZhbGlkVHlwZSA9IFwidXJsXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgIHRlc3RJbWFnZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBCeSBkZWZhdWx0IGVuZm9yY2UgdmFsaWRhdGlvblxuICAgICAgICAgIHNjb3BlLmRvVmFsaWRhdGlvbiA9IHRydWU7XG4gICAgICAgICAgLy8gQSBmbGFnIHRvIHNldCBpZiB0aGUgdXNlciB0dXJuZWQgb2ZmIHZhbGlkYXRpb25cbiAgICAgICAgICBzY29wZS5mb3JjZWRWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIC8vIFZhbGlkYXRpb24gc3RhdGVcbiAgICAgICAgICBzY29wZS52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgICBzY29wZS5pbnZhbGlkVHlwZSA9IFwidXJsXCI7XG5cbiAgICAgICAgICBzY29wZS5hbGxvd0luaXRFbXB0eSA9ICh0eXBlb2YgYXR0cnMuaW5pdEVtcHR5ICE9PSBcInVuZGVmaW5lZFwiKTtcblxuICAgICAgICAgIHNjb3BlLmJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLiRlbWl0KFwidXJsRmllbGRCbHVyXCIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJ1cmxcIiwgZnVuY3Rpb24gKHVybCkge1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB1cmwgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgICBpZiAodXJsICE9PSBcIlwiICYmIHNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIGFuIGVtcHR5IFwiXCIgdmFsdWUgbm93IGdldHMgdmFsaWRhdGVkXG4gICAgICAgICAgICAgICAgc2NvcGUuYWxsb3dJbml0RW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChzY29wZS5kb1ZhbGlkYXRpb24gJiYgIXNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSB0ZXN0VXJsKHNjb3BlLnVybCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaChcInZhbGlkXCIsIGZ1bmN0aW9uICh2YWxpZCkge1xuICAgICAgICAgICAgaWYgKGN0cmwpIHtcbiAgICAgICAgICAgICAgJGxvZy5pbmZvKFwiQ2FsbGluZyAkc2V0VmFsaWRpdHkoKSBvbiBwYXJlbnQgY29udHJvbGxlclwiKTtcbiAgICAgICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoXCJ2YWxpZFwiLCB2YWxpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJkb1ZhbGlkYXRpb25cIiwgZnVuY3Rpb24gKGRvVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgaWYodHlwZW9mIHNjb3BlLnVybCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICBpZiAoZG9WYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICghc2NvcGUuYWxsb3dJbml0RW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdGVzdFVybChzY29wZS51cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JjZWRWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci91cmwtZmllbGQvdXJsLWZpZWxkLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiID5cXG5cIiArXG4gICAgXCIgIDxsYWJlbCBuZy1pZj1cXFwiIWhpZGVMYWJlbFxcXCI+e3sgXFxcInVybC5sYWJlbFxcXCIgfCB0cmFuc2xhdGUgfX08L2xhYmVsPlxcblwiICtcbiAgICBcIiAgPGRpdj5cXG5cIiArXG4gICAgXCIgICAgPGlucHV0IG5hbWU9XFxcInVybFxcXCIgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcInVybFxcXCIgbmctYmx1cj1cXFwiYmx1cigpXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBwbGFjZWhvbGRlcj1cXFwiaHR0cDovL1xcXCI+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxwIG5nLWlmPVxcXCIhdmFsaWQgJiYgaW52YWxpZFR5cGUgPT09ICd1cmwnXFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7IFxcXCJ1cmwuZXJyb3JzLnVybFxcXCIgfCB0cmFuc2xhdGUgfX08L3A+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAnaW1hZ2UnXFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7IFxcXCJ1cmwuZXJyb3JzLmltYWdlXFxcIiB8IHRyYW5zbGF0ZSB9fTwvcD5cXG5cIiArXG4gICAgXCIgIDxwIG5nLWlmPVxcXCIhdmFsaWQgJiYgaW52YWxpZFR5cGUgPT09ICd2aWRlbydcXFwiIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3sgXFxcInVybC5lcnJvcnMudmlkZW9cXFwiIHwgdHJhbnNsYXRlIH19PC9wPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY2hlY2tib3hcXFwiIG5nLXNob3c9XFxcImZvcmNlZFZhbGlkIHx8ICF2YWxpZFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxsYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICA8aW5wdXQgbmFtZT1cXFwidmFsaWRhdGUtdXJsXFxcIiBuZy1jbGljaz1cXFwiZG9WYWxpZGF0aW9uID0gIWRvVmFsaWRhdGlvblxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgIHZhbHVlPVxcXCJ2YWxpZGF0ZS11cmxcXFwiPiB7e1xcXCJ1cmwudmFsaWRhdGUubGFiZWxcXFwiIHwgdHJhbnNsYXRlfX1cXG5cIiArXG4gICAgXCIgICAgPC9sYWJlbD5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLCBbXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCJdKVxuICAgIC5kaXJlY3RpdmUoXCJ3aWRnZXRCdXR0b25Ub29sYmFyXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHNhdmU6IFwiJlwiLFxuICAgICAgICAgIGNhbmNlbDogXCImXCIsXG4gICAgICAgICAgZGlzYWJsZVNhdmU6IFwiJlwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoXCJfYW5ndWxhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyLmh0bWxcIilcbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyL3dpZGdldC1idXR0b24tdG9vbGJhci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwdWxsLXJpZ2h0XFxcIj5cXG5cIiArXG4gICAgXCIgIDxidXR0b24gaWQ9XFxcInNhdmVcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgYnRuLWZpeGVkLXdpZHRoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsaWNrPVxcXCJzYXZlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkaXNhYmxlU2F2ZSgpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPHNwYW4+e3tcXFwiY29tbW9uLnNhdmVcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS1jaGVjayBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgIDxidXR0b24gaWQ9XFxcImNhbmNlbFxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tZml4ZWQtd2lkdGhcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xpY2s9XFxcImNhbmNlbCgpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPHNwYW4+e3tcXFwiY29tbW9uLmNhbmNlbFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLXRpbWVzIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQudGV4dC5zZXR0aW5nc1wiLCBbXG4gIFwiYW5ndWxhckxvYWRcIixcbiAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnNjcm9sbC1zZXR0aW5nXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiLFxuICBcInVpLnRpbnltY2VcIlxuXSk7XG5cbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xuaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJsb2NhbGVzL3RyYW5zbGF0aW9uX1wiKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiKTtcbn1cblxudmFyIGNvbmZpZyA9IHt9O1xuXG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsIFtdKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLmNvbnRyb2xsZXIoXCJzZXR0aW5nc0NvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwic2V0dGluZ3NTYXZlclwiLCBcInNldHRpbmdzR2V0dGVyXCIsIFwic2V0dGluZ3NDbG9zZXJcIixcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCBzZXR0aW5nc1NhdmVyLCBzZXR0aW5nc0dldHRlciwgc2V0dGluZ3NDbG9zZXIpIHtcblxuICAgICRzY29wZS5zZXR0aW5ncyA9IHsgcGFyYW1zOiB7fSwgYWRkaXRpb25hbFBhcmFtczoge319O1xuICAgICRzY29wZS5hbGVydHMgPSBbXTtcblxuICAgICRzY29wZS5nZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbCkge1xuICAgICAgdmFyIHZhbCA9ICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zW25hbWVdO1xuICAgICAgaWYoYW5ndWxhci5pc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XG4gICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtc1tuYW1lXSA9IHZhbDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmxvYWRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dGluZ3NHZXR0ZXIuZ2V0QWRkaXRpb25hbFBhcmFtcygpLnRoZW4oZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgPSBhZGRpdGlvbmFsUGFyYW1zO1xuICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImxvYWRBZGRpdGlvbmFsUGFyYW1zXCIsIGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIChlcnIpIHthbGVydCAoZXJyKTsgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xuICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV0gPSB2YWw7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvL2NsZWFyIG91dCBwcmV2aW91cyBhbGVydHMsIGlmIGFueVxuICAgICAgJHNjb3BlLmFsZXJ0cyA9IFtdO1xuXG4gICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImNvbGxlY3RBZGRpdGlvbmFsUGFyYW1zXCIpO1xuXG4gICAgICBzZXR0aW5nc1NhdmVyLnNhdmVTZXR0aW5ncygkc2NvcGUuc2V0dGluZ3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86IHBlcmhhcHMgc2hvdyBzb21lIGluZGljYXRvciBpbiBVST9cbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgJHNjb3BlLmFsZXJ0cyA9IGVyci5hbGVydHM7XG4gICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuY2xvc2VTZXR0aW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0dGluZ3NDbG9zZXIuY2xvc2VTZXR0aW5ncygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICRzY29wZS5hbGVydHMgPSBlcnIuYWxlcnRzO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldHRpbmdzLnBhcmFtcyA9IHNldHRpbmdzR2V0dGVyLmdldFBhcmFtcygpO1xuICAgICRzY29wZS5sb2FkQWRkaXRpb25hbFBhcmFtcygpO1xuICB9XSlcblxuICAuZGlyZWN0aXZlKFwic2Nyb2xsT25BbGVydHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiBcIkFcIiwgLy9yZXN0cmljdHMgdG8gYXR0cmlidXRlc1xuICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxtKSB7XG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKFwiYWxlcnRzXCIsIGZ1bmN0aW9uIChuZXdBbGVydHMsIG9sZEFsZXJ0cykge1xuICAgICAgICAgIGlmKG5ld0FsZXJ0cy5sZW5ndGggPiAwICYmIG9sZEFsZXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDogJGVsbS5vZmZzZXQoKS50b3B9LCBcImZhc3RcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5jb25zdGFudChcIlNUT1JBR0VfRklMRV9VUkxfQkFTRVwiLCBcInN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vcmlzZW1lZGlhbGlicmFyeS1cIilcbiAgLmNvbnN0YW50KFwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0VcIiwgXCJnb29nbGVhcGlzLmNvbS9zdG9yYWdlL1wiKVxuICAuZmFjdG9yeShcImNvbW1vblNldHRpbmdzXCIsIFtcIiRsb2dcIiwgXCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0VcIiwgXCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRVwiLFxuICAgIGZ1bmN0aW9uICgkbG9nLCBTVE9SQUdFX0ZJTEVfVVJMX0JBU0UsIFNUT1JBR0VfRk9MREVSX1VSTF9CQVNFKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgIGdldFN0b3JhZ2VVcmxEYXRhOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBzdG9yYWdlID0ge30sXG4gICAgICAgICAgc3RyLCBhcnIsIHBhcmFtcywgcGFpcjtcblxuICAgICAgICBmdW5jdGlvbiBnZXRTdG9yYWdlVHlwZShzdG9yYWdlVXJsKSB7XG4gICAgICAgICAgaWYgKHN0b3JhZ2VVcmwuaW5kZXhPZihTVE9SQUdFX0ZJTEVfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZmlsZVwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdG9yYWdlVXJsLmluZGV4T2YoU1RPUkFHRV9GT0xERVJfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZm9sZGVyXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDb21wYW55SWQoc3RvcmFnZVVybCkge1xuICAgICAgICAgIHZhciBwID0gc3RvcmFnZVVybC5zcGxpdChcInJpc2VtZWRpYWxpYnJhcnktXCIpO1xuXG4gICAgICAgICAgcmV0dXJuIHBbMV0uc2xpY2UoMCwgcFsxXS5pbmRleE9mKFwiL1wiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2V0U3RvcmFnZVR5cGUodXJsKSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgICBzdHIgPSB1cmwuc3BsaXQoU1RPUkFHRV9GSUxFX1VSTF9CQVNFKVsxXTtcbiAgICAgICAgICBzdHIgPSBkZWNvZGVVUklDb21wb25lbnQoc3RyLnNsaWNlKHN0ci5pbmRleE9mKFwiL1wiKSArIDEpKTtcbiAgICAgICAgICBhcnIgPSBzdHIuc3BsaXQoXCIvXCIpO1xuXG4gICAgICAgICAgc3RvcmFnZS5jb21wYW55SWQgPSBnZXRDb21wYW55SWQodXJsKTtcbiAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gYXJyLnBvcCgpO1xuICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gYXJyLmxlbmd0aCA+IDAgPyBhcnIuam9pbihcIi9cIikgOiBcIlwiO1xuXG4gICAgICAgICAgaWYgKHN0b3JhZ2UuZm9sZGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAvLyBhZGQgZW5kaW5nIFwiL1wiIHRvIHRoZSBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgc3RvcmFnZS5mb2xkZXIgKz0gXCIvXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdldFN0b3JhZ2VUeXBlKHVybCkgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgICAgICBwYXJhbXMgPSB1cmwuc3BsaXQoXCI/XCIpO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYXJhbXNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICAgICAgICBpZiAocGFpclswXSA9PT0gXCJwcmVmaXhcIiAmJiB0eXBlb2YgcGFpclsxXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwYWlyWzFdICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuY29tcGFueUlkID0gZ2V0Q29tcGFueUlkKHVybCk7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0b3JhZ2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5mYWN0b3J5KFwiZ2FkZ2V0c0FwaVwiLCBbXCIkd2luZG93XCIsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgcmV0dXJuICR3aW5kb3cuZ2FkZ2V0cztcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImdvb2dsZUZvbnRMb2FkZXJcIiwgW1wiJGh0dHBcIiwgXCJhbmd1bGFyTG9hZFwiLCBmdW5jdGlvbiAoJGh0dHAsIGFuZ3VsYXJMb2FkKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHt9LFxuICAgICAgYWxsRm9udHMgPSBbXTtcblxuICAgIGZhY3RvcnkuZ2V0R29vZ2xlRm9udHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChhbGxGb250cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gR2V0IGxpc3Qgb2YgR29vZ2xlIGZvbnRzIHNvcnRlZCBhbHBoYWJldGljYWxseS5cbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3dlYmZvbnRzL3YxL3dlYmZvbnRzP2tleT1BSXphU3lCWHhWS19JT1Y3TE5RTXVWVm9fbDdadk41M2VqTjg2elkmc29ydD1hbHBoYVwiLCB7IGNhY2hlOiB0cnVlIH0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAocmVzcC5kYXRhICYmIHJlc3AuZGF0YS5pdGVtcykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcmVzcC5kYXRhLml0ZW1zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHJlc3AuZGF0YS5pdGVtc1tpXTtcblxuICAgICAgICAgICAgICAgIC8vIERvbid0IHJldHVybiB0aG9zZSBmb250cyB0aGF0IGhhdmUgYSBzdWJzZXQgb2YgXCJraG1lclwiLlxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1YnNldHMgJiYgKGl0ZW0uc3Vic2V0cy5sZW5ndGggPT09IDEpICYmXG4gICAgICAgICAgICAgICAgICAoaXRlbS5zdWJzZXRzWzBdLnRvTG93ZXJDYXNlKCkgPT09IFwia2htZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWxsRm9udHMucHVzaChpdGVtLmZhbWlseSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gbG9hZEZvbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvYWRGb250cygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKiBGaWx0ZXIgbGlzdCBvZiBmb250cyB0byBvbmx5IHJldHVybiB0aG9zZSB0aGF0IGFyZSBHb29nbGUgZm9udHMuICovXG4gICAgZmFjdG9yeS5nZXRGb250c1VzZWQgPSBmdW5jdGlvbihmYW1pbHlMaXN0KSB7XG4gICAgICB2YXIgZm9udHNVc2VkID0gW107XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChhbGxGb250cywgZnVuY3Rpb24gKGZhbWlseSkge1xuICAgICAgICBpZiAoZmFtaWx5TGlzdC5pbmRleE9mKGZhbWlseSkgIT09IC0xKSB7XG4gICAgICAgICAgZm9udHNVc2VkLnB1c2goZmFtaWx5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmb250c1VzZWQ7XG4gICAgfTtcblxuICAgIC8qIExvYWQgdGhlIEdvb2dsZSBmb250cy4gKi9cbiAgICBmdW5jdGlvbiBsb2FkRm9udHMoKSB7XG4gICAgICB2YXIgZmFtaWx5ID0gXCJcIixcbiAgICAgICAgZm9udHMgPSBcIlwiLFxuICAgICAgICB1cmwgPSBcIlwiLFxuICAgICAgICB1cmxzID0gW10sXG4gICAgICAgIHNwYWNlcyA9IGZhbHNlLFxuICAgICAgICBmYWxsYmFjayA9IFwiLHNhbnMtc2VyaWY7XCIsXG4gICAgICAgIGZvbnRCYXNlVXJsID0gXCIvL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9XCIsXG4gICAgICAgIGV4Y2x1ZGUgPSBbXCJCdWRhXCIsIFwiQ29kYSBDYXB0aW9uXCIsIFwiT3BlbiBTYW5zIENvbmRlbnNlZFwiLCBcIlVuaWZyYWt0dXJDb29rXCIsIFwiTW9sbGVcIl07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsRm9udHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZmFtaWx5ID0gYWxsRm9udHNbaV07XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihmYW1pbHkpID09PSAtMSkge1xuICAgICAgICAgIHVybCA9IGZvbnRCYXNlVXJsICsgZmFtaWx5O1xuXG4gICAgICAgICAgYW5ndWxhckxvYWQubG9hZENTUyh1cmwpO1xuICAgICAgICAgIHVybHMucHVzaCh1cmwpO1xuXG4gICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlcyBpbiBmYW1pbHkgbmFtZVxuICAgICAgICAgIGlmICgvXFxzLy50ZXN0KGZhbWlseSkpIHtcbiAgICAgICAgICAgIHNwYWNlcyA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNwYWNlcykge1xuICAgICAgICAgICAgLy8gd3JhcCBmYW1pbHkgbmFtZSBpbiBzaW5nbGUgcXVvdGVzXG4gICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj0nXCIgKyBmYW1pbHkgKyBcIidcIiArIGZhbGxiYWNrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPVwiICsgZmFtaWx5ICsgZmFsbGJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGZvbnRzOiBmb250cywgdXJsczogdXJscyB9O1xuICAgIH1cblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5zZXJ2aWNlKFwiaTE4bkxvYWRlclwiLCBbXCIkd2luZG93XCIsIFwiJHFcIiwgZnVuY3Rpb24gKCR3aW5kb3csICRxKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICR3aW5kb3cuaTE4bi5pbml0KHsgXG4gICAgICBmYWxsYmFja0xuZzogXCJlblwiLFxuICAgICAgcmVzR2V0UGF0aDogXCJsb2NhbGVzL19fbnNfX19fX2xuZ19fLmpzb25cIlxuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5pMThuKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImltYWdlVmFsaWRhdG9yXCIsIFtcIiRxXCIsIGZ1bmN0aW9uICgkcSkge1xuICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgLy8gVmVyaWZ5IHRoYXQgVVJMIGlzIGEgdmFsaWQgaW1hZ2UgZmlsZS5cbiAgICAgIGlzSW1hZ2U6IGZ1bmN0aW9uKHNyYykge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuc2VydmljZShcInNldHRpbmdzU2F2ZXJcIiwgW1wiJHFcIiwgXCIkbG9nXCIsIFwiZ2FkZ2V0c0FwaVwiLCBcInNldHRpbmdzUGFyc2VyXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSwgc2V0dGluZ3NQYXJzZXIpIHtcblxuICAgIHRoaXMuc2F2ZVNldHRpbmdzID0gZnVuY3Rpb24gKHNldHRpbmdzLCB2YWxpZGF0b3IpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgYWxlcnRzID0gW10sIHN0ciA9IFwiXCI7XG5cbiAgICAgIHNldHRpbmdzID0gcHJvY2Vzc1NldHRpbmdzKHNldHRpbmdzKTtcblxuICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICBhbGVydHMgPSB2YWxpZGF0b3Ioc2V0dGluZ3MpO1xuICAgICAgfVxuXG4gICAgICBpZihhbGVydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAkbG9nLmRlYnVnKFwiVmFsaWRhdGlvbiBmYWlsZWQuXCIsIGFsZXJ0cyk7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdCh7YWxlcnRzOiBhbGVydHN9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNldHRpbmdzLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImxheW91dFVSTFwiKSkge1xuICAgICAgICAvLyBlbnN1cmUgdGhlIHVybCBpcyB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZ1xuICAgICAgICBzdHIgKz0gc2V0dGluZ3MucGFyYW1zLmxheW91dFVSTCArIFwiP1wiO1xuICAgICAgICAvLyBkZWxldGUgdGhpcyBwcm9wZXJ0eSBzbyBpdHMgbm90IGluY2x1ZGVkIGJlbG93IGluIGVuY29kZVBhcmFtcyBjYWxsXG4gICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5wYXJhbXMubGF5b3V0VVJMO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gc2V0dGluZ3NQYXJzZXIuZW5jb2RlUGFyYW1zKHNldHRpbmdzLnBhcmFtcyk7XG5cbiAgICAgIHZhciBhZGRpdGlvbmFsUGFyYW1zU3RyID1cbiAgICAgICAgc2V0dGluZ3NQYXJzZXIuZW5jb2RlQWRkaXRpb25hbFBhcmFtcyhzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX3NhdmVTZXR0aW5nc1wiLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICRsb2cuZGVidWcoXCJlbmNvZGVkIHNldHRpbmdzXCIsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICAkbG9nLmRlYnVnKFwiU2V0dGluZ3Mgc2F2ZWQuIFwiLCBzZXR0aW5ncyk7XG5cbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSwge1xuICAgICAgICBwYXJhbXM6IHN0cixcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtczogYWRkaXRpb25hbFBhcmFtc1N0clxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgICAgIHZhciBuZXdTZXR0aW5ncyA9IGFuZ3VsYXIuY29weShzZXR0aW5ncyk7XG5cbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMuaWQ7XG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLmNvbXBhbnlJZDtcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMucnNXO1xuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5yc0g7XG5cbiAgICAgIHJldHVybiBuZXdTZXR0aW5ncztcbiAgICB9XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0dldHRlclwiLCBbXCIkcVwiLCBcImdhZGdldHNBcGlcIiwgXCIkbG9nXCIsIFwic2V0dGluZ3NQYXJzZXJcIiwgXCIkd2luZG93XCIsIFwiZGVmYXVsdFNldHRpbmdzXCIsXG4gICAgZnVuY3Rpb24gKCRxLCBnYWRnZXRzQXBpLCAkbG9nLCBzZXR0aW5nc1BhcnNlciwgJHdpbmRvdywgZGVmYXVsdFNldHRpbmdzKSB7XG5cbiAgICAgIHRoaXMuZ2V0QWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgdmFyIGRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgfHwge307XG5cbiAgICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2dldEFkZGl0aW9uYWxQYXJhbXNcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNldHRpbmdzUGFyc2VyLnBhcnNlQWRkaXRpb25hbFBhcmFtcyhyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHt9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRsb2cuZGVidWcoXCJnZXRBZGRpdGlvbmFsUGFyYW1zIHJldHVybnMgXCIsIHJlc3VsdCk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkLmV4dGVuZCh0cnVlLCBkZWZhdWx0QWRkaXRpb25hbFBhcmFtcywgcmVzdWx0KSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5nZXRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWZhdWx0UGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLnBhcmFtcyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRQYXJhbXMsXG4gICAgICAgICAgc2V0dGluZ3NQYXJzZXIucGFyc2VQYXJhbXMoJHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpKTtcbiAgICAgIH07XG4gIH1dKVxuXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NQYXJzZXJcIiwgW2Z1bmN0aW9uICgpIHtcbiAgICB0aGlzLnBhcnNlQWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uIChhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICBpZihhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGFkZGl0aW9uYWxQYXJhbXNTdHIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICB2YXIgc3RyID0gW107XG4gICAgICBmb3IodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXNbcF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zW3BdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcmFtc1twXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyLnB1c2goXCJ1cF9cIiArIGVuY29kZVVSSUNvbXBvbmVudChwKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc3RyaXBQcmVmaXgobmFtZSkge1xuICAgICAgaWYobmFtZS5pbmRleE9mKFwidXBfXCIpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuYW1lLnNsaWNlKDMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucGFyc2VQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zU3RyKSB7XG4gICAgICAvL2dldCByaWQgb2YgcHJlY2VlZGluZyBcIj9cIlxuICAgICAgaWYocGFyYW1zU3RyWzBdID09PSBcIj9cIikge1xuICAgICAgICBwYXJhbXNTdHIgPSBwYXJhbXNTdHIuc2xpY2UoMSk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICB2YXIgdmFycyA9IHBhcmFtc1N0ci5zcGxpdChcIiZcIik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgdmFyIG5hbWUgPSBzdHJpcFByZWZpeChkZWNvZGVVUklDb21wb25lbnQocGFpclswXSkpO1xuICAgICAgICAvL3NhdmUgc2V0dGluZ3Mgb25seSBpZiBpdCBoYXMgdXBfIHByZWZpeC4gSWdub3JlIG90aGVyd2lzZVxuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0Nsb3NlclwiLCBbXCIkcVwiLCBcIiRsb2dcIiwgXCJnYWRnZXRzQXBpXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSkge1xuXG4gICAgdGhpcy5jbG9zZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2Nsb3NlU2V0dGluZ3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnZhbHVlKFwiZGVmYXVsdFNldHRpbmdzXCIsIHt9KTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnZpc3VhbGl6YXRpb25cIiwgW10pXG4gICAgLmZhY3RvcnkoXCJ2aXN1YWxpemF0aW9uQXBpXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLCBmdW5jdGlvbiAoJHEsICR3aW5kb3cpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgcHJvbWlzZTtcblxuICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICBpZiAoISR3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24pIHtcbiAgICAgICAgICAgICAgJHdpbmRvdy5nb29nbGUuc2V0T25Mb2FkQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICB9XSk7XG5cbn0pKGFuZ3VsYXIpO1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cyAqL1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LnRleHQuc2V0dGluZ3NcIilcbiAgLmNvbnRyb2xsZXIoXCJ0ZXh0U2V0dGluZ3NDb250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcIiRyb290U2NvcGVcIiwgXCIkbG9nXCIsIFwiJHdpbmRvd1wiLCBcIiR0aW1lb3V0XCIsIFwiZ29vZ2xlRm9udExvYWRlclwiLCBcIkZPTlRfU0laRVNcIiwgXCJGT05UX0ZBTUlMSUVTXCIsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGxvZywgJHdpbmRvdywgJHRpbWVvdXQsIGdvb2dsZUZvbnRMb2FkZXIsIEZPTlRfU0laRVMsIEZPTlRfRkFNSUxJRVMpIHtcblxuICAgICAgdmFyIF9pc0xvYWRpbmcgPSB0cnVlLFxuICAgICAgICBfZ29vZ2xlRm9udHMgPSBcIlwiLFxuICAgICAgICBfZ29vZ2xlRm9udFVybHMgPSBbXSxcbiAgICAgICAgX2N1c3RvbUZvbnRUb1NlbGVjdCA9IFwiXCIsXG4gICAgICAgIF9saW5lSGVpZ2h0VG9vbCA9IG51bGwsXG4gICAgICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCk7XG5cbiAgICAgIC8vIEhhbmRsZSB0b29sYmFyIGludGVyYWN0aW9ucy5cbiAgICAgIGZ1bmN0aW9uIGluaXRDb21tYW5kcyhlZGl0b3IsIGFyZ3MpIHtcbiAgICAgICAgc3dpdGNoKGFyZ3MuY29tbWFuZCkge1xuICAgICAgICAgIGNhc2UgXCJGb250TmFtZVwiOlxuICAgICAgICAgICAgaWYgKF9pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYXJncy52YWx1ZSA9PT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJzaG93Q3VzdG9tXCIpO1xuXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFwcGx5TGluZUhlaWdodChlZGl0b3IsIHZhbHVlKSB7XG4gICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICBlZGl0b3IuZm9ybWF0dGVyLnRvZ2dsZShcImxpbmVIZWlnaHRcIiwge3ZhbHVlOiB2YWx1ZX0pO1xuICAgICAgICBlZGl0b3Iubm9kZUNoYW5nZWQoKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdXBkYXRlTGluZUhlaWdodChlZGl0b3IpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbnVsbCxcbiAgICAgICAgICBzZWxlY3RlZE5vZGUsXG4gICAgICAgICAgc2VsZWN0ZWROb2RlUGFyZW50cztcblxuICAgICAgICBzZWxlY3RlZE5vZGUgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldE5vZGUoKTtcblxuICAgICAgICAvLyBvbmx5IGNoZWNrIDxzcGFuPiBlbGVtZW50c1xuICAgICAgICBpZiAoIV9pc0xvYWRpbmcgJiYgc2VsZWN0ZWROb2RlLm5vZGVOYW1lID09PSBcIlNQQU5cIiAmJiBfbGluZUhlaWdodFRvb2wpIHtcblxuICAgICAgICAgIHZhbHVlID0gZWRpdG9yLmRvbS5nZXRTdHlsZShzZWxlY3RlZE5vZGUsIFwibGluZS1oZWlnaHRcIik7XG5cbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAvLyB0cmF2ZXJzZSB1cCB0aGUgbm9kZXMgcGFyZW50cyB0byBmaW5kIHRoZSByb290IDxzcGFuPiBub2RlIHRoYXQgZG9lcyBoYXZlIGxpbmUgaGVpZ2h0IGFwcGxpZWRcbiAgICAgICAgICAgIHNlbGVjdGVkTm9kZVBhcmVudHMgPSBlZGl0b3IuZG9tLmdldFBhcmVudHMoc2VsZWN0ZWROb2RlKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZE5vZGVQYXJlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgIGlmIChzZWxlY3RlZE5vZGVQYXJlbnRzW2ldLm5vZGVOYW1lID09PSBcIlNQQU5cIiAmJiBlZGl0b3IuZG9tLmdldFN0eWxlKHNlbGVjdGVkTm9kZVBhcmVudHNbaV0sIFwibGluZS1oZWlnaHRcIikpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGVkaXRvci5kb20uZ2V0U3R5bGUoc2VsZWN0ZWROb2RlUGFyZW50c1tpXSwgXCJsaW5lLWhlaWdodFwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGxpbmUgaGVpZ2h0IHRvb2wgc2VsZWN0aW9uXG4gICAgICAgICAgICBfbGluZUhlaWdodFRvb2wudmFsdWUodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSW5pdGlhbGl6ZSBUaW55TUNFLlxuICAgICAgZnVuY3Rpb24gaW5pdFRpbnlNQ0UoKSB7XG4gICAgICAgICRzY29wZS50aW55bWNlT3B0aW9ucyA9IHtcbiAgICAgICAgICBwbHVnaW5zOiBcImNvZGUgY29sb3JwaWNrZXIgdGV4dGNvbG9yIHdvcmRjb3VudFwiLFxuICAgICAgICAgIHNraW5fdXJsOiBcIi8vczMuYW1hem9uYXdzLmNvbS9yaXNlLWNvbW1vbi9zdHlsZXMvdGlueW1jZS9yaXNlXCIsXG4gICAgICAgICAgZm9udF9mb3JtYXRzOiBnZXRGb250Rm9ybWF0cygpLFxuICAgICAgICAgIGZvcm1hdHM6IHtcbiAgICAgICAgICAgIGZvbnRzaXplOiB7IGlubGluZTogXCJzcGFuXCIsIHNwbGl0OiBmYWxzZSwgc3R5bGVzOiB7IGZvbnRTaXplOiBcIiV2YWx1ZVwiIH0gfSxcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHsgaW5saW5lOiBcInNwYW5cIiwgc3R5bGVzOiB7IGxpbmVIZWlnaHQ6IFwiJXZhbHVlXCIgfSB9LFxuICAgICAgICAgICAgcGFyYWdyYXBoOiB7IGJsb2NrOiBcInBcIiwgc3R5bGVzOiB7IG1hcmdpbjogXCIwXCIgfSB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb250ZW50X2NzczogX2dvb2dsZUZvbnRVcmxzLFxuICAgICAgICAgIHN0eWxlX2Zvcm1hdHNfbWVyZ2U6IHRydWUsXG4gICAgICAgICAgZm9udHNpemVfZm9ybWF0czogRk9OVF9TSVpFUyxcbiAgICAgICAgICBtaW5faGVpZ2h0OiAxNzUsXG4gICAgICAgICAgbWVudWJhcjogZmFsc2UsXG4gICAgICAgICAgdG9vbGJhcjE6IFwiZm9udHNlbGVjdCBmb250c2l6ZXNlbGVjdCB8IFwiICtcbiAgICAgICAgICAgIFwiZm9yZWNvbG9yIGJhY2tjb2xvciB8IFwiICtcbiAgICAgICAgICAgIFwiYm9sZCBpdGFsaWMgdW5kZXJsaW5lIHwgXCIgK1xuICAgICAgICAgICAgXCJhbGlnbmxlZnQgYWxpZ25jZW50ZXIgYWxpZ25yaWdodCBhbGlnbmp1c3RpZnkgfCBcIiArXG4gICAgICAgICAgICBcImJ1bGxpc3QgbnVtbGlzdCBpbmRlbnQgb3V0ZGVudCBsaW5laGVpZ2h0IHwgXCIgK1xuICAgICAgICAgICAgXCJyZW1vdmVmb3JtYXQgY29kZVwiLFxuICAgICAgICAgIHNldHVwOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIC8vIGFkZCB0aGUgTGluZSBIZWlnaHQgbGlzdCBib3hcbiAgICAgICAgICAgIGVkaXRvci5hZGRCdXR0b24oXCJsaW5laGVpZ2h0XCIsIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJsaXN0Ym94XCIsXG4gICAgICAgICAgICAgIHRleHQ6IFwiTGluZSBIZWlnaHRcIixcbiAgICAgICAgICAgICAgdGl0bGU6IFwiTGluZSBIZWlnaHRcIixcbiAgICAgICAgICAgICAgaWNvbjogZmFsc2UsXG4gICAgICAgICAgICAgIHZhbHVlczogW1xuICAgICAgICAgICAgICAgIHt0ZXh0OlwiU2luZ2xlXCIsIHZhbHVlOiBcIjFcIn0sXG4gICAgICAgICAgICAgICAge3RleHQ6XCJEb3VibGVcIiwgdmFsdWU6IFwiMlwifVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBvbnNlbGVjdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFwcGx5TGluZUhlaWdodChlZGl0b3IsIHRoaXMudmFsdWUoKSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG9uUG9zdFJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIHNhdmUgYSByZWZlcmVuY2UgdG8gdGhlIGN1c3RvbSBsaW5lIGhlaWdodCBsaXN0Ym94XG4gICAgICAgICAgICAgICAgX2xpbmVIZWlnaHRUb29sID0gdGhpcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkaXRvci5vbihcImluaXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIC8vIFNldCB3aWR0aCBvZiBlZGl0YWJsZSBhcmVhIHRvIGJlIHRoZSBzYW1lIGFzIHRoYXQgb2YgdGhlIFBsYWNlaG9sZGVyLlxuICAgICAgICAgICAgICB2YXIgbWNlQ29udGFpbmVyRGl2V2lkdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1jZS1jb250YWluZXItYm9keVwiKS5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyV2lkdGggPSBfcHJlZnMuZ2V0SW50KFwicnNXXCIpO1xuXG4gICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcldpZHRoID4gbWNlQ29udGFpbmVyRGl2V2lkdGgpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1jZS1lZGl0LWFyZWEgaWZyYW1lXCIpLmNvbnRlbnREb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gcGxhY2Vob2xkZXJXaWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1jZS1lZGl0LWFyZWEgaWZyYW1lXCIpLnN0eWxlLndpZHRoID0gcGxhY2Vob2xkZXJXaWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgLy8gZW5zdXJlIGN1c3RvbSBmb250cyBhcmUgYWRkZWQgdG8gZnJhbWUgd2l0aCBldmVyeSBlZGl0b3IgaW5pdCgpIGNhbGwgdG8gYWNjb3VudCBmb3IgZWRpdG9yIHJlZnJlc2hcbiAgICAgICAgICAgICAgYWRkQ3VzdG9tRm9udHNUb0ZyYW1lKGVkaXRvcik7XG5cbiAgICAgICAgICAgICAgaWYgKF9pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGNhbGwgdGhpcyB3aGVuIGluaXRpYWxseSBsb2FkaW5nLCBpdCBsb2FkcyBhbGwgcHJldmlvdXNseSBzYXZlZCBjdXN0b20gZm9udHNcbiAgICAgICAgICAgICAgICBhZGRDdXN0b21Gb250c1RvRG9jdW1lbnQoJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuY3VzdG9tRm9udHMuZm9udHMpO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgZm9udHNlbGVjdCBhbmQgZm9udHNpemUgdG9vbHMgdG8gc2VsZWN0IGRlZmF1bHRzXG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiRm9udE5hbWVcIiwgZmFsc2UsIFwidmVyZGFuYSxnZW5ldmEsc2Fucy1zZXJpZlwiKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJGb250U2l6ZVwiLCBmYWxzZSwgXCIyNHB4XCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gQXBwbHlpbmcgbm8gbWFyZ2luIG9yIHBhZGRpbmcgZm9yIGFsbCBwYXJhZ3JhcGhzXG4gICAgICAgICAgICAgICAgZWRpdG9yLmZvcm1hdHRlci5hcHBseShcInBhcmFncmFwaFwiKTtcblxuICAgICAgICAgICAgICAgIC8vIFJlZ2lzdGVyIGFwcGx5aW5nIGxpbmUtaGVpZ2h0IHN0eWxpbmcgb24gYWxsIDxzcGFuPiBlbGVtZW50c1xuICAgICAgICAgICAgICAgIGVkaXRvci5mb3JtYXR0ZXIucmVnaXN0ZXIoXCJsaW5lSGVpZ2h0XCIsIHtpbmxpbmUgOiBcInNwYW5cIiwgc3R5bGVzIDoge2xpbmVIZWlnaHQgOiBcIiV2YWx1ZVwifX0pO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgbGluZSBoZWlnaHQgc2VsZWN0aW9uIHRvIG5vdCBqdXN0IGRlZmF1bHQgb24gU2luZ2xlLCBidXQgZGlzcGxheSBTaW5nbGUgaW4gdG9vbCB0ZXh0XG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byBmaXJzdCBjaGFuZ2Ugc2VsZWN0aW9uLCB0aGVuIGNoYW5nZSBiYWNrXG4gICAgICAgICAgICAgICAgX2xpbmVIZWlnaHRUb29sLnZhbHVlKFwiMlwiKTtcbiAgICAgICAgICAgICAgICBfbGluZUhlaWdodFRvb2wudmFsdWUoXCIxXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgZWRpdG9yIHRvIGFwcGx5IHNpbmdsZSBzcGFjaW5nIGFzIGRlZmF1bHRcbiAgICAgICAgICAgICAgICBhcHBseUxpbmVIZWlnaHQoZWRpdG9yLCBcIjFcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBoYXBwZW5zIHdoZW4gYSBjdXN0b20gZm9udCB3YXMgbG9hZGVkIGFuZCBhIHJlZnJlc2ggb2YgZWRpdG9yIG9jY3VycmVkXG5cbiAgICAgICAgICAgICAgICAvLyBmb2N1cyBjdXJzb3IgdG8gdGhlIGVuZCBvZiB0aGUgdGV4dFxuICAgICAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uc2VsZWN0KGVkaXRvci5nZXRCb2R5KCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY29sbGFwc2UoZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKF9jdXN0b21Gb250VG9TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdCB0aGUgY3VzdG9tIGZvbnQgaW4gZm9udHNlbGVjdCBsaXN0XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJGb250TmFtZVwiLCBmYWxzZSwgX2N1c3RvbUZvbnRUb1NlbGVjdC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikudG9Mb3dlckNhc2UoKSArIFwiLHNhbnMtc2VyaWZcIik7XG4gICAgICAgICAgICAgICAgICBfY3VzdG9tRm9udFRvU2VsZWN0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWRpdG9yLm9uKFwiRXhlY0NvbW1hbmRcIiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgICBpbml0Q29tbWFuZHMoZWRpdG9yLCBhcmdzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlZGl0b3Iub24oXCJOb2RlQ2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAvLyBOb2RlQ2hhbmdlIGZpcmVzIHdoZW4gdGhlIHNlbGVjdGlvbiBpcyBtb3ZlZCB0byBhIG5ldyBsb2NhdGlvbiBvciB0aGUgRE9NIGlzIHVwZGF0ZWQgYnkgc29tZSBjb21tYW5kXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSB3aGljaCBzZWxlY3Rpb24gc2hvd3MgaW4gbGluZSBoZWlnaHQgdG9vbFxuICAgICAgICAgICAgICB1cGRhdGVMaW5lSGVpZ2h0KGVkaXRvcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH0sXG4gICAgICAgICAgaW5pdF9pbnN0YW5jZV9jYWxsYmFjazogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICB2YXIgb2xkQXBwbHkgPSBlZGl0b3IuZm9ybWF0dGVyLmFwcGx5LFxuICAgICAgICAgICAgICBvbGRSZW1vdmUgPSBlZGl0b3IuZm9ybWF0dGVyLnJlbW92ZTtcblxuICAgICAgICAgICAgLy8gUmVmZXJlbmNlIC0gaHR0cDovL2dvby5nbC81NUloV0lcbiAgICAgICAgICAgIGVkaXRvci5mb3JtYXR0ZXIuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShuYW1lLCB2YXJzLCBub2RlKSB7XG4gICAgICAgICAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IG5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhcnMudmFsdWVcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBvbGRBcHBseShuYW1lLCB2YXJzLCBub2RlKTtcbiAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoXCJFeGVjQ29tbWFuZFwiLCBhcmdzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGVkaXRvci5mb3JtYXR0ZXIucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogbmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogKHZhcnMgJiYgdmFycy52YWx1ZSkgPyB2YXJzLnZhbHVlIDogbnVsbFxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIG9sZFJlbW92ZShuYW1lLCB2YXJzLCBub2RlKTtcbiAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoXCJFeGVjQ29tbWFuZFwiLCBhcmdzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBJbml0aWFsaXplIFRpbnlNQ0UgdG9vbGJhci5cbiAgICAgIGZ1bmN0aW9uIGFkZEN1c3RvbUZvbnRzVG9GcmFtZShlZGl0b3IpIHtcbiAgICAgICAgdmFyIGRvYyA9IGVkaXRvci5nZXREb2MoKTtcblxuICAgICAgICBpZiAoJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuY3VzdG9tRm9udHMuZm9udHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uIGdldFNoZWV0KCkge1xuICAgICAgICAgICAgdmFyIHNoZWV0ID0gZG9jLnN0eWxlU2hlZXRzWzBdO1xuXG4gICAgICAgICAgICBpZiAoc2hlZXQpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLmN1c3RvbUZvbnRzLmZvbnRzLCBmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICAgICAgICAgIHZhciBydWxlID0gXCJmb250LWZhbWlseTogXCIgKyBmb250LmZhbWlseS5yZXBsYWNlKC8nL2csIFwiXCIpICsgXCI7IFwiICtcbiAgICAgICAgICAgICAgICAgIFwic3JjOiB1cmwoJ1wiICsgZm9udC51cmwucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpICsgXCInKTtcIjtcblxuICAgICAgICAgICAgICAgIC8vIGxvYWQgZm9udFxuICAgICAgICAgICAgICAgIHNoZWV0LmFkZFJ1bGUoXCJAZm9udC1mYWNlXCIsIHJ1bGUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBnZXRTaGVldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhZGRDdXN0b21Gb250c1RvRG9jdW1lbnQoZm9udHMsIGNiKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBjYigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZvbnRzKSAmJiBmb250cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gZ2V0U2hlZXQoKSB7XG4gICAgICAgICAgICB2YXIgc2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTtcblxuICAgICAgICAgICAgaWYgKHNoZWV0KSB7XG4gICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChmb250cywgZnVuY3Rpb24gKGZvbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcnVsZSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZm9udC5mYW1pbHkucmVwbGFjZSgvJy9nLCBcIlwiKS50b0xvd2VyQ2FzZSgpICsgXCI7IFwiICtcbiAgICAgICAgICAgICAgICAgIFwic3JjOiB1cmwoJ1wiICsgZm9udC51cmwucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpICsgXCInKTtcIjtcblxuICAgICAgICAgICAgICAgIC8vIGxvYWQgZm9udFxuICAgICAgICAgICAgICAgIHNoZWV0LmFkZFJ1bGUoXCJAZm9udC1mYWNlXCIsIHJ1bGUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBnZXRTaGVldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldEN1c3RvbUZvbnRGb3JtYXRzKCkge1xuICAgICAgICB2YXIgZm9ybWF0cyA9IFwiXCI7XG5cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLmN1c3RvbUZvbnRzLmZvbnRzLCBmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICAgIGZvcm1hdHMgKz0gZm9udC5mYW1pbHkgKyBcIj1cIiArIGZvbnQuZmFtaWx5LnJlcGxhY2UoLycvZywgXCJcIikudG9Mb3dlckNhc2UoKSArIFwiLHNhbnMtc2VyaWY7XCI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmb3JtYXRzO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRGb250Rm9ybWF0cygpIHtcbiAgICAgICAgcmV0dXJuIFwiQWRkIEN1c3RvbSBGb250PWN1c3RvbTtcIiArIGdldEN1c3RvbUZvbnRGb3JtYXRzKCkgKyBGT05UX0ZBTUlMSUVTICsgX2dvb2dsZUZvbnRzO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUucHJvY2Vzc0ZvbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgZmFtaWxpZXMgPSBcIlwiLFxuICAgICAgICAgICR3cmFwcGVyO1xuXG4gICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuZGF0YTtcbiAgICAgICAgJHdyYXBwZXIgPSAkKHdyYXBwZXIpO1xuXG4gICAgICAgIC8vIGdvIHRocm91Z2ggZm9udHMgYXBwbGllZCBpbiBodG1sIHRvIHByZXBhcmUgYSBsaXN0IHRvIGZpbmQgb3V0IHdoaWNoIG9uZXMgYXJlIGdvb2dsZSBmb250c1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goJHdyYXBwZXIuZmluZChcInNwYW5cIiksIGZ1bmN0aW9uKHNwYW4pIHtcbiAgICAgICAgICB2YXIgZmFtaWx5ID0gJChzcGFuKS5jc3MoXCJmb250LWZhbWlseVwiKTtcbiAgICAgICAgICAvLyByZW1vdmUgc2luZ2xlIHF1b3RlcyAoaWYgYXBwbGllZCkgYW5kIGZhbGxiYWNrIGZvbnRzXG4gICAgICAgICAgZmFtaWx5ID0gZmFtaWx5LnJlcGxhY2UoL1snXS9nLCBcIlwiKS5zcGxpdChcIixcIilbMF07XG5cbiAgICAgICAgICBpZiAoZmFtaWxpZXMuaW5kZXhPZihmYW1pbHkpID09PSAtMSkge1xuICAgICAgICAgICAgLy8gYWRkIGZvbnQgZmFtaWx5IHRvIHRoZSBsaXN0XG4gICAgICAgICAgICBmYW1pbGllcyArPSBmYW1pbHkgKyBcIixcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNhdmUgd2hpY2ggZ29vZ2xlIGZvbnRzIHdlcmUgdXNlZFxuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5nb29nbGVGb250cyA9IGdvb2dsZUZvbnRMb2FkZXIuZ2V0Rm9udHNVc2VkKGZhbWlsaWVzKTtcblxuICAgICAgICAvLyBwcm9jZWVkIHdpdGggc2F2aW5nIHNldHRpbmdzXG4gICAgICAgICRzY29wZS4kcGFyZW50LnNhdmVTZXR0aW5ncygpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLiR3YXRjaChcInRpbnltY2VPcHRpb25zLmZvbnRfZm9ybWF0c1wiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGlmICghX2lzTG9hZGluZykge1xuICAgICAgICAgICAgLy8gbGV2ZXJhZ2UgdWktdGlueW1jZSB3b3JrYXJvdW5kIG9mIHJlZnJlc2hpbmcgZWRpdG9yXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChcIiR0aW55bWNlOnJlZnJlc2hcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLiR3YXRjaChcInNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuY3VzdG9tRm9udHMuZm9udHNcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpZiAoX2lzTG9hZGluZykge1xuXG4gICAgICAgICAgICAvLyBMb2FkIEdvb2dsZSBmb250cy5cbiAgICAgICAgICAgIGdvb2dsZUZvbnRMb2FkZXIuZ2V0R29vZ2xlRm9udHMoKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBfZ29vZ2xlRm9udHMgPSBkYXRhLmZvbnRzO1xuICAgICAgICAgICAgICAgIF9nb29nbGVGb250VXJscyA9IGRhdGEudXJscztcblxuICAgICAgICAgICAgICAgIC8vIGtpY2sgb2ZmIGluaXRpYWxpemF0aW9uIG5vdyB0aGF0IGN1c3RvbUZvbnRzLmZvbnRzIGhhcyBhIHZhbHVlIGFuZCBnb29nbGUgZm9udHMgaGF2ZSBiZWVuIGxvYWRlZFxuICAgICAgICAgICAgICAgIGluaXRUaW55TUNFKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAkbG9nLndhcm4oZXJyb3IpO1xuICAgICAgICAgICAgICAvLyBraWNrIG9mZiBpbml0aWFsaXphdGlvbiBub3cgdGhhdCBjdXN0b21Gb250cy5mb250cyBoYXMgYSB2YWx1ZSwgZGlzcmVnYXJkIG5vIGdvb2dsZSBmb250c1xuICAgICAgICAgICAgICBpbml0VGlueU1DRSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLiRvbihcImN1c3RvbUZvbnRMb2FkZWRcIiwgZnVuY3Rpb24gKGUsIGRhdGEpIHtcbiAgICAgICAgYWRkQ3VzdG9tRm9udHNUb0RvY3VtZW50KFtkYXRhXSk7XG5cbiAgICAgICAgX2N1c3RvbUZvbnRUb1NlbGVjdCA9IGRhdGEuZmFtaWx5LnJlcGxhY2UoLycvZywgXCJcIik7XG5cbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuY3VzdG9tRm9udHMuZm9udHMucHVzaChkYXRhKTtcblxuICAgICAgICAvLyB1cGRhdGUgdmFsdWUgb2YgZm9udF9mb3JtYXRzXG4gICAgICAgICRzY29wZS50aW55bWNlT3B0aW9ucy5mb250X2Zvcm1hdHMgPSBnZXRGb250Rm9ybWF0cygpO1xuICAgICAgfSk7XG5cbiAgICB9XSlcbiAgLnZhbHVlKFwiZGVmYXVsdFNldHRpbmdzXCIsIHtcbiAgICBcInBhcmFtc1wiOiB7fSxcbiAgICBcImFkZGl0aW9uYWxQYXJhbXNcIjoge1xuICAgICAgXCJkYXRhXCI6IFwiXCIsXG4gICAgICBcImN1c3RvbUZvbnRzXCI6IHtcbiAgICAgICAgXCJmb3JtYXRzXCI6IFwiXCIsIC8vIGxlZ2FjeSwgYmFja3dhcmRzIGNvbXBhdGlibGVcbiAgICAgICAgXCJmb250c1wiOiBbXVxuICAgICAgfSxcbiAgICAgIFwiZ29vZ2xlRm9udHNcIjogW10sXG4gICAgICBcInNjcm9sbFwiOiB7fVxuICAgIH1cbiAgfSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQudGV4dC5zZXR0aW5nc1wiKVxuICAuZGlyZWN0aXZlKFwiY3VzdG9tRm9udFwiLCBbXCIkbG9nXCIsXG4gICAgZnVuY3Rpb24gKC8qJGxvZyovKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJBXCIsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsIGVsZW0pIHtcbiAgICAgICAgICB2YXIgJGVsID0gJChlbGVtKTtcblxuICAgICAgICAgICRzY29wZS51cmwgPSBcIlwiO1xuXG4gICAgICAgICAgLy8gRXh0cmFjdCBmb250IG5hbWUgZnJvbSBmb250IFVSTC5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRGYW1pbHkoKSB7XG4gICAgICAgICAgICB2YXIgZmFtaWx5ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKCRzY29wZS51cmwpIHtcbiAgICAgICAgICAgICAgLy8gZGVjb2RlIGVzY2FwZSBzZXF1ZW5jZXMgdG8gYWNjb3VudCBmb3Igc3BhY2VzIGluIGZvbnQgbmFtZVxuICAgICAgICAgICAgICBmYW1pbHkgPSBkZWNvZGVVUkkoJHNjb3BlLnVybC50cmltKCkpO1xuICAgICAgICAgICAgICByZXR1cm4gZmFtaWx5LnNwbGl0KFwiL1wiKS5wb3AoKS5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFwcGx5IGN1c3RvbSBmb250IHRvIHByZXZpZXcgdGV4dC5cbiAgICAgICAgICAkc2NvcGUuYWRkRm9udCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGZhbWlseSA9IGdldEZhbWlseSgpLFxuICAgICAgICAgICAgICB1cmw7XG5cbiAgICAgICAgICAgIGlmIChmYW1pbHkpIHtcbiAgICAgICAgICAgICAgdXJsID0gJHNjb3BlLnVybC50cmltKCk7XG4gICAgICAgICAgICAgIC8vIGJyb2FkY2FzdCBjdXN0b20gZm9udCBsb2FkZWRcbiAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KFwiY3VzdG9tRm9udExvYWRlZFwiLCB7ZmFtaWx5OmZhbWlseSwgdXJsOnVybH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkZWwubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuJG9uKFwic2hvd0N1c3RvbVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkZWwubW9kYWwoXCJzaG93XCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQudGV4dC5zZXR0aW5nc1wiKVxuICAuY29uc3RhbnQoXCJGT05UX0ZBTUlMSUVTXCIsXG4gICAgXCJBbmRhbGUgTW9ubz1hbmRhbGUgbW9ubyxtb25vc3BhY2U7XCIgK1xuICAgIFwiQXJpYWw9YXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7XCIgK1xuICAgIFwiQXJpYWwgQmxhY2s9YXJpYWwgYmxhY2ssc2Fucy1zZXJpZjtcIiArXG4gICAgXCJCb29rIEFudGlxdWE9Ym9vayBhbnRpcXVhLHBhbGF0aW5vLHNlcmlmO1wiICtcbiAgICBcIkNvbWljIFNhbnMgTVM9Y29taWMgc2FucyBtcyxzYW5zLXNlcmlmO1wiICtcbiAgICBcIkNvdXJpZXIgTmV3PWNvdXJpZXIgbmV3LGNvdXJpZXIsbW9ub3NwYWNlO1wiICtcbiAgICBcIkdlb3JnaWE9Z2VvcmdpYSxwYWxhdGlubyxzZXJpZjtcIiArXG4gICAgXCJIZWx2ZXRpY2E9aGVsdmV0aWNhLGFyaWFsLHNhbnMtc2VyaWY7XCIgK1xuICAgIFwiSW1wYWN0PWltcGFjdCxzYW5zLXNlcmlmO1wiICtcbiAgICBcIlN5bWJvbD1zeW1ib2w7XCIgK1xuICAgIFwiVGFob21hPXRhaG9tYSxhcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZjtcIiArXG4gICAgXCJUZXJtaW5hbD10ZXJtaW5hbCxtb25hY28sbW9ub3NwYWNlO1wiICtcbiAgICBcIlRpbWVzIE5ldyBSb21hbj10aW1lcyBuZXcgcm9tYW4sdGltZXMsc2VyaWY7XCIgK1xuICAgIFwiVHJlYnVjaGV0IE1TPXRyZWJ1Y2hldCBtcyxnZW5ldmEsc2Fucy1zZXJpZjtcIiArXG4gICAgXCJWZXJkYW5hPXZlcmRhbmEsZ2VuZXZhLHNhbnMtc2VyaWY7XCIpXG4gIC5jb25zdGFudChcIkZPTlRfU0laRVNcIixcbiAgICBcIjhweCA5cHggMTBweCAxMXB4IDEycHggMTRweCAxOHB4IDI0cHggMzBweCAzNnB4IDQ4cHggNjBweCA3MnB4IDk2cHhcIik7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
