!function(e,t,n,o){"use strict";function i(t,n){this.element=t,this.page=e(t).find(".page"),this.options=e.extend({},l,n),this._defaults=l,this._name=s,this.isLoading=!0,this.draggable=null,this.tween=null,this.calculateProgress=null,this.init()}var s="autoScroll",l={by:"continuous",speed:"medium",pause:5,click:!1,minimumMovement:3};i.prototype={init:function(){function t(){s.tween.pause(),TweenLite.killDelayedCallsTo(s.calculateProgress),TweenLite.killDelayedCallsTo(l),TweenLite.killDelayedCallsTo(r)}var n,i,s=this,l=null,r=null,a=e(this.element).outerHeight(!0),c=a,u=this.element.scrollHeight-this.element.offsetHeight;this.calculateProgress=function(){c=e(s.element).scrollTop()+a,s.tween.progress(e(s.element).scrollTop()/u).play()},this.canScroll()?("page"===this.options.by?(n="fastest"===this.options.speed?.4:"fast"===this.options.speed?.8:"medium"===this.options.speed?1.2:"slow"===this.options.speed?1.6:2,i=this.page.outerHeight(!0)/e(this.element).outerHeight(!0)*n):(n="fastest"===this.options.speed?60:"fast"===this.options.speed?50:"medium"===this.options.speed?40:"slow"===this.options.speed?30:20,i=Math.abs((this.page.outerHeight(!0)-e(this.element).outerHeight(!0))/n)),Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.75,minimumMovement:s.options.minimumMovement,onPress:function(){t()},onRelease:function(){"none"!==s.options.by&&TweenLite.delayedCall(s.options.pause,s.calculateProgress)},onClick:function(){s.options.click&&(t(),e(s.element).trigger("scrollClick",[this.pointerEvent]))}}),this.draggable=Draggable.get(this.element),this.tween=TweenLite.to(this.draggable.scrollProxy,i,{scrollTop:u,ease:Linear.easeNone,delay:this.options.pause,paused:!0,onUpdate:"page"===this.options.by?function(){Math.abs(s.draggable.scrollProxy.top())>=c&&(s.tween.pause(),c+=a,TweenLite.delayedCall(s.options.pause,r=function(){s.tween.resume()}))}:o,onComplete:function(){TweenLite.delayedCall(s.options.pause,l=function(){TweenLite.to(s.page,1,{autoAlpha:0,onComplete:function(){s.tween.seek(0).pause(),"page"===s.options.by&&(c=a),e(s.element).trigger("done")}})})}}),TweenLite.set(this.element,{overflowY:"hidden"})):this.options.click&&(Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.95,minimumMovement:this.options.minimumMovement,onClick:function(){e(s.element).trigger("scrollClick",[this.pointerEvent])}}),this.draggable=Draggable.get(this.element))},canScroll:function(){return this.options&&this.page.height()>e(this.element).height()},destroy:function(){e(this.element).removeData(),this.tween&&this.tween.kill(),this.draggable&&this.draggable.kill(),this.element=null,this.page=null,this.options=null,this._defaults=null,this.draggable=null,this.tween=null,this.calculateProgress=null}},i.prototype.play=function(){this.canScroll()&&"none"!==this.options.by&&this.tween&&(this.isLoading?(this.tween.play(),this.isLoading=!1):(TweenLite.to(this.page,1,{autoAlpha:1}),TweenLite.delayedCall(this.options.pause,this.calculateProgress)))},i.prototype.pause=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.pause())},i.prototype.stop=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.kill()),this.element=null,this.page=null},e.fn.autoScroll=function(t){return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new i(this,t))})}}(jQuery,window,document);var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,t){var n="font-family: "+decodeURIComponent(t.font.family).replace(/'/g,"")+"; ",o="color: "+(t.color?t.color:t.forecolor)+"; ",i="font-size: "+(-1===t.size.indexOf("px")?t.size+"px; ":t.size+"; "),s="font-weight: "+(t.bold?"bold":"normal")+"; ",l="font-style: "+(t.italic?"italic":"normal")+"; ",r="text-decoration: "+(t.underline?"underline":"none")+"; ",a="background-color: "+(t.highlightColor?t.highlightColor:t.backcolor)+";";return"."+e+" {"+n+o+i+s+l+r+a+"}"}function t(e){for(var t=document.createElement("style"),n=0,o=e.length;o>n;n++)t.appendChild(document.createTextNode(e[n]));document.head.appendChild(t)}function n(n,s){function l(){s&&"function"==typeof s&&s()}function r(){l()}var a=null,c=[],u=[],p=[];if(!n||0===n.length)return l(),void 0;n.forEach(function(n){n.class&&n.fontStyle&&t([e(n.class,n.fontStyle)])});for(var g=0;g<n.length;g++)n[g].fontStyle&&n[g].fontStyle.font.type&&"google"===n[g].fontStyle.font.type&&(a=n[g].fontStyle.font.family.split(",")[0],a=a.replace(/'/g,""),c.push(a));for(g=0;g<n.length;g++)n[g].fontStyle&&n[g].fontStyle.font.type&&"custom"===n[g].fontStyle.font.type&&(u.push(decodeURIComponent(n[g].fontStyle.font.family).replace(/'/g,"")),p.push(n[g].fontStyle.font.url.replace(/'/g,"\\'")));if(0===c.length&&0===u.length)l();else{for(var f=0;f<u.length;f+=1)o(u[f],p[f]);c.length>0?i(c,r):l()}}function o(e,t,n){var o=null,i="font-family: "+e+"; src: url('"+t+"');";n=n||document,o=n.styleSheets[0],null!==o&&o.addRule("@font-face",i)}function i(e,t){WebFont.load({google:{families:e},active:function(){t&&"function"==typeof t&&t()},inactive:function(){t&&"function"==typeof t&&t()},timeout:2e3})}function s(e){for(var t=e.length,n=[],o=0;t>o;o++)n[o]=new Image,n[o].src=e[o]}function l(e){for(var t,n=window.location.search.substring(1),o=n.split("&"),i=0;i<o.length;i++)if(t=o[i].split("="),t[0]==e)return decodeURIComponent(t[1]);return""}function r(e){var t="";switch(e){case 404:t="The file does not exist or cannot be accessed.";break;case 507:t="There is not enough disk space to save the file on Rise Cache.";break;default:t="There was a problem retrieving the file from Rise Cache."}return t}function a(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent}function c(e,t){var n=new XMLHttpRequest;if(e&&t&&"function"==typeof t){n.open("HEAD",e+"?cb="+(new Date).getTime(),!1);try{n.send(),t(n.status>=200&&n.status<304)}catch(o){t(!1)}}}function u(){var e=25,t=navigator.userAgent.match(/Chrome\/(\S+)/),n=t?t[1]:0;return n&&(n=parseInt(n.substring(0,n.indexOf("."))),e>=n)?!0:!1}function p(e,t){return/^(?:f|ht)tps?\:\/\//.test(e)||(e=(t?"https://":"http://")+e),e}return{addProtocol:p,getQueryParameter:l,getFontCssStyle:e,addCSSRules:t,loadFonts:n,loadCustomFont:o,loadGoogleFonts:i,preloadImages:s,getRiseCacheErrorMessage:r,unescapeHTML:a,hasInternetConnection:c,isLegacy:u}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,t){var o=null;e.event?(o=e,o.file_url&&(o.file_format=n(o.file_url)),o.company_id=a,o.display_id=r,c&&(o.version=c),t(o)):t(o)}function t(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()+1,o=e.getUTCDate();return 10>n&&(n="0"+n),10>o&&(o="0"+o),""+t+n+o}function n(e){var t,n=/[?#&]/;return e&&"string"==typeof e?(t=e.substr(e.lastIndexOf(".")+1),n.test(t)&&(t=t.substr(0,-1!==t.indexOf("?")?t.indexOf("?"):t.length),t=t.substr(0,-1!==t.indexOf("#")?t.indexOf("#"):t.length),t=t.substr(0,-1!==t.indexOf("&")?t.indexOf("&"):t.length)),t.toLowerCase()):null}function o(e){var n={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:t(),rows:[{insertId:""}]},o=JSON.parse(JSON.stringify(n));return o.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),o.rows[0].json=JSON.parse(JSON.stringify(e)),o.rows[0].json.ts=(new Date).toISOString(),o}function i(t,n){e(n,function(e){null!==e&&RiseVision.Common.Logger.log(t,e)})}function s(e,t){a=e,r=t}function l(e){c=e}var r="",a="",c=null;return{getInsertData:o,getFileFormat:n,logEvent:i,setIds:s,setVersion:l}}(),RiseVision.Common.Logger=function(e){"use strict";function t(e){var t=new XMLHttpRequest;return new Date-c<358e4?e({}):(t.open("POST",i,!0),t.onloadend=function(){var n=JSON.parse(t.response);e({token:n.access_token,refreshedAt:new Date})},t.send(),void 0)}function n(e){return l&&a===e}function o(o,i){function p(t){var n,l,r=new XMLHttpRequest;l=s.replace("TABLE_ID",o),c=t.refreshedAt||c,u=t.token||u,n=e.getInsertData(i),r.open("POST",l,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization","Bearer "+u),i.cb&&"function"==typeof i.cb&&(r.onloadend=function(){i.cb(r.response)}),r.send(JSON.stringify(n))}if(!(!o||!i||i.hasOwnProperty("event")&&!i.event||i.hasOwnProperty("event")&&n(i.event)))return l=!0,a=i.event,setTimeout(function(){l=!1},r),t(p)}var i="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",s="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",l=!1,r=1e3,a="",c=0,u="";return{log:o}}(RiseVision.Common.LoggerUtils);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-13"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();var RiseVision=RiseVision||{};RiseVision.Text={},RiseVision.Text=function(e,t){"use strict";function n(e,n){function o(){n&&"function"==typeof n&&n()}Array.isArray(e)&&e.length>0?t.load({google:{families:e},timeout:2e3,active:function(){o()},inactive:function(){console.warn("No google fonts were loaded"),o()},fontinactive:function(e){s({event:"error",event_details:"Google font not loaded",error_details:e})}}):o()}function o(){document.querySelector(".page").innerHTML=g.data,n(g.googleFonts,function(){$.each(g.customFonts.fonts,function(e,t){d.loadCustomFont(t.family.replace(/'/g,""),t.url.replace(/'/g,"\\'"))}),$("#container").autoScroll(g.scroll).on("done",function(){r()}),l()})}function i(){return"text_events"}function s(e){RiseVision.Common.LoggerUtils.logEvent(i(),e)}function l(){e.rpc.call("","rsevent_ready",null,f.getString("id"),!0,!0,!0,!0,!0)}function r(){e.rpc.call("","rsevent_done",null,f.getString("id")),s({event:"done"})}function a(e){g=JSON.parse(JSON.stringify(e)),g.width=f.getInt("rsW"),g.height=f.getInt("rsH"),document.getElementById("container").style.width=g.width+"px",document.getElementById("container").style.height=g.height+"px",o()}function c(){$("#container").data("plugin_autoScroll")&&$("#container").data("plugin_autoScroll").play(),s({event:"play"})}function u(){$("#container").data("plugin_autoScroll")&&$("#container").data("plugin_autoScroll").pause()}function p(){u()}var g=null,f=new e.Prefs,d=RiseVision.Common.Utilities;return{pause:u,play:c,setAdditionalParams:a,stop:p}}(gadgets,WebFont),function(e,t){"use strict";function n(e,t){var n,o="",i="";Array.isArray(e)&&e.length>0&&Array.isArray(t)&&t.length>0&&("companyId"===e[0]&&(o=t[0]),"displayId"===e[1]&&(i=t[1]?t[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(o,i),"additionalParams"===e[2]&&(n=JSON.parse(t[2]),RiseVision.Text.setAdditionalParams(n)))}function o(){RiseVision.Text.play()}function i(){RiseVision.Text.pause()}function s(){RiseVision.Text.stop()}var l=new t.Prefs,r=l.getString("id");e.oncontextmenu=function(){return!1},document.body.onmousedown=function(){return!1},r&&""!==r&&(t.rpc.register("rscmd_play_"+r,o),t.rpc.register("rscmd_pause_"+r,i),t.rpc.register("rscmd_stop_"+r,s),t.rpc.register("rsparam_set_"+r,n),t.rpc.call("","rsparam_get",null,r,["companyId","displayId","additionalParams"]))}(window,gadgets);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiUGx1Z2luIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJ0aGlzIiwicGFnZSIsImZpbmQiLCJleHRlbmQiLCJkZWZhdWx0cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwicGx1Z2luTmFtZSIsImlzTG9hZGluZyIsImRyYWdnYWJsZSIsInR3ZWVuIiwiY2FsY3VsYXRlUHJvZ3Jlc3MiLCJpbml0IiwiYnkiLCJzcGVlZCIsInBhdXNlIiwiY2xpY2siLCJtaW5pbXVtTW92ZW1lbnQiLCJwcm90b3R5cGUiLCJwYXVzZVR3ZWVuIiwic2VsZiIsIlR3ZWVuTGl0ZSIsImtpbGxEZWxheWVkQ2FsbHNUbyIsInNjcm9sbENvbXBsZXRlIiwicGFnZUNvbXBsZXRlIiwiZHVyYXRpb24iLCJlbGVtZW50SGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJwYXVzZUhlaWdodCIsIm1heCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsInNjcm9sbFRvcCIsInByb2dyZXNzIiwicGxheSIsImNhblNjcm9sbCIsIk1hdGgiLCJhYnMiLCJEcmFnZ2FibGUiLCJjcmVhdGUiLCJ0eXBlIiwidGhyb3dQcm9wcyIsImVkZ2VSZXNpc3RhbmNlIiwib25QcmVzcyIsIm9uUmVsZWFzZSIsImRlbGF5ZWRDYWxsIiwib25DbGljayIsInRyaWdnZXIiLCJwb2ludGVyRXZlbnQiLCJnZXQiLCJ0byIsInNjcm9sbFByb3h5IiwiZWFzZSIsIkxpbmVhciIsImVhc2VOb25lIiwiZGVsYXkiLCJwYXVzZWQiLCJvblVwZGF0ZSIsInRvcCIsInJlc3VtZSIsIm9uQ29tcGxldGUiLCJhdXRvQWxwaGEiLCJzZWVrIiwic2V0Iiwib3ZlcmZsb3dZIiwiaGVpZ2h0IiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJraWxsIiwic3RvcCIsImZuIiwiYXV0b1Njcm9sbCIsImVhY2giLCJkYXRhIiwialF1ZXJ5IiwiV0lER0VUX0NPTU1PTl9DT05GSUciLCJBVVRIX1BBVEhfVVJMIiwiTE9HR0VSX0NMSUVOVF9JRCIsIkxPR0dFUl9DTElFTlRfU0VDUkVUIiwiTE9HR0VSX1JFRlJFU0hfVE9LRU4iLCJTVE9SRV9VUkwiLCJSaXNlVmlzaW9uIiwiQ29tbW9uIiwiVXRpbGl0aWVzIiwiZ2V0Rm9udENzc1N0eWxlIiwiY2xhc3NOYW1lIiwiZm9udE9iaiIsImZhbWlseSIsImRlY29kZVVSSUNvbXBvbmVudCIsImZvbnQiLCJyZXBsYWNlIiwiY29sb3IiLCJmb3JlY29sb3IiLCJzaXplIiwiaW5kZXhPZiIsIndlaWdodCIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJoaWdobGlnaHQiLCJoaWdobGlnaHRDb2xvciIsImJhY2tjb2xvciIsImFkZENTU1J1bGVzIiwicnVsZXMiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJpIiwibGVuZ3RoIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImhlYWQiLCJsb2FkRm9udHMiLCJzZXR0aW5ncyIsImNiIiwiY2FsbGJhY2siLCJvbkdvb2dsZUZvbnRzTG9hZGVkIiwiZmFtaWxpZXMiLCJnb29nbGVGYW1pbGllcyIsImN1c3RvbUZhbWlsaWVzIiwiY3VzdG9tVXJscyIsImZvckVhY2giLCJpdGVtIiwiY2xhc3MiLCJmb250U3R5bGUiLCJzcGxpdCIsInB1c2giLCJ1cmwiLCJqIiwibG9hZEN1c3RvbUZvbnQiLCJsb2FkR29vZ2xlRm9udHMiLCJjb250ZW50RG9jIiwic2hlZXQiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhZGRSdWxlIiwiV2ViRm9udCIsImxvYWQiLCJnb29nbGUiLCJhY3RpdmUiLCJpbmFjdGl2ZSIsInRpbWVvdXQiLCJwcmVsb2FkSW1hZ2VzIiwidXJscyIsImltYWdlcyIsIkltYWdlIiwic3JjIiwiZ2V0UXVlcnlQYXJhbWV0ZXIiLCJwYXJhbSIsInBhaXIiLCJxdWVyeSIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwidmFycyIsImdldFJpc2VDYWNoZUVycm9yTWVzc2FnZSIsInN0YXR1c0NvZGUiLCJlcnJvck1lc3NhZ2UiLCJ1bmVzY2FwZUhUTUwiLCJodG1sIiwiZGl2IiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJoYXNJbnRlcm5ldENvbm5lY3Rpb24iLCJmaWxlUGF0aCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIkRhdGUiLCJnZXRUaW1lIiwic2VuZCIsInN0YXR1cyIsImUiLCJpc0xlZ2FjeSIsImxlZ2FjeVZlcnNpb24iLCJtYXRjaCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlcnNpb24iLCJwYXJzZUludCIsImFkZFByb3RvY29sIiwic2VjdXJlIiwidGVzdCIsIkxvZ2dlclV0aWxzIiwiZ2V0RXZlbnRQYXJhbXMiLCJwYXJhbXMiLCJqc29uIiwiZXZlbnQiLCJmaWxlX3VybCIsImZpbGVfZm9ybWF0IiwiZ2V0RmlsZUZvcm1hdCIsImNvbXBhbnlfaWQiLCJjb21wYW55SWQiLCJkaXNwbGF5X2lkIiwiZGlzcGxheUlkIiwiZ2V0U3VmZml4IiwiZGF0ZSIsInllYXIiLCJnZXRVVENGdWxsWWVhciIsIm1vbnRoIiwiZ2V0VVRDTW9udGgiLCJkYXkiLCJnZXRVVENEYXRlIiwic3RyIiwiaGFzUGFyYW1zIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicmFuZG9tIiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInRzIiwidG9JU09TdHJpbmciLCJsb2dFdmVudCIsInRhYmxlIiwiTG9nZ2VyIiwibG9nIiwic2V0SWRzIiwiY29tcGFueSIsImRpc3BsYXkiLCJzZXRWZXJzaW9uIiwidmFsdWUiLCJ1dGlscyIsInJlZnJlc2hUb2tlbiIsInJlZnJlc2hEYXRlIiwiUkVGUkVTSF9VUkwiLCJvbmxvYWRlbmQiLCJyZXNwIiwicmVzcG9uc2UiLCJ0b2tlbiIsImFjY2Vzc190b2tlbiIsInJlZnJlc2hlZEF0IiwiaXNUaHJvdHRsZWQiLCJ0aHJvdHRsZSIsImxhc3RFdmVudCIsInRhYmxlTmFtZSIsImluc2VydFdpdGhUb2tlbiIsInJlZnJlc2hEYXRhIiwiaW5zZXJ0RGF0YSIsInNlcnZpY2VVcmwiLCJzZXRSZXF1ZXN0SGVhZGVyIiwiaGFzT3duUHJvcGVydHkiLCJzZXRUaW1lb3V0IiwidGhyb3R0bGVEZWxheSIsIl9nYXEiLCJnYSIsImFzeW5jIiwicHJvdG9jb2wiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiVGV4dCIsImdhZGdldHMiLCJfbG9hZEdvb2dsZUZvbnRzIiwiZm9udHMiLCJjb21wbGV0ZSIsIkFycmF5IiwiaXNBcnJheSIsImNvbnNvbGUiLCJ3YXJuIiwiZm9udGluYWN0aXZlIiwiZmFtaWx5TmFtZSIsIl9sb2dFdmVudCIsImV2ZW50X2RldGFpbHMiLCJlcnJvcl9kZXRhaWxzIiwiX2luaXQiLCJxdWVyeVNlbGVjdG9yIiwiX2FkZGl0aW9uYWxQYXJhbXMiLCJnb29nbGVGb250cyIsImN1c3RvbUZvbnRzIiwiaW5kZXgiLCJfdXRpbHMiLCJzY3JvbGwiLCJvbiIsIl9kb25lIiwiX3JlYWR5IiwiX2dldFRhYmxlTmFtZSIsInJwYyIsImNhbGwiLCJfcHJlZnMiLCJnZXRTdHJpbmciLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwiYWRkaXRpb25hbFBhcmFtcyIsIndpZHRoIiwiZ2V0SW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJQcmVmcyIsImNvbmZpZ3VyZSIsIm5hbWVzIiwidmFsdWVzIiwicHJlZnMiLCJpZCIsIm9uY29udGV4dG1lbnUiLCJib2R5Iiwib25tb3VzZWRvd24iLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkNBT0MsU0FBV0EsRUFB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WyIvKlxuICogIFByb2plY3Q6IEF1dG8tU2Nyb2xsXG4gKiAgRGVzY3JpcHRpb246IEF1dG8tc2Nyb2xsIHBsdWdpbiBmb3IgdXNlIHdpdGggUmlzZSBWaXNpb24gV2lkZ2V0c1xuICogIEF1dGhvcjogQGRvbm5hcGVwXG4gKiAgTGljZW5zZTogTUlUXG4gKi9cblxuOyhmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBwbHVnaW5OYW1lID0gXCJhdXRvU2Nyb2xsXCIsXG5cdFx0ZGVmYXVsdHMgPSB7XG5cdFx0XHRieTogXCJjb250aW51b3VzXCIsXG5cdFx0XHRzcGVlZDogXCJtZWRpdW1cIixcblx0XHRcdHBhdXNlOiA1LFxuXHRcdFx0Y2xpY2s6IGZhbHNlLFxuXHRcdFx0bWluaW11bU1vdmVtZW50OiAzIC8vIERyYWdnYWJsZSBkZWZhdWx0IHZhbHVlIC0gaHR0cDovL2dyZWVuc29jay5jb20vZG9jcy8jL0hUTUw1L0RyYWcvRHJhZ2dhYmxlL1xuXHRcdH07XG5cblxuXHRmdW5jdGlvbiBQbHVnaW4oZWxlbWVudCwgb3B0aW9ucykge1xuXHRcdHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdFx0dGhpcy5wYWdlID0gJChlbGVtZW50KS5maW5kKFwiLnBhZ2VcIik7XG5cdFx0dGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblx0XHR0aGlzLl9kZWZhdWx0cyA9IGRlZmF1bHRzO1xuXHRcdHRoaXMuX25hbWUgPSBwbHVnaW5OYW1lO1xuXHRcdHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcblx0XHR0aGlzLmRyYWdnYWJsZSA9IG51bGw7XG5cdFx0dGhpcy50d2VlbiA9IG51bGw7XG5cdFx0dGhpcy5jYWxjdWxhdGVQcm9ncmVzcyA9IG51bGw7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRQbHVnaW4ucHJvdG90eXBlID0ge1xuXHRcdGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBzcGVlZCwgZHVyYXRpb247XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgc2Nyb2xsQ29tcGxldGUgPSBudWxsO1xuXHRcdFx0dmFyIHBhZ2VDb21wbGV0ZSA9IG51bGw7XG5cdFx0XHR2YXIgZWxlbWVudEhlaWdodCA9ICQodGhpcy5lbGVtZW50KS5vdXRlckhlaWdodCh0cnVlKTtcblx0XHRcdHZhciBwYXVzZUhlaWdodCA9IGVsZW1lbnRIZWlnaHQ7XG5cdFx0XHR2YXIgbWF4ID0gdGhpcy5lbGVtZW50LnNjcm9sbEhlaWdodCAtIHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG5cblx0XHRcdGZ1bmN0aW9uIHBhdXNlVHdlZW4oKSB7XG5cdFx0XHRcdHNlbGYudHdlZW4ucGF1c2UoKTtcblxuXHRcdFx0XHRUd2VlbkxpdGUua2lsbERlbGF5ZWRDYWxsc1RvKHNlbGYuY2FsY3VsYXRlUHJvZ3Jlc3MpO1xuXHRcdFx0XHRUd2VlbkxpdGUua2lsbERlbGF5ZWRDYWxsc1RvKHNjcm9sbENvbXBsZXRlKTtcblx0XHRcdFx0Ly8gT25seSB1c2VkIHdoZW4gc2Nyb2xsaW5nIGJ5IHBhZ2UuXG5cdFx0XHRcdFR3ZWVuTGl0ZS5raWxsRGVsYXllZENhbGxzVG8ocGFnZUNvbXBsZXRlKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5jYWxjdWxhdGVQcm9ncmVzcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvLyBTZXQgcGF1c2VIZWlnaHQgdG8gbmV3IHZhbHVlLlxuXHRcdFx0XHRwYXVzZUhlaWdodCA9ICQoc2VsZi5lbGVtZW50KS5zY3JvbGxUb3AoKSArXG5cdFx0XHRcdFx0ZWxlbWVudEhlaWdodDtcblxuXHRcdFx0XHRzZWxmLnR3ZWVuLnByb2dyZXNzKCQoc2VsZi5lbGVtZW50KS5zY3JvbGxUb3AoKSAvIG1heClcblx0XHRcdFx0XHQucGxheSgpO1xuXHRcdFx0fTtcblxuXHRcdFx0aWYgKHRoaXMuY2FuU2Nyb2xsKCkpIHtcblx0XHRcdFx0Ly8gU2V0IHNjcm9sbCBzcGVlZC5cblx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5ieSA9PT0gXCJwYWdlXCIpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcImZhc3Rlc3RcIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAwLjQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJmYXN0XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMC44O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICh0aGlzLm9wdGlvbnMuc3BlZWQgPT09IFwibWVkaXVtXCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMS4yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICh0aGlzLm9wdGlvbnMuc3BlZWQgPT09IFwic2xvd1wiKSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDEuNjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDI7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZHVyYXRpb24gPSB0aGlzLnBhZ2Uub3V0ZXJIZWlnaHQodHJ1ZSkgL1xuXHRcdFx0XHRcdFx0JCh0aGlzLmVsZW1lbnQpLm91dGVySGVpZ2h0KHRydWUpICogc3BlZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7ICAvLyBDb250aW51b3VzIG9yIGJ5IHJvd1xuXHRcdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMuc3BlZWQgPT09IFwiZmFzdGVzdFwiKSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDYwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICh0aGlzLm9wdGlvbnMuc3BlZWQgPT09IFwiZmFzdFwiKSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDUwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICh0aGlzLm9wdGlvbnMuc3BlZWQgPT09IFwibWVkaXVtXCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gNDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJzbG93XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMzA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAyMDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRkdXJhdGlvbiA9IE1hdGguYWJzKCh0aGlzLnBhZ2Uub3V0ZXJIZWlnaHQodHJ1ZSkgLVxuXHRcdFx0XHRcdFx0JCh0aGlzLmVsZW1lbnQpLm91dGVySGVpZ2h0KHRydWUpKSAvIHNwZWVkKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdERyYWdnYWJsZS5jcmVhdGUodGhpcy5lbGVtZW50LCB7XG5cdFx0XHRcdFx0dHlwZTogXCJzY3JvbGxUb3BcIixcblx0XHRcdFx0XHR0aHJvd1Byb3BzOiB0cnVlLFxuXHRcdFx0XHRcdGVkZ2VSZXNpc3RhbmNlOiAwLjc1LFxuXHRcdFx0XHRcdG1pbmltdW1Nb3ZlbWVudDogc2VsZi5vcHRpb25zLm1pbmltdW1Nb3ZlbWVudCxcblx0XHRcdFx0XHRvblByZXNzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHBhdXNlVHdlZW4oKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG9uUmVsZWFzZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoc2VsZi5vcHRpb25zLmJ5ICE9PSBcIm5vbmVcIikge1xuXHRcdFx0XHRcdFx0XHQvKiBGaWd1cmUgb3V0IHdoYXQgdGhlIG5ldyBzY3JvbGwgcG9zaXRpb24gaXMgYW5kXG5cdFx0XHRcdFx0XHRcdCB0cmFuc2xhdGUgdGhhdCBpbnRvIHRoZSBwcm9ncmVzcyBvZiB0aGUgdHdlZW4gKDAtMSlcblx0XHRcdFx0XHRcdFx0IHNvIHRoYXQgd2UgY2FuIGNhbGlicmF0ZSBpdDsgb3RoZXJ3aXNlLCBpdCdkIGp1bXBcblx0XHRcdFx0XHRcdFx0IGJhY2sgdG8gd2hlcmUgaXQgcGF1c2VkIHdoZW4gd2UgcmVzdW1lKCkuICovXG5cdFx0XHRcdFx0XHRcdFR3ZWVuTGl0ZS5kZWxheWVkQ2FsbChzZWxmLm9wdGlvbnMucGF1c2UsIHNlbGYuY2FsY3VsYXRlUHJvZ3Jlc3MpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b25DbGljazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoc2VsZi5vcHRpb25zLmNsaWNrKSB7XG5cdFx0XHRcdFx0XHRcdHBhdXNlVHdlZW4oKTtcblx0XHRcdFx0XHRcdFx0JChzZWxmLmVsZW1lbnQpLnRyaWdnZXIoXCJzY3JvbGxDbGlja1wiLCBbdGhpcy5wb2ludGVyRXZlbnRdKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMuZHJhZ2dhYmxlID0gRHJhZ2dhYmxlLmdldCh0aGlzLmVsZW1lbnQpO1xuXG5cdFx0XHRcdHRoaXMudHdlZW4gPSBUd2VlbkxpdGUudG8odGhpcy5kcmFnZ2FibGUuc2Nyb2xsUHJveHksIGR1cmF0aW9uLCB7XG5cdFx0XHRcdFx0c2Nyb2xsVG9wOiBtYXgsXG5cdFx0XHRcdFx0ZWFzZTogTGluZWFyLmVhc2VOb25lLFxuXHRcdFx0XHRcdGRlbGF5OiB0aGlzLm9wdGlvbnMucGF1c2UsXG5cdFx0XHRcdFx0cGF1c2VkOiB0cnVlLFxuXHRcdFx0XHRcdG9uVXBkYXRlOiAodGhpcy5vcHRpb25zLmJ5ID09PSBcInBhZ2VcIiA/IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKE1hdGguYWJzKHNlbGYuZHJhZ2dhYmxlLnNjcm9sbFByb3h5LnRvcCgpKSA+PSBwYXVzZUhlaWdodCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLnR3ZWVuLnBhdXNlKCk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTmV4dCBoZWlnaHQgYXQgd2hpY2ggdG8gcGF1c2Ugc2Nyb2xsaW5nLlxuXHRcdFx0XHRcdFx0XHRwYXVzZUhlaWdodCArPSBlbGVtZW50SGVpZ2h0O1xuXG5cdFx0XHRcdFx0XHRcdFR3ZWVuTGl0ZS5kZWxheWVkQ2FsbChzZWxmLm9wdGlvbnMucGF1c2UsXG5cdFx0XHRcdFx0XHRcdFx0cGFnZUNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxmLnR3ZWVuLnJlc3VtZSgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IDogdW5kZWZpbmVkKSxcblx0XHRcdFx0XHRvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFR3ZWVuTGl0ZS5kZWxheWVkQ2FsbChzZWxmLm9wdGlvbnMucGF1c2UsXG5cdFx0XHRcdFx0XHRcdHNjcm9sbENvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0VHdlZW5MaXRlLnRvKHNlbGYucGFnZSwgMSwge1xuXHRcdFx0XHRcdFx0XHRcdFx0YXV0b0FscGhhOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0b25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGYudHdlZW4uc2VlaygwKS5wYXVzZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMuYnkgPT09IFwicGFnZVwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGF1c2VIZWlnaHQgPSBlbGVtZW50SGVpZ2h0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0JChzZWxmLmVsZW1lbnQpLnRyaWdnZXIoXCJkb25lXCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gSGlkZSBzY3JvbGxiYXIuXG5cdFx0XHRcdFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7IG92ZXJmbG93WTogXCJoaWRkZW5cIiB9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMuY2xpY2spIHtcblx0XHRcdFx0XHQvLyBBY2NvdW50IGZvciBjb250ZW50IHRoYXQgaXMgdG8gYmUgY2xpY2tlZCB3aGVuIGNvbnRlbnQgbm90IG5lZWRlZCB0byBiZSBzY3JvbGxlZFxuXHRcdFx0XHRcdC8vIExldmVyYWdlIERyYWdnYWJsZSBmb3IgdG91Y2gvY2xpY2sgZXZlbnQgaGFuZGxpbmdcblx0XHRcdFx0XHREcmFnZ2FibGUuY3JlYXRlKHRoaXMuZWxlbWVudCwge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJzY3JvbGxUb3BcIixcblx0XHRcdFx0XHRcdHRocm93UHJvcHM6IHRydWUsXG5cdFx0XHRcdFx0XHRlZGdlUmVzaXN0YW5jZTogMC45NSxcblx0XHRcdFx0XHRcdG1pbmltdW1Nb3ZlbWVudDogdGhpcy5vcHRpb25zLm1pbmltdW1Nb3ZlbWVudCxcblx0XHRcdFx0XHRcdG9uQ2xpY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHQkKHNlbGYuZWxlbWVudCkudHJpZ2dlcihcInNjcm9sbENsaWNrXCIsIFt0aGlzLnBvaW50ZXJFdmVudF0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0dGhpcy5kcmFnZ2FibGUgPSBEcmFnZ2FibGUuZ2V0KHRoaXMuZWxlbWVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdC8vIENoZWNrIGlmIGNvbnRlbnQgaXMgbGFyZ2VyIHRoYW4gdmlld2FibGUgYXJlYSBhbmQgaWYgdGhlIHNjcm9sbCBzZXR0aW5ncyBpcyBzZXQgdG8gYWN0dWFsbHkgc2Nyb2xsLlxuXHRcdGNhblNjcm9sbDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25zICYmICh0aGlzLnBhZ2UuaGVpZ2h0KCkgPiAkKHRoaXMuZWxlbWVudCkuaGVpZ2h0KCkpO1xuXHRcdH0sXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0XHQkKHRoaXMuZWxlbWVudCkucmVtb3ZlRGF0YSgpO1xuXHRcdFx0aWYgKHRoaXMudHdlZW4pIHtcblx0XHRcdFx0dGhpcy50d2Vlbi5raWxsKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmRyYWdnYWJsZSkge1xuXHRcdFx0XHR0aGlzLmRyYWdnYWJsZS5raWxsKCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBlbGVtZW50cy5cblx0XHRcdHRoaXMuZWxlbWVudCA9IG51bGw7XG5cdFx0XHR0aGlzLnBhZ2UgPSBudWxsO1xuXHRcdFx0dGhpcy5vcHRpb25zID0gbnVsbDtcblx0XHRcdHRoaXMuX2RlZmF1bHRzID0gbnVsbDtcblx0XHRcdHRoaXMuZHJhZ2dhYmxlID0gbnVsbDtcblx0XHRcdHRoaXMudHdlZW4gPSBudWxsO1xuXHRcdFx0dGhpcy5jYWxjdWxhdGVQcm9ncmVzcyA9IG51bGw7XG5cdFx0fVxuXHR9O1xuXG5cdFBsdWdpbi5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh0aGlzLmNhblNjcm9sbCgpICYmIHRoaXMub3B0aW9ucy5ieSAhPT0gXCJub25lXCIpIHtcblx0XHRcdGlmICh0aGlzLnR3ZWVuKSB7XG5cdFx0XHRcdGlmICh0aGlzLmlzTG9hZGluZykge1xuXHRcdFx0XHRcdHRoaXMudHdlZW4ucGxheSgpO1xuXHRcdFx0XHRcdHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0VHdlZW5MaXRlLnRvKHRoaXMucGFnZSwgMSwge2F1dG9BbHBoYTogMX0pO1xuXHRcdFx0XHRcdFR3ZWVuTGl0ZS5kZWxheWVkQ2FsbCh0aGlzLm9wdGlvbnMucGF1c2UsIHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdFBsdWdpbi5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy50d2Vlbikge1xuXHRcdFx0VHdlZW5MaXRlLmtpbGxEZWxheWVkQ2FsbHNUbyh0aGlzLmNhbGN1bGF0ZVByb2dyZXNzKTtcblx0XHRcdHRoaXMudHdlZW4ucGF1c2UoKTtcblx0XHR9XG5cdH07XG5cblx0UGx1Z2luLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMudHdlZW4pIHtcblx0XHRcdFR3ZWVuTGl0ZS5raWxsRGVsYXllZENhbGxzVG8odGhpcy5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHR0aGlzLnR3ZWVuLmtpbGwoKTtcblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnQgPSBudWxsO1xuXHRcdHRoaXMucGFnZSA9IG51bGw7XG5cdH07XG5cblx0Ly8gQSBsaWdodHdlaWdodCBwbHVnaW4gd3JhcHBlciBhcm91bmQgdGhlIGNvbnN0cnVjdG9yIHRoYXQgcHJldmVudHNcblx0Ly8gbXVsdGlwbGUgaW5zdGFudGlhdGlvbnMuXG5cdCQuZm4uYXV0b1Njcm9sbCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCEkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lKSkge1xuXHRcdFx0XHQkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBwbHVnaW5OYW1lLCBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qIGV4cG9ydGVkIFdJREdFVF9DT01NT05fQ09ORklHICovXG52YXIgV0lER0VUX0NPTU1PTl9DT05GSUcgPSB7XG4gIEFVVEhfUEFUSF9VUkw6IFwidjEvd2lkZ2V0L2F1dGhcIixcbiAgTE9HR0VSX0NMSUVOVF9JRDogXCIxMDg4NTI3MTQ3MTA5LTZxMW8ydnRpaG4zNDI5MnBqdDRja2htaGNrMHJrMG83LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tXCIsXG4gIExPR0dFUl9DTElFTlRfU0VDUkVUOiBcIm5sWnlyY1BMZzZvRXdPOWY5V2ZuMjlXaFwiLFxuICBMT0dHRVJfUkVGUkVTSF9UT0tFTjogXCIxL3h6dDRrd3pFMUg3VzlWbktCOGNBYUN4NnpiNEVzNG5LRW9xYVlIZFREMTVJZ09ySkR0ZHVuNnpLNlhpQVRDS1RcIixcbiAgU1RPUkVfVVJMOiBcImh0dHBzOi8vc3RvcmUtZG90LXJ2YXNlcnZlcjIuYXBwc3BvdC5jb20vXCJcbn07XG4vKiBnbG9iYWwgV2ViRm9udCAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcyA9IChmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBnZXRGb250Q3NzU3R5bGUoY2xhc3NOYW1lLCBmb250T2JqKSB7XG4gICAgdmFyIGZhbWlseSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZGVjb2RlVVJJQ29tcG9uZW50KGZvbnRPYmouZm9udC5mYW1pbHkpLnJlcGxhY2UoLycvZywgXCJcIikgKyBcIjsgXCI7XG4gICAgdmFyIGNvbG9yID0gXCJjb2xvcjogXCIgKyAoZm9udE9iai5jb2xvciA/IGZvbnRPYmouY29sb3IgOiBmb250T2JqLmZvcmVjb2xvcikgKyBcIjsgXCI7XG4gICAgdmFyIHNpemUgPSBcImZvbnQtc2l6ZTogXCIgKyAoZm9udE9iai5zaXplLmluZGV4T2YoXCJweFwiKSA9PT0gLTEgPyBmb250T2JqLnNpemUgKyBcInB4OyBcIiA6IGZvbnRPYmouc2l6ZSArIFwiOyBcIik7XG4gICAgdmFyIHdlaWdodCA9IFwiZm9udC13ZWlnaHQ6IFwiICsgKGZvbnRPYmouYm9sZCA/IFwiYm9sZFwiIDogXCJub3JtYWxcIikgKyBcIjsgXCI7XG4gICAgdmFyIGl0YWxpYyA9IFwiZm9udC1zdHlsZTogXCIgKyAoZm9udE9iai5pdGFsaWMgPyBcIml0YWxpY1wiIDogXCJub3JtYWxcIikgKyBcIjsgXCI7XG4gICAgdmFyIHVuZGVybGluZSA9IFwidGV4dC1kZWNvcmF0aW9uOiBcIiArIChmb250T2JqLnVuZGVybGluZSA/IFwidW5kZXJsaW5lXCIgOiBcIm5vbmVcIikgKyBcIjsgXCI7XG4gICAgdmFyIGhpZ2hsaWdodCA9IFwiYmFja2dyb3VuZC1jb2xvcjogXCIgKyAoZm9udE9iai5oaWdobGlnaHRDb2xvciA/IGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgOiBmb250T2JqLmJhY2tjb2xvcikgKyBcIjtcIjtcblxuICAgIHJldHVybiBcIi5cIiArIGNsYXNzTmFtZSArIFwiIHtcIiArIGZhbWlseSArIGNvbG9yICsgc2l6ZSArIHdlaWdodCArIGl0YWxpYyArIHVuZGVybGluZSArIGhpZ2hsaWdodCArIFwifVwiO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ1NTUnVsZXMocnVsZXMpIHtcbiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcnVsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJ1bGVzW2ldKSk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICAvKlxuICAgKiBMb2FkcyBHb29nbGUgb3IgY3VzdG9tIGZvbnRzLCBpZiBhcHBsaWNhYmxlLCBhbmQgaW5qZWN0cyBDU1Mgc3R5bGVzXG4gICAqIGludG8gdGhlIGhlYWQgb2YgdGhlIGRvY3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gICAgYXJyYXkgICAgc2V0dGluZ3MgICAgQXJyYXkgb2Ygb2JqZWN0cyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcImRhdGVcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9udFNldHRpbmdcIjoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiYmxhY2tcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHk6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDogXCJBa3JvbmltXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlZlcmRhbmFcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ29vZ2xlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovL2N1c3RvbS1mb250LXVybFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCIyMFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybGluZTogZmFsc2VcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgKlxuICAgKiAgICAgICAgICAgb2JqZWN0ICAgY29udGVudERvYyAgICBEb2N1bWVudCBvYmplY3QgaW50byB3aGljaCB0byBpbmplY3Qgc3R5bGVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBsb2FkIGZvbnRzIChvcHRpb25hbCkuXG4gICAqL1xuICBmdW5jdGlvbiBsb2FkRm9udHMoc2V0dGluZ3MsIGNiKSB7XG4gICAgdmFyIGZhbWlsaWVzID0gbnVsbCxcbiAgICAgIGdvb2dsZUZhbWlsaWVzID0gW10sXG4gICAgICBjdXN0b21GYW1pbGllcyA9IFtdLFxuICAgICAgY3VzdG9tVXJscyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2IoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkdvb2dsZUZvbnRzTG9hZGVkKCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBpZiAoIXNldHRpbmdzIHx8IHNldHRpbmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgY3VzdG9tIGNzcyBjbGFzcyBuYW1lcyBhbmQgYWRkIHJ1bGVzIGlmIHNvXG4gICAgc2V0dGluZ3MuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoaXRlbS5jbGFzcyAmJiBpdGVtLmZvbnRTdHlsZSkge1xuICAgICAgICBhZGRDU1NSdWxlcyhbIGdldEZvbnRDc3NTdHlsZShpdGVtLmNsYXNzLCBpdGVtLmZvbnRTdHlsZSkgXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBHb29nbGUgZm9udHNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2V0dGluZ3NbaV0uZm9udFN0eWxlICYmIHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgJiZcbiAgICAgICAgKHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgPT09IFwiZ29vZ2xlXCIpKSB7XG4gICAgICAgIC8vIFJlbW92ZSBmYWxsYmFjayBmb250LlxuICAgICAgICBmYW1pbGllcyA9IHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LmZhbWlseS5zcGxpdChcIixcIilbMF07XG5cbiAgICAgICAgLy8gc3RyaXAgcG9zc2libGUgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBmYW1pbGllcyA9IGZhbWlsaWVzLnJlcGxhY2UoLycvZywgXCJcIik7XG5cbiAgICAgICAgZ29vZ2xlRmFtaWxpZXMucHVzaChmYW1pbGllcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3VzdG9tIGZvbnRzXG4gICAgZm9yIChpID0gMDsgaSA8IHNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2V0dGluZ3NbaV0uZm9udFN0eWxlICYmIHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgJiZcbiAgICAgICAgKHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgPT09IFwiY3VzdG9tXCIpKSB7XG4gICAgICAgIC8vIGRlY29kZSB2YWx1ZSBhbmQgc3RyaXAgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBjdXN0b21GYW1pbGllcy5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC5mYW1pbHkpLnJlcGxhY2UoLycvZywgXCJcIikpO1xuICAgICAgICAvLyBzdHJpcCBzaW5nbGUgcXVvdGVzXG4gICAgICAgIGN1c3RvbVVybHMucHVzaChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC51cmwucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZ29vZ2xlRmFtaWxpZXMubGVuZ3RoID09PSAwICYmIGN1c3RvbUZhbWlsaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBMb2FkIHRoZSBmb250c1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjdXN0b21GYW1pbGllcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBsb2FkQ3VzdG9tRm9udChjdXN0b21GYW1pbGllc1tqXSwgY3VzdG9tVXJsc1tqXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChnb29nbGVGYW1pbGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxvYWRHb29nbGVGb250cyhnb29nbGVGYW1pbGllcywgb25Hb29nbGVGb250c0xvYWRlZCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkQ3VzdG9tRm9udChmYW1pbHksIHVybCwgY29udGVudERvYykge1xuICAgIHZhciBzaGVldCA9IG51bGw7XG4gICAgdmFyIHJ1bGUgPSBcImZvbnQtZmFtaWx5OiBcIiArIGZhbWlseSArIFwiOyBcIiArIFwic3JjOiB1cmwoJ1wiICsgdXJsICsgXCInKTtcIjtcblxuICAgIGNvbnRlbnREb2MgPSBjb250ZW50RG9jIHx8IGRvY3VtZW50O1xuXG4gICAgc2hlZXQgPSBjb250ZW50RG9jLnN0eWxlU2hlZXRzWzBdO1xuXG4gICAgaWYgKHNoZWV0ICE9PSBudWxsKSB7XG4gICAgICBzaGVldC5hZGRSdWxlKFwiQGZvbnQtZmFjZVwiLCBydWxlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkR29vZ2xlRm9udHMoZmFtaWxpZXMsIGNiKSB7XG4gICAgV2ViRm9udC5sb2FkKHtcbiAgICAgIGdvb2dsZToge1xuICAgICAgICBmYW1pbGllczogZmFtaWxpZXNcbiAgICAgIH0sXG4gICAgICBhY3RpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5hY3RpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGltZW91dDogMjAwMFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlbG9hZEltYWdlcyh1cmxzKSB7XG4gICAgdmFyIGxlbmd0aCA9IHVybHMubGVuZ3RoLFxuICAgICAgaW1hZ2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpbWFnZXNbaV0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltYWdlc1tpXS5zcmMgPSB1cmxzW2ldO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1ldGVyKHBhcmFtKSB7XG4gICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSksXG4gICAgICB2YXJzID0gcXVlcnkuc3BsaXQoXCImXCIpLFxuICAgICAgcGFpcjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICBpZiAocGFpclswXSA9PSBwYXJhbSkgeyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKSB7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgc3dpdGNoIChzdGF0dXNDb2RlKSB7XG4gICAgICBjYXNlIDQwNDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGUgZmlsZSBkb2VzIG5vdCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1MDc6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgaXMgbm90IGVub3VnaCBkaXNrIHNwYWNlIHRvIHNhdmUgdGhlIGZpbGUgb24gUmlzZSBDYWNoZS5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIHdhcyBhIHByb2JsZW0gcmV0cmlldmluZyB0aGUgZmlsZSBmcm9tIFJpc2UgQ2FjaGUuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuZXNjYXBlSFRNTChodG1sKSB7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIHJldHVybiBkaXYudGV4dENvbnRlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNJbnRlcm5ldENvbm5lY3Rpb24oZmlsZVBhdGgsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKCFmaWxlUGF0aCB8fCAhY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIkhFQURcIiwgZmlsZVBhdGggKyBcIj9jYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgY2FsbGJhY2soKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDQpKTtcblxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgY2hyb21lIHZlcnNpb24gaXMgdW5kZXIgYSBjZXJ0YWluIHZlcnNpb25cbiAgICovXG4gIGZ1bmN0aW9uIGlzTGVnYWN5KCkge1xuICAgIHZhciBsZWdhY3lWZXJzaW9uID0gMjU7XG5cbiAgICB2YXIgbWF0Y2ggPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxTKykvKTtcbiAgICB2YXIgdmVyc2lvbiA9IG1hdGNoID8gbWF0Y2hbMV0gOiAwO1xuXG4gICAgaWYgKHZlcnNpb24pIHtcbiAgICAgIHZlcnNpb24gPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cmluZygwLHZlcnNpb24uaW5kZXhPZihcIi5cIikpKTtcblxuICAgICAgaWYgKHZlcnNpb24gPD0gbGVnYWN5VmVyc2lvbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBodHRwOi8vIG9yIGh0dHBzOi8vIHByb3RvY29sIHRvIHVybCBpZiB0aGUgcHJvdG9jb2wgaXMgbWlzc2luZ1xuICAgKi9cbiAgZnVuY3Rpb24gYWRkUHJvdG9jb2wodXJsLCBzZWN1cmUpIHtcbiAgICBpZiAoIS9eKD86ZnxodCl0cHM/XFw6XFwvXFwvLy50ZXN0KHVybCkpIHtcbiAgICAgIHVybCA9ICgoc2VjdXJlKSA/IFwiaHR0cHM6Ly9cIiA6IFwiaHR0cDovL1wiKSArIHVybDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYWRkUHJvdG9jb2w6IGFkZFByb3RvY29sLFxuICAgIGdldFF1ZXJ5UGFyYW1ldGVyOiBnZXRRdWVyeVBhcmFtZXRlcixcbiAgICBnZXRGb250Q3NzU3R5bGU6ICBnZXRGb250Q3NzU3R5bGUsXG4gICAgYWRkQ1NTUnVsZXM6ICAgICAgYWRkQ1NTUnVsZXMsXG4gICAgbG9hZEZvbnRzOiAgICAgICAgbG9hZEZvbnRzLFxuICAgIGxvYWRDdXN0b21Gb250OiAgIGxvYWRDdXN0b21Gb250LFxuICAgIGxvYWRHb29nbGVGb250czogICBsb2FkR29vZ2xlRm9udHMsXG4gICAgcHJlbG9hZEltYWdlczogICAgcHJlbG9hZEltYWdlcyxcbiAgICBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2U6IGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZSxcbiAgICB1bmVzY2FwZUhUTUw6IHVuZXNjYXBlSFRNTCxcbiAgICBoYXNJbnRlcm5ldENvbm5lY3Rpb246IGhhc0ludGVybmV0Q29ubmVjdGlvbixcbiAgICBpc0xlZ2FjeTogaXNMZWdhY3lcbiAgfTtcbn0pKCk7XG5cbi8qIGdsb2JhbCBXSURHRVRfQ09NTU9OX0NPTkZJRyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyA9IChmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgIHZhciBkaXNwbGF5SWQgPSBcIlwiLFxuICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICB2ZXJzaW9uID0gbnVsbDtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuXG4gIC8qIFJldHJpZXZlIHBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgZXZlbnQgbG9nZ2VyLiAqL1xuICBmdW5jdGlvbiBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGNiKSB7XG4gICAgdmFyIGpzb24gPSBudWxsO1xuXG4gICAgLy8gZXZlbnQgaXMgcmVxdWlyZWQuXG4gICAgaWYgKHBhcmFtcy5ldmVudCkge1xuICAgICAganNvbiA9IHBhcmFtcztcblxuICAgICAgaWYgKGpzb24uZmlsZV91cmwpIHtcbiAgICAgICAganNvbi5maWxlX2Zvcm1hdCA9IGdldEZpbGVGb3JtYXQoanNvbi5maWxlX3VybCk7XG4gICAgICB9XG5cbiAgICAgIGpzb24uY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICAgIGpzb24uZGlzcGxheV9pZCA9IGRpc3BsYXlJZDtcblxuICAgICAgaWYgKHZlcnNpb24pIHtcbiAgICAgICAganNvbi52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgIH1cblxuICAgICAgY2IoanNvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2IoanNvbik7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHN1ZmZpeCBmb3IgQlEgdGFibGUgbmFtZS5cbiAgZnVuY3Rpb24gZ2V0U3VmZml4KCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKSxcbiAgICAgIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKSArIDEsXG4gICAgICBkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcblxuICAgIGlmIChtb250aCA8IDEwKSB7XG4gICAgICBtb250aCA9IFwiMFwiICsgbW9udGg7XG4gICAgfVxuXG4gICAgaWYgKGRheSA8IDEwKSB7XG4gICAgICBkYXkgPSBcIjBcIiArIGRheTtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIiArIHllYXIgKyBtb250aCArIGRheTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RmlsZUZvcm1hdCh1cmwpIHtcbiAgICB2YXIgaGFzUGFyYW1zID0gL1s/IyZdLyxcbiAgICAgIHN0cjtcblxuICAgIGlmICghdXJsIHx8IHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHN0ciA9IHVybC5zdWJzdHIodXJsLmxhc3RJbmRleE9mKFwiLlwiKSArIDEpO1xuXG4gICAgLy8gZG9uJ3QgaW5jbHVkZSBhbnkgcGFyYW1zIGFmdGVyIHRoZSBmaWxlbmFtZVxuICAgIGlmIChoYXNQYXJhbXMudGVzdChzdHIpKSB7XG4gICAgICBzdHIgPSBzdHIuc3Vic3RyKDAgLChzdHIuaW5kZXhPZihcIj9cIikgIT09IC0xKSA/IHN0ci5pbmRleE9mKFwiP1wiKSA6IHN0ci5sZW5ndGgpO1xuXG4gICAgICBzdHIgPSBzdHIuc3Vic3RyKDAsIChzdHIuaW5kZXhPZihcIiNcIikgIT09IC0xKSA/IHN0ci5pbmRleE9mKFwiI1wiKSA6IHN0ci5sZW5ndGgpO1xuXG4gICAgICBzdHIgPSBzdHIuc3Vic3RyKDAsIChzdHIuaW5kZXhPZihcIiZcIikgIT09IC0xKSA/IHN0ci5pbmRleE9mKFwiJlwiKSA6IHN0ci5sZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEluc2VydERhdGEocGFyYW1zKSB7XG4gICAgdmFyIEJBU0VfSU5TRVJUX1NDSEVNQSA9IHtcbiAgICAgIFwia2luZFwiOiBcImJpZ3F1ZXJ5I3RhYmxlRGF0YUluc2VydEFsbFJlcXVlc3RcIixcbiAgICAgIFwic2tpcEludmFsaWRSb3dzXCI6IGZhbHNlLFxuICAgICAgXCJpZ25vcmVVbmtub3duVmFsdWVzXCI6IGZhbHNlLFxuICAgICAgXCJ0ZW1wbGF0ZVN1ZmZpeFwiOiBnZXRTdWZmaXgoKSxcbiAgICAgIFwicm93c1wiOiBbe1xuICAgICAgICBcImluc2VydElkXCI6IFwiXCJcbiAgICAgIH1dXG4gICAgfSxcbiAgICBkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShCQVNFX0lOU0VSVF9TQ0hFTUEpKTtcblxuICAgIGRhdGEucm93c1swXS5pbnNlcnRJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyKS50b1VwcGVyQ2FzZSgpO1xuICAgIGRhdGEucm93c1swXS5qc29uID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICBkYXRhLnJvd3NbMF0uanNvbi50cyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXZlbnQodGFibGUsIHBhcmFtcykge1xuICAgIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgZnVuY3Rpb24oanNvbikge1xuICAgICAgaWYgKGpzb24gIT09IG51bGwpIHtcbiAgICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyLmxvZyh0YWJsZSwganNvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiBTZXQgdGhlIENvbXBhbnkgYW5kIERpc3BsYXkgSURzLiAqL1xuICBmdW5jdGlvbiBzZXRJZHMoY29tcGFueSwgZGlzcGxheSkge1xuICAgIGNvbXBhbnlJZCA9IGNvbXBhbnk7XG4gICAgZGlzcGxheUlkID0gZGlzcGxheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFZlcnNpb24odmFsdWUpIHtcbiAgICB2ZXJzaW9uID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiZ2V0SW5zZXJ0RGF0YVwiOiBnZXRJbnNlcnREYXRhLFxuICAgIFwiZ2V0RmlsZUZvcm1hdFwiOiBnZXRGaWxlRm9ybWF0LFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJzZXRJZHNcIjogc2V0SWRzLFxuICAgIFwic2V0VmVyc2lvblwiOiBzZXRWZXJzaW9uXG4gIH07XG59KSgpO1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIgPSAoZnVuY3Rpb24odXRpbHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIFJFRlJFU0hfVVJMID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdG9rZW4/Y2xpZW50X2lkPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9JRCArXG4gICAgICBcIiZjbGllbnRfc2VjcmV0PVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9TRUNSRVQgK1xuICAgICAgXCImcmVmcmVzaF90b2tlbj1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9SRUZSRVNIX1RPS0VOICtcbiAgICAgIFwiJmdyYW50X3R5cGU9cmVmcmVzaF90b2tlblwiO1xuXG4gIHZhciBzZXJ2aWNlVXJsID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9iaWdxdWVyeS92Mi9wcm9qZWN0cy9jbGllbnQtc2lkZS1ldmVudHMvZGF0YXNldHMvV2lkZ2V0X0V2ZW50cy90YWJsZXMvVEFCTEVfSUQvaW5zZXJ0QWxsXCIsXG4gICAgdGhyb3R0bGUgPSBmYWxzZSxcbiAgICB0aHJvdHRsZURlbGF5ID0gMTAwMCxcbiAgICBsYXN0RXZlbnQgPSBcIlwiLFxuICAgIHJlZnJlc2hEYXRlID0gMCxcbiAgICB0b2tlbiA9IFwiXCI7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVmcmVzaFRva2VuKGNiKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKG5ldyBEYXRlKCkgLSByZWZyZXNoRGF0ZSA8IDM1ODAwMDApIHtcbiAgICAgIHJldHVybiBjYih7fSk7XG4gICAgfVxuXG4gICAgeGhyLm9wZW4oXCJQT1NUXCIsIFJFRlJFU0hfVVJMLCB0cnVlKTtcbiAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzcCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKTtcblxuICAgICAgY2IoeyB0b2tlbjogcmVzcC5hY2Nlc3NfdG9rZW4sIHJlZnJlc2hlZEF0OiBuZXcgRGF0ZSgpIH0pO1xuICAgIH07XG5cbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNUaHJvdHRsZWQoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhyb3R0bGUgJiYgKGxhc3RFdmVudCA9PT0gZXZlbnQpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBsb2codGFibGVOYW1lLCBwYXJhbXMpIHtcbiAgICBpZiAoIXRhYmxlTmFtZSB8fCAhcGFyYW1zIHx8IChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiAhcGFyYW1zLmV2ZW50KSB8fFxuICAgICAgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmIGlzVGhyb3R0bGVkKHBhcmFtcy5ldmVudCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3R0bGUgPSB0cnVlO1xuICAgIGxhc3RFdmVudCA9IHBhcmFtcy5ldmVudDtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3R0bGUgPSBmYWxzZTtcbiAgICB9LCB0aHJvdHRsZURlbGF5KTtcblxuICAgIGZ1bmN0aW9uIGluc2VydFdpdGhUb2tlbihyZWZyZXNoRGF0YSkge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICBpbnNlcnREYXRhLCB1cmw7XG5cbiAgICAgIHVybCA9IHNlcnZpY2VVcmwucmVwbGFjZShcIlRBQkxFX0lEXCIsIHRhYmxlTmFtZSk7XG4gICAgICByZWZyZXNoRGF0ZSA9IHJlZnJlc2hEYXRhLnJlZnJlc2hlZEF0IHx8IHJlZnJlc2hEYXRlO1xuICAgICAgdG9rZW4gPSByZWZyZXNoRGF0YS50b2tlbiB8fCB0b2tlbjtcbiAgICAgIGluc2VydERhdGEgPSB1dGlscy5nZXRJbnNlcnREYXRhKHBhcmFtcyk7XG5cbiAgICAgIC8vIEluc2VydCB0aGUgZGF0YS5cbiAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgdG9rZW4pO1xuXG4gICAgICBpZiAocGFyYW1zLmNiICYmIHR5cGVvZiBwYXJhbXMuY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcGFyYW1zLmNiKHhoci5yZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGluc2VydERhdGEpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVmcmVzaFRva2VuKGluc2VydFdpdGhUb2tlbik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwibG9nXCI6IGxvZ1xuICB9O1xufSkoUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMpO1xuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xudmFyIF9nYXEgPSBfZ2FxIHx8IFtdO1xuXG5fZ2FxLnB1c2goW1wiX3NldEFjY291bnRcIiwgXCJVQS01NzA5MjE1OS0xM1wiXSk7XG5fZ2FxLnB1c2goW1wiX3RyYWNrUGFnZXZpZXdcIl0pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7IGdhLnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiOyBnYS5hc3luYyA9IHRydWU7XG4gIGdhLnNyYyA9IChcImh0dHBzOlwiID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8gXCJodHRwczovL3NzbFwiIDogXCJodHRwOi8vd3d3XCIpICsgXCIuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanNcIjtcbiAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnYSwgcyk7XG59KSgpO1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuLyogZ2xvYmFsIGdhZGdldHM6ZmFsc2UsIFdlYkZvbnQ6ZmFsc2UgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5UZXh0ID0ge307XG5cblJpc2VWaXNpb24uVGV4dCA9IChmdW5jdGlvbihnYWRnZXRzLCBXZWJGb250KSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfYWRkaXRpb25hbFBhcmFtcyA9IG51bGwsXG4gICAgX3ByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKSxcbiAgICBfdXRpbHMgPSBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXM7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX2xvYWRHb29nbGVGb250cyhmb250cywgY2IpIHtcblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKXtcbiAgICAgICAgY2IoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShmb250cykgJiYgZm9udHMubGVuZ3RoID4gMCkge1xuICAgICAgV2ViRm9udC5sb2FkKHtcbiAgICAgICAgZ29vZ2xlOiB7XG4gICAgICAgICAgZmFtaWxpZXM6IGZvbnRzXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVvdXQ6IDIwMDAsXG4gICAgICAgIGFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5hY3RpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIk5vIGdvb2dsZSBmb250cyB3ZXJlIGxvYWRlZFwiKTtcbiAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBmb250aW5hY3RpdmU6IGZ1bmN0aW9uKGZhbWlseU5hbWUpIHtcbiAgICAgICAgICBfbG9nRXZlbnQoe1xuICAgICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJHb29nbGUgZm9udCBub3QgbG9hZGVkXCIsXG4gICAgICAgICAgICBcImVycm9yX2RldGFpbHNcIjogZmFtaWx5TmFtZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb21wbGV0ZSgpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wYWdlXCIpLmlubmVySFRNTCA9IF9hZGRpdGlvbmFsUGFyYW1zLmRhdGE7XG5cbiAgICBfbG9hZEdvb2dsZUZvbnRzKF9hZGRpdGlvbmFsUGFyYW1zLmdvb2dsZUZvbnRzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBsb2FkIGN1c3RvbSBmb250c1xuICAgICAgJC5lYWNoKF9hZGRpdGlvbmFsUGFyYW1zLmN1c3RvbUZvbnRzLmZvbnRzLCBmdW5jdGlvbiAoaW5kZXgsIGZvbnQpIHtcbiAgICAgICAgX3V0aWxzLmxvYWRDdXN0b21Gb250KGZvbnQuZmFtaWx5LnJlcGxhY2UoLycvZywgXCJcIiksIGZvbnQudXJsLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKSk7XG4gICAgICB9KTtcblxuICAgICAgJChcIiNjb250YWluZXJcIikuYXV0b1Njcm9sbChfYWRkaXRpb25hbFBhcmFtcy5zY3JvbGwpLm9uKFwiZG9uZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgX2RvbmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBfcmVhZHkoKTtcbiAgICB9KTtcblxuICB9XG5cbiAgZnVuY3Rpb24gX2dldFRhYmxlTmFtZSgpIHtcbiAgICByZXR1cm4gXCJ0ZXh0X2V2ZW50c1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gX2xvZ0V2ZW50KHBhcmFtcykge1xuICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLmxvZ0V2ZW50KF9nZXRUYWJsZU5hbWUoKSwgcGFyYW1zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZWFkeSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9yZWFkeVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksIHRydWUsXG4gICAgICB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kb25lKCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X2RvbmVcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpKTtcbiAgICBfbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwiZG9uZVwiIH0pO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsUGFyYW1zKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICBfYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYWRkaXRpb25hbFBhcmFtcykpO1xuXG4gICAgX2FkZGl0aW9uYWxQYXJhbXMud2lkdGggPSBfcHJlZnMuZ2V0SW50KFwicnNXXCIpO1xuICAgIF9hZGRpdGlvbmFsUGFyYW1zLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIik7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS53aWR0aCA9IF9hZGRpdGlvbmFsUGFyYW1zLndpZHRoICsgXCJweFwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLnN0eWxlLmhlaWdodCA9IF9hZGRpdGlvbmFsUGFyYW1zLmhlaWdodCArIFwicHhcIjtcblxuICAgIF9pbml0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmICgkKFwiI2NvbnRhaW5lclwiKS5kYXRhKFwicGx1Z2luX2F1dG9TY3JvbGxcIikpIHtcbiAgICAgICQoXCIjY29udGFpbmVyXCIpLmRhdGEoXCJwbHVnaW5fYXV0b1Njcm9sbFwiKS5wbGF5KCk7XG4gICAgfVxuXG4gICAgX2xvZ0V2ZW50KHsgXCJldmVudFwiOiBcInBsYXlcIn0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgaWYgKCQoXCIjY29udGFpbmVyXCIpLmRhdGEoXCJwbHVnaW5fYXV0b1Njcm9sbFwiKSkge1xuICAgICAgJChcIiNjb250YWluZXJcIikuZGF0YShcInBsdWdpbl9hdXRvU2Nyb2xsXCIpLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBwYXVzZSgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwic2V0QWRkaXRpb25hbFBhcmFtc1wiOiBzZXRBZGRpdGlvbmFsUGFyYW1zLFxuICAgIFwic3RvcFwiOiBzdG9wXG4gIH07XG59KShnYWRnZXRzLCBXZWJGb250KTtcblxuLyogZ2xvYmFsIFJpc2VWaXNpb24sIGdhZGdldHMgKi9cblxuKGZ1bmN0aW9uICh3aW5kb3csIGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKSxcbiAgICBpZCA9IHByZWZzLmdldFN0cmluZyhcImlkXCIpO1xuXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBkb2N1bWVudC5ib2R5Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lcywgdmFsdWVzKSB7XG4gICAgdmFyIGFkZGl0aW9uYWxQYXJhbXMsXG4gICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICAgZGlzcGxheUlkID0gXCJcIjtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKG5hbWVzWzBdID09PSBcImNvbXBhbnlJZFwiKSB7XG4gICAgICAgIGNvbXBhbnlJZCA9IHZhbHVlc1swXTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hbWVzWzFdID09PSBcImRpc3BsYXlJZFwiKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbMV0pIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSB2YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gXCJwcmV2aWV3XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMuc2V0SWRzKGNvbXBhbnlJZCwgZGlzcGxheUlkKTtcblxuICAgICAgaWYgKG5hbWVzWzJdID09PSBcImFkZGl0aW9uYWxQYXJhbXNcIikge1xuICAgICAgICBhZGRpdGlvbmFsUGFyYW1zID0gSlNPTi5wYXJzZSh2YWx1ZXNbMl0pO1xuXG4gICAgICAgIFJpc2VWaXNpb24uVGV4dC5zZXRBZGRpdGlvbmFsUGFyYW1zKGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChpZCAmJiBpZCAhPT0gXCJcIikge1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfcGxheV9cIiArIGlkLCBwbGF5KTtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlKTtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3N0b3BfXCIgKyBpZCwgc3RvcCk7XG5cbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIGNvbmZpZ3VyZSk7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzcGFyYW1fZ2V0XCIsIG51bGwsIGlkLCBbXCJjb21wYW55SWRcIiwgXCJkaXNwbGF5SWRcIiwgXCJhZGRpdGlvbmFsUGFyYW1zXCJdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgUmlzZVZpc2lvbi5UZXh0LnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIFJpc2VWaXNpb24uVGV4dC5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBSaXNlVmlzaW9uLlRleHQuc3RvcCgpO1xuICB9XG59KSh3aW5kb3csIGdhZGdldHMpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
