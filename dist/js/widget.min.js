!function(e,t,n,o){"use strict";function i(t,n){this.element=t,this.page=e(t).find(".page"),this.options=e.extend({},r,n),this._defaults=r,this._name=s,this.isLoading=!0,this.draggable=null,this.tween=null,this.calculateProgress=null,this.init()}var s="autoScroll",r={by:"continuous",speed:"medium",pause:5,click:!1,minimumMovement:3};i.prototype={init:function(){function t(){s.tween.pause(),TweenLite.killDelayedCallsTo(s.calculateProgress),TweenLite.killDelayedCallsTo(r),TweenLite.killDelayedCallsTo(a)}var n,i,s=this,r=null,a=null,l=e(this.element).outerHeight(!0),c=l,u=this.element.scrollHeight-this.element.offsetHeight;this.calculateProgress=function(){c=e(s.element).scrollTop()+l,s.tween.progress(e(s.element).scrollTop()/u).play()},this.canScroll()?("page"===this.options.by?(n="fastest"===this.options.speed?.4:"fast"===this.options.speed?.8:"medium"===this.options.speed?1.2:"slow"===this.options.speed?1.6:2,i=this.page.outerHeight(!0)/e(this.element).outerHeight(!0)*n):(n="fastest"===this.options.speed?60:"fast"===this.options.speed?50:"medium"===this.options.speed?40:"slow"===this.options.speed?30:20,i=Math.abs((this.page.outerHeight(!0)-e(this.element).outerHeight(!0))/n)),Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.75,minimumMovement:s.options.minimumMovement,onPress:function(){t()},onRelease:function(){"none"!==s.options.by&&TweenLite.delayedCall(s.options.pause,s.calculateProgress)},onClick:function(){s.options.click&&(t(),e(s.element).trigger("scrollClick",[this.pointerEvent]))}}),this.draggable=Draggable.get(this.element),this.tween=TweenLite.to(this.draggable.scrollProxy,i,{scrollTop:u,ease:Linear.easeNone,delay:this.options.pause,paused:!0,onUpdate:"page"===this.options.by?function(){Math.abs(s.draggable.scrollProxy.top())>=c&&(s.tween.pause(),c+=l,TweenLite.delayedCall(s.options.pause,a=function(){s.tween.resume()}))}:o,onComplete:function(){TweenLite.delayedCall(s.options.pause,r=function(){TweenLite.to(s.page,1,{autoAlpha:0,onComplete:function(){s.tween.seek(0).pause(),"page"===s.options.by&&(c=l),e(s.element).trigger("done")}})})}}),TweenLite.set(this.element,{overflowY:"hidden"})):this.options.click&&(Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.95,minimumMovement:this.options.minimumMovement,onClick:function(){e(s.element).trigger("scrollClick",[this.pointerEvent])}}),this.draggable=Draggable.get(this.element))},canScroll:function(){return this.options&&this.page.height()>e(this.element).height()},destroy:function(){e(this.element).removeData(),this.tween&&this.tween.kill(),this.draggable&&this.draggable.kill(),this.element=null,this.page=null,this.options=null,this._defaults=null,this.draggable=null,this.tween=null,this.calculateProgress=null}},i.prototype.play=function(){this.canScroll()&&"none"!==this.options.by&&this.tween&&(this.isLoading?(this.tween.play(),this.isLoading=!1):(TweenLite.to(this.page,1,{autoAlpha:1}),TweenLite.delayedCall(this.options.pause,this.calculateProgress)))},i.prototype.pause=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.pause())},i.prototype.stop=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.kill()),this.element=null,this.page=null},e.fn.autoScroll=function(t){return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new i(this,t))})}}(jQuery,window,document);var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,t){var n="font-family: "+decodeURIComponent(t.font.family).replace(/'/g,"")+"; ",o="color: "+(t.color?t.color:t.forecolor)+"; ",i="font-size: "+(-1===t.size.indexOf("px")?t.size+"px; ":t.size+"; "),s="font-weight: "+(t.bold?"bold":"normal")+"; ",r="font-style: "+(t.italic?"italic":"normal")+"; ",a="text-decoration: "+(t.underline?"underline":"none")+"; ",l="background-color: "+(t.highlightColor?t.highlightColor:t.backcolor)+";";return"."+e+" {"+n+o+i+s+r+a+l+"}"}function t(e){for(var t=document.createElement("style"),n=0,o=e.length;o>n;n++)t.appendChild(document.createTextNode(e[n]));document.head.appendChild(t)}function n(n,s){function r(){s&&"function"==typeof s&&s()}function a(){r()}var l=null,c=[],u=[],p=[];if(!n||0===n.length)return r(),void 0;n.forEach(function(n){n.class&&n.fontStyle&&t([e(n.class,n.fontStyle)])});for(var g=0;g<n.length;g++)n[g].fontStyle&&n[g].fontStyle.font.type&&"google"===n[g].fontStyle.font.type&&(l=n[g].fontStyle.font.family.split(",")[0],l=l.replace(/'/g,""),c.push(l));for(g=0;g<n.length;g++)n[g].fontStyle&&n[g].fontStyle.font.type&&"custom"===n[g].fontStyle.font.type&&(u.push(decodeURIComponent(n[g].fontStyle.font.family).replace(/'/g,"")),p.push(n[g].fontStyle.font.url.replace(/'/g,"\\'")));if(0===c.length&&0===u.length)r();else{for(var d=0;d<u.length;d+=1)o(u[d],p[d]);c.length>0?i(c,a):r()}}function o(e,t,n){var o=null,i="font-family: "+e+"; src: url('"+t+"');";n=n||document,o=n.styleSheets[0],null!==o&&o.addRule("@font-face",i)}function i(e,t){WebFont.load({google:{families:e},active:function(){t&&"function"==typeof t&&t()},inactive:function(){t&&"function"==typeof t&&t()},timeout:2e3})}function s(e){var t=document.createElement("script");t.src=e,document.body.appendChild(t)}function r(e){for(var t=e.length,n=[],o=0;t>o;o++)n[o]=new Image,n[o].src=e[o]}function a(e){return l(e,window.location.search.substring(1))}function l(e,t){for(var n,o=t.split("&"),i=0;i<o.length;i++)if(n=o[i].split("="),n[0]==e)return decodeURIComponent(n[1]);return""}function c(e){var t=/(\d{4})\.(\d{2})\.(\d{2})\.(\d{2})\.(\d{2})/,n=t.exec(e);return n?new Date(+n[1],+n[2]-1,+n[3],+n[4],+n[5]):void 0}function u(e){var t="";switch(e){case 404:t="The file does not exist or cannot be accessed.";break;case 507:t="There is not enough disk space to save the file on Rise Cache.";break;default:t="There was a problem retrieving the file from Rise Cache."}return t}function p(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent}function g(e,t){var n=new XMLHttpRequest;if(e&&t&&"function"==typeof t){n.open("HEAD",e+"?cb="+(new Date).getTime(),!1);try{n.send(),t(n.status>=200&&n.status<304)}catch(o){t(!1)}}}function d(){var e=25,t=navigator.userAgent.match(/Chrome\/(\S+)/),n=t?t[1]:0;return n&&(n=parseInt(n.substring(0,n.indexOf("."))),e>=n)?!0:!1}function f(e,t){return/^(?:f|ht)tps?\:\/\//.test(e)||(e=(t?"https://":"http://")+e),e}return{addProtocol:f,getQueryParameter:a,getQueryStringParameter:l,getFontCssStyle:e,addCSSRules:t,loadFonts:n,loadCustomFont:o,loadGoogleFonts:i,loadScript:s,preloadImages:r,getRiseCacheErrorMessage:u,unescapeHTML:p,hasInternetConnection:g,isLegacy:d,getDateObjectFromPlayerVersionString:c}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,t){var o=null;e.event?(o=e,o.file_url&&(o.file_format=n(o.file_url)),o.company_id=l,o.display_id=a,c&&(o.version=c),t(o)):t(o)}function t(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()+1,o=e.getUTCDate();return 10>n&&(n="0"+n),10>o&&(o="0"+o),""+t+n+o}function n(e){var t,n=/[?#&]/;return e&&"string"==typeof e?(t=e.substr(e.lastIndexOf(".")+1),n.test(t)&&(t=t.substr(0,-1!==t.indexOf("?")?t.indexOf("?"):t.length),t=t.substr(0,-1!==t.indexOf("#")?t.indexOf("#"):t.length),t=t.substr(0,-1!==t.indexOf("&")?t.indexOf("&"):t.length)),t.toLowerCase()):null}function o(e){var n={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:t(),rows:[{insertId:""}]},o=JSON.parse(JSON.stringify(n));return o.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),o.rows[0].json=JSON.parse(JSON.stringify(e)),o.rows[0].json.ts=(new Date).toISOString(),o}function i(t,n){e(n,function(e){null!==e&&RiseVision.Common.Logger.log(t,e)})}function s(e,t){l=e,a=t}function r(e){c=e}var a="",l="",c=null;return{getInsertData:o,getFileFormat:n,logEvent:i,setIds:s,setVersion:r}}(),RiseVision.Common.Logger=function(e){"use strict";function t(e){var t=new XMLHttpRequest;return new Date-c<358e4?e({}):(t.open("POST",i,!0),t.onloadend=function(){var n={};try{n=JSON.parse(t.response)}catch(o){console.warn("Can't refresh logger token - ",o.message)}e({token:n.access_token,refreshedAt:new Date})},t.send(),void 0)}function n(e){return r&&l===e}function o(o,i){function p(t){var n,r,a=new XMLHttpRequest;r=s.replace("TABLE_ID",o),c=t.refreshedAt||c,u=t.token||u,n=e.getInsertData(i),a.open("POST",r,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+u),i.cb&&"function"==typeof i.cb&&(a.onloadend=function(){i.cb(a.response)}),a.send(JSON.stringify(n))}if(!(!o||!i||i.hasOwnProperty("event")&&!i.event||i.hasOwnProperty("event")&&n(i.event)))return r=!0,l=i.event,setTimeout(function(){r=!1},a),t(p)}var i="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",s="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",r=!1,a=1e3,l="",c=0,u="";return{log:o}}(RiseVision.Common.LoggerUtils);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-13"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();var RiseVision=RiseVision||{};RiseVision.Text={},RiseVision.Text=function(e,t){"use strict";function n(e,n){function o(){n&&"function"==typeof n&&n()}Array.isArray(e)&&e.length>0?t.load({google:{families:e},timeout:2e3,active:function(){o()},inactive:function(){console.warn("No google fonts were loaded"),o()},fontinactive:function(e){s({event:"error",event_details:"Google font not loaded",error_details:e})}}):o()}function o(){document.querySelector(".page").innerHTML=g.data,n(g.googleFonts,function(){$.each(g.customFonts.fonts,function(e,t){f.loadCustomFont(t.family.replace(/'/g,""),t.url.replace(/'/g,"\\'"))}),$("#container").autoScroll(g.scroll).on("done",function(){a()}),r()})}function i(){return"text_events"}function s(e){RiseVision.Common.LoggerUtils.logEvent(i(),e)}function r(){e.rpc.call("","rsevent_ready",null,d.getString("id"),!0,!0,!0,!0,!0)}function a(){e.rpc.call("","rsevent_done",null,d.getString("id")),s({event:"done"})}function l(e){g=JSON.parse(JSON.stringify(e)),g.width=d.getInt("rsW"),g.height=d.getInt("rsH"),document.getElementById("container").style.width=g.width+"px",document.getElementById("container").style.height=g.height+"px",o()}function c(){$("#container").data("plugin_autoScroll")&&$("#container").data("plugin_autoScroll").play(),s({event:"play"})}function u(){$("#container").data("plugin_autoScroll")&&$("#container").data("plugin_autoScroll").pause()}function p(){u()}var g=null,d=new e.Prefs,f=RiseVision.Common.Utilities;return{pause:u,play:c,setAdditionalParams:l,stop:p}}(gadgets,WebFont),function(e,t){"use strict";function n(e,t){var n,o="",i="";Array.isArray(e)&&e.length>0&&Array.isArray(t)&&t.length>0&&("companyId"===e[0]&&(o=t[0]),"displayId"===e[1]&&(i=t[1]?t[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(o,i),"additionalParams"===e[2]&&(n=JSON.parse(t[2]),RiseVision.Text.setAdditionalParams(n)))}function o(){RiseVision.Text.play()}function i(){RiseVision.Text.pause()}function s(){RiseVision.Text.stop()}var r=new t.Prefs,a=r.getString("id");e.oncontextmenu=function(){return!1},document.body.onmousedown=function(){return!1},a&&""!==a&&(t.rpc.register("rscmd_play_"+a,o),t.rpc.register("rscmd_pause_"+a,i),t.rpc.register("rscmd_stop_"+a,s),t.rpc.register("rsparam_set_"+a,n),t.rpc.call("","rsparam_get",null,a,["companyId","displayId","additionalParams"]))}(window,gadgets);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiUGx1Z2luIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJ0aGlzIiwicGFnZSIsImZpbmQiLCJleHRlbmQiLCJkZWZhdWx0cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwicGx1Z2luTmFtZSIsImlzTG9hZGluZyIsImRyYWdnYWJsZSIsInR3ZWVuIiwiY2FsY3VsYXRlUHJvZ3Jlc3MiLCJpbml0IiwiYnkiLCJzcGVlZCIsInBhdXNlIiwiY2xpY2siLCJtaW5pbXVtTW92ZW1lbnQiLCJwcm90b3R5cGUiLCJwYXVzZVR3ZWVuIiwic2VsZiIsIlR3ZWVuTGl0ZSIsImtpbGxEZWxheWVkQ2FsbHNUbyIsInNjcm9sbENvbXBsZXRlIiwicGFnZUNvbXBsZXRlIiwiZHVyYXRpb24iLCJlbGVtZW50SGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJwYXVzZUhlaWdodCIsIm1heCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsInNjcm9sbFRvcCIsInByb2dyZXNzIiwicGxheSIsImNhblNjcm9sbCIsIk1hdGgiLCJhYnMiLCJEcmFnZ2FibGUiLCJjcmVhdGUiLCJ0eXBlIiwidGhyb3dQcm9wcyIsImVkZ2VSZXNpc3RhbmNlIiwib25QcmVzcyIsIm9uUmVsZWFzZSIsImRlbGF5ZWRDYWxsIiwib25DbGljayIsInRyaWdnZXIiLCJwb2ludGVyRXZlbnQiLCJnZXQiLCJ0byIsInNjcm9sbFByb3h5IiwiZWFzZSIsIkxpbmVhciIsImVhc2VOb25lIiwiZGVsYXkiLCJwYXVzZWQiLCJvblVwZGF0ZSIsInRvcCIsInJlc3VtZSIsIm9uQ29tcGxldGUiLCJhdXRvQWxwaGEiLCJzZWVrIiwic2V0Iiwib3ZlcmZsb3dZIiwiaGVpZ2h0IiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJraWxsIiwic3RvcCIsImZuIiwiYXV0b1Njcm9sbCIsImVhY2giLCJkYXRhIiwialF1ZXJ5IiwiV0lER0VUX0NPTU1PTl9DT05GSUciLCJBVVRIX1BBVEhfVVJMIiwiTE9HR0VSX0NMSUVOVF9JRCIsIkxPR0dFUl9DTElFTlRfU0VDUkVUIiwiTE9HR0VSX1JFRlJFU0hfVE9LRU4iLCJTVE9SRV9VUkwiLCJSaXNlVmlzaW9uIiwiQ29tbW9uIiwiVXRpbGl0aWVzIiwiZ2V0Rm9udENzc1N0eWxlIiwiY2xhc3NOYW1lIiwiZm9udE9iaiIsImZhbWlseSIsImRlY29kZVVSSUNvbXBvbmVudCIsImZvbnQiLCJyZXBsYWNlIiwiY29sb3IiLCJmb3JlY29sb3IiLCJzaXplIiwiaW5kZXhPZiIsIndlaWdodCIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJoaWdobGlnaHQiLCJoaWdobGlnaHRDb2xvciIsImJhY2tjb2xvciIsImFkZENTU1J1bGVzIiwicnVsZXMiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJpIiwibGVuZ3RoIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImhlYWQiLCJsb2FkRm9udHMiLCJzZXR0aW5ncyIsImNiIiwiY2FsbGJhY2siLCJvbkdvb2dsZUZvbnRzTG9hZGVkIiwiZmFtaWxpZXMiLCJnb29nbGVGYW1pbGllcyIsImN1c3RvbUZhbWlsaWVzIiwiY3VzdG9tVXJscyIsImZvckVhY2giLCJpdGVtIiwiY2xhc3MiLCJmb250U3R5bGUiLCJzcGxpdCIsInB1c2giLCJ1cmwiLCJqIiwibG9hZEN1c3RvbUZvbnQiLCJsb2FkR29vZ2xlRm9udHMiLCJjb250ZW50RG9jIiwic2hlZXQiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhZGRSdWxlIiwiV2ViRm9udCIsImxvYWQiLCJnb29nbGUiLCJhY3RpdmUiLCJpbmFjdGl2ZSIsInRpbWVvdXQiLCJsb2FkU2NyaXB0Iiwic3JjIiwic2NyaXB0IiwiYm9keSIsInByZWxvYWRJbWFnZXMiLCJ1cmxzIiwiaW1hZ2VzIiwiSW1hZ2UiLCJnZXRRdWVyeVBhcmFtZXRlciIsInBhcmFtIiwiZ2V0UXVlcnlTdHJpbmdQYXJhbWV0ZXIiLCJsb2NhdGlvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsInF1ZXJ5IiwicGFpciIsInZhcnMiLCJnZXREYXRlT2JqZWN0RnJvbVBsYXllclZlcnNpb25TdHJpbmciLCJwbGF5ZXJWZXJzaW9uIiwicmVnZ2llIiwiZGF0ZUFycmF5IiwiZXhlYyIsIkRhdGUiLCJnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiZXJyb3JNZXNzYWdlIiwidW5lc2NhcGVIVE1MIiwiaHRtbCIsImRpdiIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiaGFzSW50ZXJuZXRDb25uZWN0aW9uIiwiZmlsZVBhdGgiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJnZXRUaW1lIiwic2VuZCIsInN0YXR1cyIsImUiLCJpc0xlZ2FjeSIsImxlZ2FjeVZlcnNpb24iLCJtYXRjaCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlcnNpb24iLCJwYXJzZUludCIsImFkZFByb3RvY29sIiwic2VjdXJlIiwidGVzdCIsIkxvZ2dlclV0aWxzIiwiZ2V0RXZlbnRQYXJhbXMiLCJwYXJhbXMiLCJqc29uIiwiZXZlbnQiLCJmaWxlX3VybCIsImZpbGVfZm9ybWF0IiwiZ2V0RmlsZUZvcm1hdCIsImNvbXBhbnlfaWQiLCJjb21wYW55SWQiLCJkaXNwbGF5X2lkIiwiZGlzcGxheUlkIiwiZ2V0U3VmZml4IiwiZGF0ZSIsInllYXIiLCJnZXRVVENGdWxsWWVhciIsIm1vbnRoIiwiZ2V0VVRDTW9udGgiLCJkYXkiLCJnZXRVVENEYXRlIiwic3RyIiwiaGFzUGFyYW1zIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicmFuZG9tIiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInRzIiwidG9JU09TdHJpbmciLCJsb2dFdmVudCIsInRhYmxlIiwiTG9nZ2VyIiwibG9nIiwic2V0SWRzIiwiY29tcGFueSIsImRpc3BsYXkiLCJzZXRWZXJzaW9uIiwidmFsdWUiLCJ1dGlscyIsInJlZnJlc2hUb2tlbiIsInJlZnJlc2hEYXRlIiwiUkVGUkVTSF9VUkwiLCJvbmxvYWRlbmQiLCJyZXNwIiwicmVzcG9uc2UiLCJjb25zb2xlIiwid2FybiIsIm1lc3NhZ2UiLCJ0b2tlbiIsImFjY2Vzc190b2tlbiIsInJlZnJlc2hlZEF0IiwiaXNUaHJvdHRsZWQiLCJ0aHJvdHRsZSIsImxhc3RFdmVudCIsInRhYmxlTmFtZSIsImluc2VydFdpdGhUb2tlbiIsInJlZnJlc2hEYXRhIiwiaW5zZXJ0RGF0YSIsInNlcnZpY2VVcmwiLCJzZXRSZXF1ZXN0SGVhZGVyIiwiaGFzT3duUHJvcGVydHkiLCJzZXRUaW1lb3V0IiwidGhyb3R0bGVEZWxheSIsIl9nYXEiLCJnYSIsImFzeW5jIiwicHJvdG9jb2wiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiVGV4dCIsImdhZGdldHMiLCJfbG9hZEdvb2dsZUZvbnRzIiwiZm9udHMiLCJjb21wbGV0ZSIsIkFycmF5IiwiaXNBcnJheSIsImZvbnRpbmFjdGl2ZSIsImZhbWlseU5hbWUiLCJfbG9nRXZlbnQiLCJldmVudF9kZXRhaWxzIiwiZXJyb3JfZGV0YWlscyIsIl9pbml0IiwicXVlcnlTZWxlY3RvciIsIl9hZGRpdGlvbmFsUGFyYW1zIiwiZ29vZ2xlRm9udHMiLCJjdXN0b21Gb250cyIsImluZGV4IiwiX3V0aWxzIiwic2Nyb2xsIiwib24iLCJfZG9uZSIsIl9yZWFkeSIsIl9nZXRUYWJsZU5hbWUiLCJycGMiLCJjYWxsIiwiX3ByZWZzIiwiZ2V0U3RyaW5nIiwic2V0QWRkaXRpb25hbFBhcmFtcyIsImFkZGl0aW9uYWxQYXJhbXMiLCJ3aWR0aCIsImdldEludCIsImdldEVsZW1lbnRCeUlkIiwiUHJlZnMiLCJjb25maWd1cmUiLCJuYW1lcyIsInZhbHVlcyIsInByZWZzIiwiaWQiLCJvbmNvbnRleHRtZW51Iiwib25tb3VzZWRvd24iLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkNBT0MsU0FBV0EsRUFBR0MsRUFBUUMsRUFBVUMsR0FDaEMsWUFZQSxTQUFTQyxHQUFPQyxFQUFTQyxHQUN4QkMsS0FBS0YsUUFBVUEsRUFDZkUsS0FBS0MsS0FBT1IsRUFBRUssR0FBU0ksS0FBSyxTQUM1QkYsS0FBS0QsUUFBVU4sRUFBRVUsVUFBV0MsRUFBVUwsR0FDdENDLEtBQUtLLFVBQVlELEVBQ2pCSixLQUFLTSxNQUFRQyxFQUNiUCxLQUFLUSxXQUFZLEVBQ2pCUixLQUFLUyxVQUFZLEtBQ2pCVCxLQUFLVSxNQUFRLEtBQ2JWLEtBQUtXLGtCQUFvQixLQUN6QlgsS0FBS1ksT0FwQk4sR0FBSUwsR0FBYSxhQUNoQkgsR0FDQ1MsR0FBSSxhQUNKQyxNQUFPLFNBQ1BDLE1BQU8sRUFDUEMsT0FBTyxFQUNQQyxnQkFBaUIsRUFpQm5CcEIsR0FBT3FCLFdBQ05OLEtBQU0sV0FTTCxRQUFTTyxLQUNSQyxFQUFLVixNQUFNSyxRQUVYTSxVQUFVQyxtQkFBbUJGLEVBQUtULG1CQUNsQ1UsVUFBVUMsbUJBQW1CQyxHQUU3QkYsVUFBVUMsbUJBQW1CRSxHQWQ5QixHQUFJVixHQUFPVyxFQUNQTCxFQUFPcEIsS0FDUHVCLEVBQWlCLEtBQ2pCQyxFQUFlLEtBQ2ZFLEVBQWdCakMsRUFBRU8sS0FBS0YsU0FBUzZCLGFBQVksR0FDNUNDLEVBQWNGLEVBQ2RHLEVBQU03QixLQUFLRixRQUFRZ0MsYUFBZTlCLEtBQUtGLFFBQVFpQyxZQVduRC9CLE1BQUtXLGtCQUFvQixXQUV4QmlCLEVBQWNuQyxFQUFFMkIsRUFBS3RCLFNBQVNrQyxZQUM3Qk4sRUFFRE4sRUFBS1YsTUFBTXVCLFNBQVN4QyxFQUFFMkIsRUFBS3RCLFNBQVNrQyxZQUFjSCxHQUNoREssUUFHQ2xDLEtBQUttQyxhQUVn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QUFLNEIsb0JBQW9CQyxLQWMxQyxRQUFTN1EsS0FDUCtDLFdBQVdpTSxLQUFLaFAsT0FHbEIsUUFBU25CLEtBQ1BrRSxXQUFXaU0sS0FBS25RLFFBR2xCLFFBQVNzRCxLQUNQWSxXQUFXaU0sS0FBSzdNLE9BMURsQixHQUFJa1AsR0FBUSxHQUFJcEMsR0FBUWdDLE1BQ3RCSyxFQUFLRCxFQUFNVixVQUFVLEtBRXZCblQsR0FBTytULGNBQWdCLFdBQ3JCLE9BQU8sR0FHVDlULFNBQVNxSixLQUFLMEssWUFBYyxXQUMxQixPQUFPLEdBZ0NMRixHQUFhLEtBQVBBLElBQ1JyQyxFQUFRdUIsSUFBSWlCLFNBQVMsY0FBZ0JILEVBQUl0UixHQUN6Q2lQLEVBQVF1QixJQUFJaUIsU0FBUyxlQUFpQkgsRUFBSXpTLEdBQzFDb1EsRUFBUXVCLElBQUlpQixTQUFTLGNBQWdCSCxFQUFJblAsR0FFekM4TSxFQUFRdUIsSUFBSWlCLFNBQVMsZUFBaUJILEVBQUlKLEdBQzFDakMsRUFBUXVCLElBQUlDLEtBQUssR0FBSSxjQUFlLEtBQU1hLEdBQUssWUFBYSxZQUFhLHVCQWMxRTlULE9BQVF5UiIsImZpbGUiOiJqcy93aWRnZXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICBQcm9qZWN0OiBBdXRvLVNjcm9sbFxuICogIERlc2NyaXB0aW9uOiBBdXRvLXNjcm9sbCBwbHVnaW4gZm9yIHVzZSB3aXRoIFJpc2UgVmlzaW9uIFdpZGdldHNcbiAqICBBdXRob3I6IEBkb25uYXBlcFxuICogIExpY2Vuc2U6IE1JVFxuICovXG5cbjsoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgcGx1Z2luTmFtZSA9IFwiYXV0b1Njcm9sbFwiLFxuXHRcdGRlZmF1bHRzID0ge1xuXHRcdFx0Ynk6IFwiY29udGludW91c1wiLFxuXHRcdFx0c3BlZWQ6IFwibWVkaXVtXCIsXG5cdFx0XHRwYXVzZTogNSxcblx0XHRcdGNsaWNrOiBmYWxzZSxcblx0XHRcdG1pbmltdW1Nb3ZlbWVudDogMyAvLyBEcmFnZ2FibGUgZGVmYXVsdCB2YWx1ZSAtIGh0dHA6Ly9ncmVlbnNvY2suY29tL2RvY3MvIy9IVE1MNS9EcmFnL0RyYWdnYWJsZS9cblx0XHR9O1xuXG5cblx0ZnVuY3Rpb24gUGx1Z2luKGVsZW1lbnQsIG9wdGlvbnMpIHtcblx0XHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXHRcdHRoaXMucGFnZSA9ICQoZWxlbWVudCkuZmluZChcIi5wYWdlXCIpO1xuXHRcdHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cdFx0dGhpcy5fZGVmYXVsdHMgPSBkZWZhdWx0cztcblx0XHR0aGlzLl9uYW1lID0gcGx1Z2luTmFtZTtcblx0XHR0aGlzLmlzTG9hZGluZyA9IHRydWU7XG5cdFx0dGhpcy5kcmFnZ2FibGUgPSBudWxsO1xuXHRcdHRoaXMudHdlZW4gPSBudWxsO1xuXHRcdHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MgPSBudWxsO1xuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0UGx1Z2luLnByb3RvdHlwZSA9IHtcblx0XHRpbml0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgc3BlZWQsIGR1cmF0aW9uO1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIHNjcm9sbENvbXBsZXRlID0gbnVsbDtcblx0XHRcdHZhciBwYWdlQ29tcGxldGUgPSBudWxsO1xuXHRcdFx0dmFyIGVsZW1lbnRIZWlnaHQgPSAkKHRoaXMuZWxlbWVudCkub3V0ZXJIZWlnaHQodHJ1ZSk7XG5cdFx0XHR2YXIgcGF1c2VIZWlnaHQgPSBlbGVtZW50SGVpZ2h0O1xuXHRcdFx0dmFyIG1heCA9IHRoaXMuZWxlbWVudC5zY3JvbGxIZWlnaHQgLSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG5cdFx0XHRmdW5jdGlvbiBwYXVzZVR3ZWVuKCkge1xuXHRcdFx0XHRzZWxmLnR3ZWVuLnBhdXNlKCk7XG5cblx0XHRcdFx0VHdlZW5MaXRlLmtpbGxEZWxheWVkQ2FsbHNUbyhzZWxmLmNhbGN1bGF0ZVByb2dyZXNzKTtcblx0XHRcdFx0VHdlZW5MaXRlLmtpbGxEZWxheWVkQ2FsbHNUbyhzY3JvbGxDb21wbGV0ZSk7XG5cdFx0XHRcdC8vIE9ubHkgdXNlZCB3aGVuIHNjcm9sbGluZyBieSBwYWdlLlxuXHRcdFx0XHRUd2VlbkxpdGUua2lsbERlbGF5ZWRDYWxsc1RvKHBhZ2VDb21wbGV0ZSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly8gU2V0IHBhdXNlSGVpZ2h0IHRvIG5ldyB2YWx1ZS5cblx0XHRcdFx0cGF1c2VIZWlnaHQgPSAkKHNlbGYuZWxlbWVudCkuc2Nyb2xsVG9wKCkgK1xuXHRcdFx0XHRcdGVsZW1lbnRIZWlnaHQ7XG5cblx0XHRcdFx0c2VsZi50d2Vlbi5wcm9ncmVzcygkKHNlbGYuZWxlbWVudCkuc2Nyb2xsVG9wKCkgLyBtYXgpXG5cdFx0XHRcdFx0LnBsYXkoKTtcblx0XHRcdH07XG5cblx0XHRcdGlmICh0aGlzLmNhblNjcm9sbCgpKSB7XG5cdFx0XHRcdC8vIFNldCBzY3JvbGwgc3BlZWQuXG5cdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMuYnkgPT09IFwicGFnZVwiKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJmYXN0ZXN0XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMC40O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICh0aGlzLm9wdGlvbnMuc3BlZWQgPT09IFwiZmFzdFwiKSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDAuODtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcIm1lZGl1bVwiKSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDEuMjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcInNsb3dcIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAxLjY7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAyO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGR1cmF0aW9uID0gdGhpcy5wYWdlLm91dGVySGVpZ2h0KHRydWUpIC9cblx0XHRcdFx0XHRcdCQodGhpcy5lbGVtZW50KS5vdXRlckhlaWdodCh0cnVlKSAqIHNwZWVkO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgeyAgLy8gQ29udGludW91cyBvciBieSByb3dcblx0XHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcImZhc3Rlc3RcIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSA2MDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcImZhc3RcIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSA1MDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcIm1lZGl1bVwiKSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDQwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICh0aGlzLm9wdGlvbnMuc3BlZWQgPT09IFwic2xvd1wiKSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDMwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMjA7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZHVyYXRpb24gPSBNYXRoLmFicygodGhpcy5wYWdlLm91dGVySGVpZ2h0KHRydWUpIC1cblx0XHRcdFx0XHRcdCQodGhpcy5lbGVtZW50KS5vdXRlckhlaWdodCh0cnVlKSkgLyBzcGVlZCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHREcmFnZ2FibGUuY3JlYXRlKHRoaXMuZWxlbWVudCwge1xuXHRcdFx0XHRcdHR5cGU6IFwic2Nyb2xsVG9wXCIsXG5cdFx0XHRcdFx0dGhyb3dQcm9wczogdHJ1ZSxcblx0XHRcdFx0XHRlZGdlUmVzaXN0YW5jZTogMC43NSxcblx0XHRcdFx0XHRtaW5pbXVtTW92ZW1lbnQ6IHNlbGYub3B0aW9ucy5taW5pbXVtTW92ZW1lbnQsXG5cdFx0XHRcdFx0b25QcmVzczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRwYXVzZVR3ZWVuKCk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRvblJlbGVhc2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKHNlbGYub3B0aW9ucy5ieSAhPT0gXCJub25lXCIpIHtcblx0XHRcdFx0XHRcdFx0LyogRmlndXJlIG91dCB3aGF0IHRoZSBuZXcgc2Nyb2xsIHBvc2l0aW9uIGlzIGFuZFxuXHRcdFx0XHRcdFx0XHQgdHJhbnNsYXRlIHRoYXQgaW50byB0aGUgcHJvZ3Jlc3Mgb2YgdGhlIHR3ZWVuICgwLTEpXG5cdFx0XHRcdFx0XHRcdCBzbyB0aGF0IHdlIGNhbiBjYWxpYnJhdGUgaXQ7IG90aGVyd2lzZSwgaXQnZCBqdW1wXG5cdFx0XHRcdFx0XHRcdCBiYWNrIHRvIHdoZXJlIGl0IHBhdXNlZCB3aGVuIHdlIHJlc3VtZSgpLiAqL1xuXHRcdFx0XHRcdFx0XHRUd2VlbkxpdGUuZGVsYXllZENhbGwoc2VsZi5vcHRpb25zLnBhdXNlLCBzZWxmLmNhbGN1bGF0ZVByb2dyZXNzKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG9uQ2xpY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKHNlbGYub3B0aW9ucy5jbGljaykge1xuXHRcdFx0XHRcdFx0XHRwYXVzZVR3ZWVuKCk7XG5cdFx0XHRcdFx0XHRcdCQoc2VsZi5lbGVtZW50KS50cmlnZ2VyKFwic2Nyb2xsQ2xpY2tcIiwgW3RoaXMucG9pbnRlckV2ZW50XSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aGlzLmRyYWdnYWJsZSA9IERyYWdnYWJsZS5nZXQodGhpcy5lbGVtZW50KTtcblxuXHRcdFx0XHR0aGlzLnR3ZWVuID0gVHdlZW5MaXRlLnRvKHRoaXMuZHJhZ2dhYmxlLnNjcm9sbFByb3h5LCBkdXJhdGlvbiwge1xuXHRcdFx0XHRcdHNjcm9sbFRvcDogbWF4LFxuXHRcdFx0XHRcdGVhc2U6IExpbmVhci5lYXNlTm9uZSxcblx0XHRcdFx0XHRkZWxheTogdGhpcy5vcHRpb25zLnBhdXNlLFxuXHRcdFx0XHRcdHBhdXNlZDogdHJ1ZSxcblx0XHRcdFx0XHRvblVwZGF0ZTogKHRoaXMub3B0aW9ucy5ieSA9PT0gXCJwYWdlXCIgPyBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChNYXRoLmFicyhzZWxmLmRyYWdnYWJsZS5zY3JvbGxQcm94eS50b3AoKSkgPj0gcGF1c2VIZWlnaHQpIHtcblx0XHRcdFx0XHRcdFx0c2VsZi50d2Vlbi5wYXVzZSgpO1xuXG5cdFx0XHRcdFx0XHRcdC8vIE5leHQgaGVpZ2h0IGF0IHdoaWNoIHRvIHBhdXNlIHNjcm9sbGluZy5cblx0XHRcdFx0XHRcdFx0cGF1c2VIZWlnaHQgKz0gZWxlbWVudEhlaWdodDtcblxuXHRcdFx0XHRcdFx0XHRUd2VlbkxpdGUuZGVsYXllZENhbGwoc2VsZi5vcHRpb25zLnBhdXNlLFxuXHRcdFx0XHRcdFx0XHRcdHBhZ2VDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZi50d2Vlbi5yZXN1bWUoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSA6IHVuZGVmaW5lZCksXG5cdFx0XHRcdFx0b25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRUd2VlbkxpdGUuZGVsYXllZENhbGwoc2VsZi5vcHRpb25zLnBhdXNlLFxuXHRcdFx0XHRcdFx0XHRzY3JvbGxDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFR3ZWVuTGl0ZS50byhzZWxmLnBhZ2UsIDEsIHtcblx0XHRcdFx0XHRcdFx0XHRcdGF1dG9BbHBoYTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxmLnR3ZWVuLnNlZWsoMCkucGF1c2UoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5vcHRpb25zLmJ5ID09PSBcInBhZ2VcIikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhdXNlSGVpZ2h0ID0gZWxlbWVudEhlaWdodDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCQoc2VsZi5lbGVtZW50KS50cmlnZ2VyKFwiZG9uZVwiKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIEhpZGUgc2Nyb2xsYmFyLlxuXHRcdFx0XHRUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwgeyBvdmVyZmxvd1k6IFwiaGlkZGVuXCIgfSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLmNsaWNrKSB7XG5cdFx0XHRcdFx0Ly8gQWNjb3VudCBmb3IgY29udGVudCB0aGF0IGlzIHRvIGJlIGNsaWNrZWQgd2hlbiBjb250ZW50IG5vdCBuZWVkZWQgdG8gYmUgc2Nyb2xsZWRcblx0XHRcdFx0XHQvLyBMZXZlcmFnZSBEcmFnZ2FibGUgZm9yIHRvdWNoL2NsaWNrIGV2ZW50IGhhbmRsaW5nXG5cdFx0XHRcdFx0RHJhZ2dhYmxlLmNyZWF0ZSh0aGlzLmVsZW1lbnQsIHtcblx0XHRcdFx0XHRcdHR5cGU6IFwic2Nyb2xsVG9wXCIsXG5cdFx0XHRcdFx0XHR0aHJvd1Byb3BzOiB0cnVlLFxuXHRcdFx0XHRcdFx0ZWRnZVJlc2lzdGFuY2U6IDAuOTUsXG5cdFx0XHRcdFx0XHRtaW5pbXVtTW92ZW1lbnQ6IHRoaXMub3B0aW9ucy5taW5pbXVtTW92ZW1lbnQsXG5cdFx0XHRcdFx0XHRvbkNsaWNrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0JChzZWxmLmVsZW1lbnQpLnRyaWdnZXIoXCJzY3JvbGxDbGlja1wiLCBbdGhpcy5wb2ludGVyRXZlbnRdKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHRoaXMuZHJhZ2dhYmxlID0gRHJhZ2dhYmxlLmdldCh0aGlzLmVsZW1lbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvLyBDaGVjayBpZiBjb250ZW50IGlzIGxhcmdlciB0aGFuIHZpZXdhYmxlIGFyZWEgYW5kIGlmIHRoZSBzY3JvbGwgc2V0dGluZ3MgaXMgc2V0IHRvIGFjdHVhbGx5IHNjcm9sbC5cblx0XHRjYW5TY3JvbGw6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9ucyAmJiAodGhpcy5wYWdlLmhlaWdodCgpID4gJCh0aGlzLmVsZW1lbnQpLmhlaWdodCgpKTtcblx0XHR9LFxuXHRcdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdFx0JCh0aGlzLmVsZW1lbnQpLnJlbW92ZURhdGEoKTtcblx0XHRcdGlmICh0aGlzLnR3ZWVuKSB7XG5cdFx0XHRcdHRoaXMudHdlZW4ua2lsbCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5kcmFnZ2FibGUpIHtcblx0XHRcdFx0dGhpcy5kcmFnZ2FibGUua2lsbCgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZWxlbWVudHMuXG5cdFx0XHR0aGlzLmVsZW1lbnQgPSBudWxsO1xuXHRcdFx0dGhpcy5wYWdlID0gbnVsbDtcblx0XHRcdHRoaXMub3B0aW9ucyA9IG51bGw7XG5cdFx0XHR0aGlzLl9kZWZhdWx0cyA9IG51bGw7XG5cdFx0XHR0aGlzLmRyYWdnYWJsZSA9IG51bGw7XG5cdFx0XHR0aGlzLnR3ZWVuID0gbnVsbDtcblx0XHRcdHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MgPSBudWxsO1xuXHRcdH1cblx0fTtcblxuXHRQbHVnaW4ucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy5jYW5TY3JvbGwoKSAmJiB0aGlzLm9wdGlvbnMuYnkgIT09IFwibm9uZVwiKSB7XG5cdFx0XHRpZiAodGhpcy50d2Vlbikge1xuXHRcdFx0XHRpZiAodGhpcy5pc0xvYWRpbmcpIHtcblx0XHRcdFx0XHR0aGlzLnR3ZWVuLnBsYXkoKTtcblx0XHRcdFx0XHR0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFR3ZWVuTGl0ZS50byh0aGlzLnBhZ2UsIDEsIHthdXRvQWxwaGE6IDF9KTtcblx0XHRcdFx0XHRUd2VlbkxpdGUuZGVsYXllZENhbGwodGhpcy5vcHRpb25zLnBhdXNlLCB0aGlzLmNhbGN1bGF0ZVByb2dyZXNzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRQbHVnaW4ucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMudHdlZW4pIHtcblx0XHRcdFR3ZWVuTGl0ZS5raWxsRGVsYXllZENhbGxzVG8odGhpcy5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHR0aGlzLnR3ZWVuLnBhdXNlKCk7XG5cdFx0fVxuXHR9O1xuXG5cdFBsdWdpbi5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh0aGlzLnR3ZWVuKSB7XG5cdFx0XHRUd2VlbkxpdGUua2lsbERlbGF5ZWRDYWxsc1RvKHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MpO1xuXHRcdFx0dGhpcy50d2Vlbi5raWxsKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5lbGVtZW50ID0gbnVsbDtcblx0XHR0aGlzLnBhZ2UgPSBudWxsO1xuXHR9O1xuXG5cdC8vIEEgbGlnaHR3ZWlnaHQgcGx1Z2luIHdyYXBwZXIgYXJvdW5kIHRoZSBjb25zdHJ1Y3RvciB0aGF0IHByZXZlbnRzXG5cdC8vIG11bHRpcGxlIGluc3RhbnRpYXRpb25zLlxuXHQkLmZuLmF1dG9TY3JvbGwgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSkpIHtcblx0XHRcdFx0JC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSwgbmV3IFBsdWdpbih0aGlzLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH07XG59KShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKiBleHBvcnRlZCBXSURHRVRfQ09NTU9OX0NPTkZJRyAqL1xudmFyIFdJREdFVF9DT01NT05fQ09ORklHID0ge1xuICBBVVRIX1BBVEhfVVJMOiBcInYxL3dpZGdldC9hdXRoXCIsXG4gIExPR0dFUl9DTElFTlRfSUQ6IFwiMTA4ODUyNzE0NzEwOS02cTFvMnZ0aWhuMzQyOTJwanQ0Y2tobWhjazByazBvNy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbVwiLFxuICBMT0dHRVJfQ0xJRU5UX1NFQ1JFVDogXCJubFp5cmNQTGc2b0V3TzlmOVdmbjI5V2hcIixcbiAgTE9HR0VSX1JFRlJFU0hfVE9LRU46IFwiMS94enQ0a3d6RTFIN1c5Vm5LQjhjQWFDeDZ6YjRFczRuS0VvcWFZSGRURDE1SWdPckpEdGR1bjZ6SzZYaUFUQ0tUXCIsXG4gIFNUT1JFX1VSTDogXCJodHRwczovL3N0b3JlLWRvdC1ydmFzZXJ2ZXIyLmFwcHNwb3QuY29tL1wiXG59O1xuLyogZ2xvYmFsIFdlYkZvbnQgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gZ2V0Rm9udENzc1N0eWxlKGNsYXNzTmFtZSwgZm9udE9iaikge1xuICAgIHZhciBmYW1pbHkgPSBcImZvbnQtZmFtaWx5OiBcIiArIGRlY29kZVVSSUNvbXBvbmVudChmb250T2JqLmZvbnQuZmFtaWx5KS5yZXBsYWNlKC8nL2csIFwiXCIpICsgXCI7IFwiO1xuICAgIHZhciBjb2xvciA9IFwiY29sb3I6IFwiICsgKGZvbnRPYmouY29sb3IgPyBmb250T2JqLmNvbG9yIDogZm9udE9iai5mb3JlY29sb3IpICsgXCI7IFwiO1xuICAgIHZhciBzaXplID0gXCJmb250LXNpemU6IFwiICsgKGZvbnRPYmouc2l6ZS5pbmRleE9mKFwicHhcIikgPT09IC0xID8gZm9udE9iai5zaXplICsgXCJweDsgXCIgOiBmb250T2JqLnNpemUgKyBcIjsgXCIpO1xuICAgIHZhciB3ZWlnaHQgPSBcImZvbnQtd2VpZ2h0OiBcIiArIChmb250T2JqLmJvbGQgPyBcImJvbGRcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciBpdGFsaWMgPSBcImZvbnQtc3R5bGU6IFwiICsgKGZvbnRPYmouaXRhbGljID8gXCJpdGFsaWNcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciB1bmRlcmxpbmUgPSBcInRleHQtZGVjb3JhdGlvbjogXCIgKyAoZm9udE9iai51bmRlcmxpbmUgPyBcInVuZGVybGluZVwiIDogXCJub25lXCIpICsgXCI7IFwiO1xuICAgIHZhciBoaWdobGlnaHQgPSBcImJhY2tncm91bmQtY29sb3I6IFwiICsgKGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgPyBmb250T2JqLmhpZ2hsaWdodENvbG9yIDogZm9udE9iai5iYWNrY29sb3IpICsgXCI7XCI7XG5cbiAgICByZXR1cm4gXCIuXCIgKyBjbGFzc05hbWUgKyBcIiB7XCIgKyBmYW1pbHkgKyBjb2xvciArIHNpemUgKyB3ZWlnaHQgKyBpdGFsaWMgKyB1bmRlcmxpbmUgKyBoaWdobGlnaHQgKyBcIn1cIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENTU1J1bGVzKHJ1bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJ1bGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShydWxlc1tpXSkpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgLypcbiAgICogTG9hZHMgR29vZ2xlIG9yIGN1c3RvbSBmb250cywgaWYgYXBwbGljYWJsZSwgYW5kIGluamVjdHMgQ1NTIHN0eWxlc1xuICAgKiBpbnRvIHRoZSBoZWFkIG9mIHRoZSBkb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtICAgIGFycmF5ICAgIHNldHRpbmdzICAgIEFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgZm9sbG93aW5nIGZvcm06XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJkYXRlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZvbnRTZXR0aW5nXCI6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcImJsYWNrXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJWZXJkYW5hXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdvb2dsZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHA6Ly9jdXN0b20tZm9udC11cmxcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGFsaWM6IGZhbHNlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwiMjBcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICpcbiAgICogICAgICAgICAgIG9iamVjdCAgIGNvbnRlbnREb2MgICAgRG9jdW1lbnQgb2JqZWN0IGludG8gd2hpY2ggdG8gaW5qZWN0IHN0eWxlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgbG9hZCBmb250cyAob3B0aW9uYWwpLlxuICAgKi9cbiAgZnVuY3Rpb24gbG9hZEZvbnRzKHNldHRpbmdzLCBjYikge1xuICAgIHZhciBmYW1pbGllcyA9IG51bGwsXG4gICAgICBnb29nbGVGYW1pbGllcyA9IFtdLFxuICAgICAgY3VzdG9tRmFtaWxpZXMgPSBbXSxcbiAgICAgIGN1c3RvbVVybHMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Hb29nbGVGb250c0xvYWRlZCgpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgaWYgKCFzZXR0aW5ncyB8fCBzZXR0aW5ncy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGN1c3RvbSBjc3MgY2xhc3MgbmFtZXMgYW5kIGFkZCBydWxlcyBpZiBzb1xuICAgIHNldHRpbmdzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uY2xhc3MgJiYgaXRlbS5mb250U3R5bGUpIHtcbiAgICAgICAgYWRkQ1NTUnVsZXMoWyBnZXRGb250Q3NzU3R5bGUoaXRlbS5jbGFzcywgaXRlbS5mb250U3R5bGUpIF0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gR29vZ2xlIGZvbnRzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNldHRpbmdzW2ldLmZvbnRTdHlsZSAmJiBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlICYmXG4gICAgICAgIChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlID09PSBcImdvb2dsZVwiKSkge1xuICAgICAgICAvLyBSZW1vdmUgZmFsbGJhY2sgZm9udC5cbiAgICAgICAgZmFtaWxpZXMgPSBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC5mYW1pbHkuc3BsaXQoXCIsXCIpWzBdO1xuXG4gICAgICAgIC8vIHN0cmlwIHBvc3NpYmxlIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgZmFtaWxpZXMgPSBmYW1pbGllcy5yZXBsYWNlKC8nL2csIFwiXCIpO1xuXG4gICAgICAgIGdvb2dsZUZhbWlsaWVzLnB1c2goZmFtaWxpZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEN1c3RvbSBmb250c1xuICAgIGZvciAoaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNldHRpbmdzW2ldLmZvbnRTdHlsZSAmJiBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlICYmXG4gICAgICAgIChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlID09PSBcImN1c3RvbVwiKSkge1xuICAgICAgICAvLyBkZWNvZGUgdmFsdWUgYW5kIHN0cmlwIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgY3VzdG9tRmFtaWxpZXMucHVzaChkZWNvZGVVUklDb21wb25lbnQoc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQuZmFtaWx5KS5yZXBsYWNlKC8nL2csIFwiXCIpKTtcbiAgICAgICAgLy8gc3RyaXAgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBjdXN0b21VcmxzLnB1c2goc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudXJsLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdvb2dsZUZhbWlsaWVzLmxlbmd0aCA9PT0gMCAmJiBjdXN0b21GYW1pbGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gTG9hZCB0aGUgZm9udHNcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3VzdG9tRmFtaWxpZXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgbG9hZEN1c3RvbUZvbnQoY3VzdG9tRmFtaWxpZXNbal0sIGN1c3RvbVVybHNbal0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ29vZ2xlRmFtaWxpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBsb2FkR29vZ2xlRm9udHMoZ29vZ2xlRmFtaWxpZXMsIG9uR29vZ2xlRm9udHNMb2FkZWQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEN1c3RvbUZvbnQoZmFtaWx5LCB1cmwsIGNvbnRlbnREb2MpIHtcbiAgICB2YXIgc2hlZXQgPSBudWxsO1xuICAgIHZhciBydWxlID0gXCJmb250LWZhbWlseTogXCIgKyBmYW1pbHkgKyBcIjsgXCIgKyBcInNyYzogdXJsKCdcIiArIHVybCArIFwiJyk7XCI7XG5cbiAgICBjb250ZW50RG9jID0gY29udGVudERvYyB8fCBkb2N1bWVudDtcblxuICAgIHNoZWV0ID0gY29udGVudERvYy5zdHlsZVNoZWV0c1swXTtcblxuICAgIGlmIChzaGVldCAhPT0gbnVsbCkge1xuICAgICAgc2hlZXQuYWRkUnVsZShcIkBmb250LWZhY2VcIiwgcnVsZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEdvb2dsZUZvbnRzKGZhbWlsaWVzLCBjYikge1xuICAgIFdlYkZvbnQubG9hZCh7XG4gICAgICBnb29nbGU6IHtcbiAgICAgICAgZmFtaWxpZXM6IGZhbWlsaWVzXG4gICAgICB9LFxuICAgICAgYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRpbWVvdXQ6IDIwMDBcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRTY3JpcHQoIHNyYyApIHtcbiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzY3JpcHRcIiApO1xuXG4gICAgc2NyaXB0LnNyYyA9IHNyYztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBzY3JpcHQgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZWxvYWRJbWFnZXModXJscykge1xuICAgIHZhciBsZW5ndGggPSB1cmxzLmxlbmd0aCxcbiAgICAgIGltYWdlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaW1hZ2VzW2ldID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZXNbaV0uc3JjID0gdXJsc1tpXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IFVSSSBxdWVyeSBwYXJhbVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbWV0ZXIocGFyYW0pIHtcbiAgICByZXR1cm4gZ2V0UXVlcnlTdHJpbmdQYXJhbWV0ZXIocGFyYW0sIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHF1ZXJ5IHBhcmFtZXRlciBmcm9tIGEgcXVlcnkgc3RyaW5nXG4gICAqL1xuICBmdW5jdGlvbiBnZXRRdWVyeVN0cmluZ1BhcmFtZXRlcihwYXJhbSwgcXVlcnkpIHtcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKSxcbiAgICAgIHBhaXI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcblxuICAgICAgaWYgKHBhaXJbMF0gPT0gcGFyYW0pIHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRhdGUgb2JqZWN0IGZyb20gcGxheWVyIHZlcnNpb24gc3RyaW5nXG4gICAqL1xuICBmdW5jdGlvbiBnZXREYXRlT2JqZWN0RnJvbVBsYXllclZlcnNpb25TdHJpbmcocGxheWVyVmVyc2lvbikge1xuICAgIHZhciByZWdnaWUgPSAvKFxcZHs0fSlcXC4oXFxkezJ9KVxcLihcXGR7Mn0pXFwuKFxcZHsyfSlcXC4oXFxkezJ9KS87XG4gICAgdmFyIGRhdGVBcnJheSA9IHJlZ2dpZS5leGVjKHBsYXllclZlcnNpb24pO1xuICAgIGlmIChkYXRlQXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShcbiAgICAgICAgKCtkYXRlQXJyYXlbMV0pLFxuICAgICAgICAgICgrZGF0ZUFycmF5WzJdKS0xLCAvLyBDYXJlZnVsLCBtb250aCBzdGFydHMgYXQgMCFcbiAgICAgICAgKCtkYXRlQXJyYXlbM10pLFxuICAgICAgICAoK2RhdGVBcnJheVs0XSksXG4gICAgICAgICgrZGF0ZUFycmF5WzVdKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKSB7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgc3dpdGNoIChzdGF0dXNDb2RlKSB7XG4gICAgICBjYXNlIDQwNDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGUgZmlsZSBkb2VzIG5vdCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1MDc6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgaXMgbm90IGVub3VnaCBkaXNrIHNwYWNlIHRvIHNhdmUgdGhlIGZpbGUgb24gUmlzZSBDYWNoZS5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIHdhcyBhIHByb2JsZW0gcmV0cmlldmluZyB0aGUgZmlsZSBmcm9tIFJpc2UgQ2FjaGUuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuZXNjYXBlSFRNTChodG1sKSB7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIHJldHVybiBkaXYudGV4dENvbnRlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNJbnRlcm5ldENvbm5lY3Rpb24oZmlsZVBhdGgsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKCFmaWxlUGF0aCB8fCAhY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIkhFQURcIiwgZmlsZVBhdGggKyBcIj9jYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgY2FsbGJhY2soKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDQpKTtcblxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgY2hyb21lIHZlcnNpb24gaXMgdW5kZXIgYSBjZXJ0YWluIHZlcnNpb25cbiAgICovXG4gIGZ1bmN0aW9uIGlzTGVnYWN5KCkge1xuICAgIHZhciBsZWdhY3lWZXJzaW9uID0gMjU7XG5cbiAgICB2YXIgbWF0Y2ggPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxTKykvKTtcbiAgICB2YXIgdmVyc2lvbiA9IG1hdGNoID8gbWF0Y2hbMV0gOiAwO1xuXG4gICAgaWYgKHZlcnNpb24pIHtcbiAgICAgIHZlcnNpb24gPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cmluZygwLHZlcnNpb24uaW5kZXhPZihcIi5cIikpKTtcblxuICAgICAgaWYgKHZlcnNpb24gPD0gbGVnYWN5VmVyc2lvbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBodHRwOi8vIG9yIGh0dHBzOi8vIHByb3RvY29sIHRvIHVybCBpZiB0aGUgcHJvdG9jb2wgaXMgbWlzc2luZ1xuICAgKi9cbiAgZnVuY3Rpb24gYWRkUHJvdG9jb2wodXJsLCBzZWN1cmUpIHtcbiAgICBpZiAoIS9eKD86ZnxodCl0cHM/XFw6XFwvXFwvLy50ZXN0KHVybCkpIHtcbiAgICAgIHVybCA9ICgoc2VjdXJlKSA/IFwiaHR0cHM6Ly9cIiA6IFwiaHR0cDovL1wiKSArIHVybDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYWRkUHJvdG9jb2w6ICAgICAgICAgICAgICBhZGRQcm90b2NvbCxcbiAgICBnZXRRdWVyeVBhcmFtZXRlcjogICAgICAgIGdldFF1ZXJ5UGFyYW1ldGVyLFxuICAgIGdldFF1ZXJ5U3RyaW5nUGFyYW1ldGVyOiAgZ2V0UXVlcnlTdHJpbmdQYXJhbWV0ZXIsXG4gICAgZ2V0Rm9udENzc1N0eWxlOiAgICAgICAgICBnZXRGb250Q3NzU3R5bGUsXG4gICAgYWRkQ1NTUnVsZXM6ICAgICAgICAgICAgICBhZGRDU1NSdWxlcyxcbiAgICBsb2FkRm9udHM6ICAgICAgICAgICAgICAgIGxvYWRGb250cyxcbiAgICBsb2FkQ3VzdG9tRm9udDogICAgICAgICAgIGxvYWRDdXN0b21Gb250LFxuICAgIGxvYWRHb29nbGVGb250czogICAgICAgICAgbG9hZEdvb2dsZUZvbnRzLFxuICAgIGxvYWRTY3JpcHQ6ICAgICAgICAgICAgICAgbG9hZFNjcmlwdCxcbiAgICBwcmVsb2FkSW1hZ2VzOiAgICAgICAgICAgIHByZWxvYWRJbWFnZXMsXG4gICAgZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlOiBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2UsXG4gICAgdW5lc2NhcGVIVE1MOiAgICAgICAgICAgICB1bmVzY2FwZUhUTUwsXG4gICAgaGFzSW50ZXJuZXRDb25uZWN0aW9uOiAgICBoYXNJbnRlcm5ldENvbm5lY3Rpb24sXG4gICAgaXNMZWdhY3k6ICAgICAgICAgICAgICAgICBpc0xlZ2FjeSxcbiAgICBnZXREYXRlT2JqZWN0RnJvbVBsYXllclZlcnNpb25TdHJpbmc6IGdldERhdGVPYmplY3RGcm9tUGxheWVyVmVyc2lvblN0cmluZ1xuICB9O1xufSkoKTtcblxuLyogZ2xvYmFsIFdJREdFVF9DT01NT05fQ09ORklHICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzID0gKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAgdmFyIGRpc3BsYXlJZCA9IFwiXCIsXG4gICAgIGNvbXBhbnlJZCA9IFwiXCIsXG4gICAgIHZlcnNpb24gPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG5cbiAgLyogUmV0cmlldmUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSBldmVudCBsb2dnZXIuICovXG4gIGZ1bmN0aW9uIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgY2IpIHtcbiAgICB2YXIganNvbiA9IG51bGw7XG5cbiAgICAvLyBldmVudCBpcyByZXF1aXJlZC5cbiAgICBpZiAocGFyYW1zLmV2ZW50KSB7XG4gICAgICBqc29uID0gcGFyYW1zO1xuXG4gICAgICBpZiAoanNvbi5maWxlX3VybCkge1xuICAgICAgICBqc29uLmZpbGVfZm9ybWF0ID0gZ2V0RmlsZUZvcm1hdChqc29uLmZpbGVfdXJsKTtcbiAgICAgIH1cblxuICAgICAganNvbi5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgICAganNvbi5kaXNwbGF5X2lkID0gZGlzcGxheUlkO1xuXG4gICAgICBpZiAodmVyc2lvbikge1xuICAgICAgICBqc29uLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgfVxuXG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgc3VmZml4IGZvciBCUSB0YWJsZSBuYW1lLlxuICBmdW5jdGlvbiBnZXRTdWZmaXgoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpICsgMSxcbiAgICAgIGRheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICAgIG1vbnRoID0gXCIwXCIgKyBtb250aDtcbiAgICB9XG5cbiAgICBpZiAoZGF5IDwgMTApIHtcbiAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xuICAgIH1cblxuICAgIHJldHVybiBcIlwiICsgeWVhciArIG1vbnRoICsgZGF5O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRGaWxlRm9ybWF0KHVybCkge1xuICAgIHZhciBoYXNQYXJhbXMgPSAvWz8jJl0vLFxuICAgICAgc3RyO1xuXG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RyID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG5cbiAgICAvLyBkb24ndCBpbmNsdWRlIGFueSBwYXJhbXMgYWZ0ZXIgdGhlIGZpbGVuYW1lXG4gICAgaWYgKGhhc1BhcmFtcy50ZXN0KHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCAsKHN0ci5pbmRleE9mKFwiP1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCI/XCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiI1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCIjXCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiJlwiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCImXCIpIDogc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5zZXJ0RGF0YShwYXJhbXMpIHtcbiAgICB2YXIgQkFTRV9JTlNFUlRfU0NIRU1BID0ge1xuICAgICAgXCJraW5kXCI6IFwiYmlncXVlcnkjdGFibGVEYXRhSW5zZXJ0QWxsUmVxdWVzdFwiLFxuICAgICAgXCJza2lwSW52YWxpZFJvd3NcIjogZmFsc2UsXG4gICAgICBcImlnbm9yZVVua25vd25WYWx1ZXNcIjogZmFsc2UsXG4gICAgICBcInRlbXBsYXRlU3VmZml4XCI6IGdldFN1ZmZpeCgpLFxuICAgICAgXCJyb3dzXCI6IFt7XG4gICAgICAgIFwiaW5zZXJ0SWRcIjogXCJcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEJBU0VfSU5TRVJUX1NDSEVNQSkpO1xuXG4gICAgZGF0YS5yb3dzWzBdLmluc2VydElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpLnRvVXBwZXJDYXNlKCk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgIGRhdGEucm93c1swXS5qc29uLnRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudCh0YWJsZSwgcGFyYW1zKSB7XG4gICAgZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBmdW5jdGlvbihqc29uKSB7XG4gICAgICBpZiAoanNvbiAhPT0gbnVsbCkge1xuICAgICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIubG9nKHRhYmxlLCBqc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qIFNldCB0aGUgQ29tcGFueSBhbmQgRGlzcGxheSBJRHMuICovXG4gIGZ1bmN0aW9uIHNldElkcyhjb21wYW55LCBkaXNwbGF5KSB7XG4gICAgY29tcGFueUlkID0gY29tcGFueTtcbiAgICBkaXNwbGF5SWQgPSBkaXNwbGF5O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VmVyc2lvbih2YWx1ZSkge1xuICAgIHZlcnNpb24gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRJbnNlcnREYXRhXCI6IGdldEluc2VydERhdGEsXG4gICAgXCJnZXRGaWxlRm9ybWF0XCI6IGdldEZpbGVGb3JtYXQsXG4gICAgXCJsb2dFdmVudFwiOiBsb2dFdmVudCxcbiAgICBcInNldElkc1wiOiBzZXRJZHMsXG4gICAgXCJzZXRWZXJzaW9uXCI6IHNldFZlcnNpb25cbiAgfTtcbn0pKCk7XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlciA9IChmdW5jdGlvbih1dGlscykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgUkVGUkVTSF9VUkwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92My90b2tlbj9jbGllbnRfaWQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX0lEICtcbiAgICAgIFwiJmNsaWVudF9zZWNyZXQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX1NFQ1JFVCArXG4gICAgICBcIiZyZWZyZXNoX3Rva2VuPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX1JFRlJFU0hfVE9LRU4gK1xuICAgICAgXCImZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuXCI7XG5cbiAgdmFyIHNlcnZpY2VVcmwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2JpZ3F1ZXJ5L3YyL3Byb2plY3RzL2NsaWVudC1zaWRlLWV2ZW50cy9kYXRhc2V0cy9XaWRnZXRfRXZlbnRzL3RhYmxlcy9UQUJMRV9JRC9pbnNlcnRBbGxcIixcbiAgICB0aHJvdHRsZSA9IGZhbHNlLFxuICAgIHRocm90dGxlRGVsYXkgPSAxMDAwLFxuICAgIGxhc3RFdmVudCA9IFwiXCIsXG4gICAgcmVmcmVzaERhdGUgPSAwLFxuICAgIHRva2VuID0gXCJcIjtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiByZWZyZXNoVG9rZW4oY2IpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAobmV3IERhdGUoKSAtIHJlZnJlc2hEYXRlIDwgMzU4MDAwMCkge1xuICAgICAgcmV0dXJuIGNiKHt9KTtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIlBPU1RcIiwgUkVGUkVTSF9VUkwsIHRydWUpO1xuICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZXNwID0ge307XG4gICAgICB0cnkge1xuICAgICAgICByZXNwID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2UpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkNhbid0IHJlZnJlc2ggbG9nZ2VyIHRva2VuIC0gXCIsIGUubWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBjYih7IHRva2VuOiByZXNwLmFjY2Vzc190b2tlbiwgcmVmcmVzaGVkQXQ6IG5ldyBEYXRlKCkgfSk7XG4gICAgfTtcblxuICAgIHhoci5zZW5kKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1Rocm90dGxlZChldmVudCkge1xuICAgIHJldHVybiB0aHJvdHRsZSAmJiAobGFzdEV2ZW50ID09PSBldmVudCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGxvZyh0YWJsZU5hbWUsIHBhcmFtcykge1xuICAgIGlmICghdGFibGVOYW1lIHx8ICFwYXJhbXMgfHwgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmICFwYXJhbXMuZXZlbnQpIHx8XG4gICAgICAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgaXNUaHJvdHRsZWQocGFyYW1zLmV2ZW50KSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aHJvdHRsZSA9IHRydWU7XG4gICAgbGFzdEV2ZW50ID0gcGFyYW1zLmV2ZW50O1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdHRsZSA9IGZhbHNlO1xuICAgIH0sIHRocm90dGxlRGVsYXkpO1xuXG4gICAgZnVuY3Rpb24gaW5zZXJ0V2l0aFRva2VuKHJlZnJlc2hEYXRhKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIGluc2VydERhdGEsIHVybDtcblxuICAgICAgdXJsID0gc2VydmljZVVybC5yZXBsYWNlKFwiVEFCTEVfSURcIiwgdGFibGVOYW1lKTtcbiAgICAgIHJlZnJlc2hEYXRlID0gcmVmcmVzaERhdGEucmVmcmVzaGVkQXQgfHwgcmVmcmVzaERhdGU7XG4gICAgICB0b2tlbiA9IHJlZnJlc2hEYXRhLnRva2VuIHx8IHRva2VuO1xuICAgICAgaW5zZXJ0RGF0YSA9IHV0aWxzLmdldEluc2VydERhdGEocGFyYW1zKTtcblxuICAgICAgLy8gSW5zZXJ0IHRoZSBkYXRhLlxuICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyB0b2tlbik7XG5cbiAgICAgIGlmIChwYXJhbXMuY2IgJiYgdHlwZW9mIHBhcmFtcy5jYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwYXJhbXMuY2IoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoaW5zZXJ0RGF0YSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZWZyZXNoVG9rZW4oaW5zZXJ0V2l0aFRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJsb2dcIjogbG9nXG4gIH07XG59KShSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyk7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFtcIl9zZXRBY2NvdW50XCIsIFwiVUEtNTcwOTIxNTktMTNcIl0pO1xuX2dhcS5wdXNoKFtcIl90cmFja1BhZ2V2aWV3XCJdKTtcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpOyBnYS50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjsgZ2EuYXN5bmMgPSB0cnVlO1xuICBnYS5zcmMgPSAoXCJodHRwczpcIiA9PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/IFwiaHR0cHM6Ly9zc2xcIiA6IFwiaHR0cDovL3d3d1wiKSArIFwiLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzXCI7XG4gIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbi8qIGdsb2JhbCBnYWRnZXRzOmZhbHNlLCBXZWJGb250OmZhbHNlICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVGV4dCA9IHt9O1xuXG5SaXNlVmlzaW9uLlRleHQgPSAoZnVuY3Rpb24oZ2FkZ2V0cywgV2ViRm9udCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2FkZGl0aW9uYWxQYXJhbXMgPSBudWxsLFxuICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgX3V0aWxzID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9sb2FkR29vZ2xlRm9udHMoZm9udHMsIGNiKSB7XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIil7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZm9udHMpICYmIGZvbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIFdlYkZvbnQubG9hZCh7XG4gICAgICAgIGdvb2dsZToge1xuICAgICAgICAgIGZhbWlsaWVzOiBmb250c1xuICAgICAgICB9LFxuICAgICAgICB0aW1lb3V0OiAyMDAwLFxuICAgICAgICBhY3RpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGluYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBnb29nbGUgZm9udHMgd2VyZSBsb2FkZWRcIik7XG4gICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9udGluYWN0aXZlOiBmdW5jdGlvbihmYW1pbHlOYW1lKSB7XG4gICAgICAgICAgX2xvZ0V2ZW50KHtcbiAgICAgICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiR29vZ2xlIGZvbnQgbm90IGxvYWRlZFwiLFxuICAgICAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IGZhbWlseU5hbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29tcGxldGUoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFnZVwiKS5pbm5lckhUTUwgPSBfYWRkaXRpb25hbFBhcmFtcy5kYXRhO1xuXG4gICAgX2xvYWRHb29nbGVGb250cyhfYWRkaXRpb25hbFBhcmFtcy5nb29nbGVGb250cywgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbG9hZCBjdXN0b20gZm9udHNcbiAgICAgICQuZWFjaChfYWRkaXRpb25hbFBhcmFtcy5jdXN0b21Gb250cy5mb250cywgZnVuY3Rpb24gKGluZGV4LCBmb250KSB7XG4gICAgICAgIF91dGlscy5sb2FkQ3VzdG9tRm9udChmb250LmZhbWlseS5yZXBsYWNlKC8nL2csIFwiXCIpLCBmb250LnVybC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikpO1xuICAgICAgfSk7XG5cbiAgICAgICQoXCIjY29udGFpbmVyXCIpLmF1dG9TY3JvbGwoX2FkZGl0aW9uYWxQYXJhbXMuc2Nyb2xsKS5vbihcImRvbmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIF9kb25lKCk7XG4gICAgICB9KTtcblxuICAgICAgX3JlYWR5KCk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRUYWJsZU5hbWUoKSB7XG4gICAgcmV0dXJuIFwidGV4dF9ldmVudHNcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9sb2dFdmVudChwYXJhbXMpIHtcbiAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscy5sb2dFdmVudChfZ2V0VGFibGVOYW1lKCksIHBhcmFtcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfcmVhZHkoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfcmVhZHlcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpLCB0cnVlLFxuICAgICAgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfZG9uZSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9kb25lXCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSk7XG4gICAgX2xvZ0V2ZW50KHsgXCJldmVudFwiOiBcImRvbmVcIiB9KTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gc2V0QWRkaXRpb25hbFBhcmFtcyhhZGRpdGlvbmFsUGFyYW1zKSB7XG4gICAgX2FkZGl0aW9uYWxQYXJhbXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFkZGl0aW9uYWxQYXJhbXMpKTtcblxuICAgIF9hZGRpdGlvbmFsUGFyYW1zLndpZHRoID0gX3ByZWZzLmdldEludChcInJzV1wiKTtcbiAgICBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUud2lkdGggPSBfYWRkaXRpb25hbFBhcmFtcy53aWR0aCArIFwicHhcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS5oZWlnaHQgPSBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQgKyBcInB4XCI7XG5cbiAgICBfaW5pdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBpZiAoJChcIiNjb250YWluZXJcIikuZGF0YShcInBsdWdpbl9hdXRvU2Nyb2xsXCIpKSB7XG4gICAgICAkKFwiI2NvbnRhaW5lclwiKS5kYXRhKFwicGx1Z2luX2F1dG9TY3JvbGxcIikucGxheSgpO1xuICAgIH1cblxuICAgIF9sb2dFdmVudCh7IFwiZXZlbnRcIjogXCJwbGF5XCJ9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIGlmICgkKFwiI2NvbnRhaW5lclwiKS5kYXRhKFwicGx1Z2luX2F1dG9TY3JvbGxcIikpIHtcbiAgICAgICQoXCIjY29udGFpbmVyXCIpLmRhdGEoXCJwbHVnaW5fYXV0b1Njcm9sbFwiKS5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInNldEFkZGl0aW9uYWxQYXJhbXNcIjogc2V0QWRkaXRpb25hbFBhcmFtcyxcbiAgICBcInN0b3BcIjogc3RvcFxuICB9O1xufSkoZ2FkZ2V0cywgV2ViRm9udCk7XG5cbi8qIGdsb2JhbCBSaXNlVmlzaW9uLCBnYWRnZXRzICovXG5cbihmdW5jdGlvbiAod2luZG93LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBwcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgaWQgPSBwcmVmcy5nZXRTdHJpbmcoXCJpZFwiKTtcblxuICB3aW5kb3cub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZG9jdW1lbnQuYm9keS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBjb25maWd1cmUobmFtZXMsIHZhbHVlcykge1xuICAgIHZhciBhZGRpdGlvbmFsUGFyYW1zLFxuICAgICAgY29tcGFueUlkID0gXCJcIixcbiAgICAgIGRpc3BsYXlJZCA9IFwiXCI7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lcykgJiYgbmFtZXMubGVuZ3RoID4gMCAmJiBBcnJheS5pc0FycmF5KHZhbHVlcykgJiYgdmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChuYW1lc1swXSA9PT0gXCJjb21wYW55SWRcIikge1xuICAgICAgICBjb21wYW55SWQgPSB2YWx1ZXNbMF07XG4gICAgICB9XG5cbiAgICAgIGlmIChuYW1lc1sxXSA9PT0gXCJkaXNwbGF5SWRcIikge1xuICAgICAgICBpZiAodmFsdWVzWzFdKSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gdmFsdWVzWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IFwicHJldmlld1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldElkcyhjb21wYW55SWQsIGRpc3BsYXlJZCk7XG5cbiAgICAgIGlmIChuYW1lc1syXSA9PT0gXCJhZGRpdGlvbmFsUGFyYW1zXCIpIHtcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UodmFsdWVzWzJdKTtcblxuICAgICAgICBSaXNlVmlzaW9uLlRleHQuc2V0QWRkaXRpb25hbFBhcmFtcyhhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaWQgJiYgaWQgIT09IFwiXCIpIHtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9zdG9wX1wiICsgaWQsIHN0b3ApO1xuXG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBjb25maWd1cmUpO1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiY29tcGFueUlkXCIsIFwiZGlzcGxheUlkXCIsIFwiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIFJpc2VWaXNpb24uVGV4dC5wbGF5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBSaXNlVmlzaW9uLlRleHQucGF1c2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgUmlzZVZpc2lvbi5UZXh0LnN0b3AoKTtcbiAgfVxufSkod2luZG93LCBnYWRnZXRzKTtcbiJdfQ==
