!function(e,t,n,o){"use strict";function i(t,n){this.element=t,this.page=e(t).find(".page"),this.options=e.extend({},a,n),this._defaults=a,this._name=s,this.isLoading=!0,this.draggable=null,this.tween=null,this.calculateProgress=null,this.init()}var s="autoScroll",a={by:"continuous",speed:"medium",pause:5,click:!1,minimumMovement:3};i.prototype={init:function(){function t(){s.tween.pause(),TweenLite.killDelayedCallsTo(s.calculateProgress),TweenLite.killDelayedCallsTo(a),TweenLite.killDelayedCallsTo(l)}var n,i,s=this,a=null,l=null,r=e(this.element).outerHeight(!0),u=r,c=this.element.scrollHeight-this.element.offsetHeight;this.calculateProgress=function(){u=e(s.element).scrollTop()+r,s.tween.progress(e(s.element).scrollTop()/c).play()},this.canScroll()?("page"===this.options.by?(n="fastest"===this.options.speed?.4:"fast"===this.options.speed?.8:"medium"===this.options.speed?1.2:"slow"===this.options.speed?1.6:2,i=this.page.outerHeight(!0)/e(this.element).outerHeight(!0)*n):(n="fastest"===this.options.speed?60:"fast"===this.options.speed?50:"medium"===this.options.speed?40:"slow"===this.options.speed?30:20,i=Math.abs((this.page.outerHeight(!0)-e(this.element).outerHeight(!0))/n)),Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.75,minimumMovement:s.options.minimumMovement,onPress:function(){t()},onRelease:function(){"none"!==s.options.by&&TweenLite.delayedCall(s.options.pause,s.calculateProgress)},onClick:function(){s.options.click&&(t(),e(s.element).trigger("scrollClick",[this.pointerEvent]))}}),this.draggable=Draggable.get(this.element),this.tween=TweenLite.to(this.draggable.scrollProxy,i,{scrollTop:c,ease:Linear.easeNone,delay:this.options.pause,paused:!0,onUpdate:"page"===this.options.by?function(){Math.abs(s.draggable.scrollProxy.top())>=u&&(s.tween.pause(),u+=r,TweenLite.delayedCall(s.options.pause,l=function(){s.tween.resume()}))}:o,onComplete:function(){TweenLite.delayedCall(s.options.pause,a=function(){TweenLite.to(s.page,1,{autoAlpha:0,onComplete:function(){s.tween.seek(0).pause(),"page"===s.options.by&&(u=r),e(s.element).trigger("done")}})})}}),TweenLite.set(this.element,{overflowY:"hidden"})):this.options.click&&(Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.95,minimumMovement:this.options.minimumMovement,onClick:function(){e(s.element).trigger("scrollClick",[this.pointerEvent])}}),this.draggable=Draggable.get(this.element))},canScroll:function(){return this.options&&this.page.height()>e(this.element).height()},destroy:function(){e(this.element).removeData(),this.tween&&this.tween.kill(),this.draggable&&this.draggable.kill(),this.element=null,this.page=null,this.options=null,this._defaults=null,this.draggable=null,this.tween=null,this.calculateProgress=null}},i.prototype.play=function(){this.canScroll()&&"none"!==this.options.by&&this.tween&&(this.isLoading?(this.tween.play(),this.isLoading=!1):(TweenLite.to(this.page,1,{autoAlpha:1}),TweenLite.delayedCall(this.options.pause,this.calculateProgress)))},i.prototype.pause=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.pause())},i.prototype.stop=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.kill()),this.element=null,this.page=null},e.fn.autoScroll=function(t){return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new i(this,t))})}}(jQuery,window,document);var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORAGE_ENV:"prod",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,t){var n="font-family:"+t.font.family+"; ",o="color: "+(t.color?t.color:t.forecolor)+"; ",i="font-size: "+(-1===t.size.indexOf("px")?t.size+"px; ":t.size+"; "),s="font-weight: "+(t.bold?"bold":"normal")+"; ",a="font-style: "+(t.italic?"italic":"normal")+"; ",l="text-decoration: "+(t.underline?"underline":"none")+"; ",r="background-color: "+(t.highlightColor?t.highlightColor:t.backcolor)+"; ";return"."+e+" {"+n+o+i+s+a+l+r+"}"}function t(e){for(var t=document.createElement("style"),n=0,o=e.length;o>n;n++)t.appendChild(document.createTextNode(e[n]));document.head.appendChild(t)}function n(n,s){n.forEach(function(n){n.class&&n.fontSetting&&t([e(n.class,n.fontSetting)]),n.fontSetting.font.type&&("custom"===n.fontSetting.font.type&&n.fontSetting.font.family&&n.fontSetting.font.url?o(n.fontSetting.font.family,n.fontSetting.font.url,s):"google"===n.fontSetting.font.type&&n.fontSetting.font.family&&i(n.fontSetting.font.family,s))})}function o(e,t,n){var o=null,i="font-family: "+e+"; src: url('"+t+"');";n=n||document,o=n.styleSheets[0],null!==o&&o.addRule("@font-face",i)}function i(e,t){var n=document.createElement("link");t=t||document,n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","https://fonts.googleapis.com/css?family="+e.split(",")[0]),null!==n&&t.getElementsByTagName("head")[0].appendChild(n)}function s(e){for(var t=e.length,n=[],o=0;t>o;o++)n[o]=new Image,n[o].src=e[o]}function a(e){for(var t,n=window.location.search.substring(1),o=n.split("&"),i=0;i<o.length;i++)if(t=o[i].split("="),t[0]==e)return decodeURIComponent(t[1]);return""}return{getQueryParameter:a,getFontCssStyle:e,addCSSRules:t,loadFonts:n,loadCustomFont:o,loadGoogleFont:i,preloadImages:s}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,t){var o=null;e.event?(o=e,o.file_url&&(o.file_format=n(o.file_url)),o.company_id=l,o.display_id=a,t(o)):t(o)}function t(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()+1,o=e.getUTCDate();return 10>n&&(n="0"+n),10>o&&(o="0"+o),t+n+o}function n(e){var t,n=/[?#&]/;return e&&"string"==typeof e?(t=e.substr(e.lastIndexOf(".")+1),n.test(t)&&(t=t.substr(0,-1!==t.indexOf("?")?t.indexOf("?"):t.length),t=t.substr(0,-1!==t.indexOf("#")?t.indexOf("#"):t.length),t=t.substr(0,-1!==t.indexOf("&")?t.indexOf("&"):t.length)),t.toLowerCase()):null}function o(e){var n={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:t(),rows:[{insertId:""}]},o=JSON.parse(JSON.stringify(n));return o.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),o.rows[0].json=JSON.parse(JSON.stringify(e)),o.rows[0].json.ts=(new Date).toISOString(),o}function i(t,n){e(n,function(e){null!==e&&RiseVision.Common.Logger.log(t,e)})}function s(e,t){l=e,a=t}var a="",l="";return{getInsertData:o,getFileFormat:n,logEvent:i,setIds:s}}(),RiseVision.Common.Logger=function(e){"use strict";function t(e){var t=new XMLHttpRequest;return new Date-u<358e4?e({}):(t.open("POST",i,!0),t.onloadend=function(){var n=JSON.parse(t.response);e({token:n.access_token,refreshedAt:new Date})},t.send(),void 0)}function n(e){return a&&r===e}function o(o,i){function p(t){var n,a,l=new XMLHttpRequest;a=s.replace("TABLE_ID",o),u=t.refreshedAt||u,c=t.token||c,n=e.getInsertData(i),l.open("POST",a,!0),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization","Bearer "+c),i.cb&&"function"==typeof i.cb&&(l.onloadend=function(){i.cb(l.response)}),l.send(JSON.stringify(n))}if(!(!o||!i||i.hasOwnProperty("event")&&!i.event||i.hasOwnProperty("event")&&n(i.event)))return a=!0,r=i.event,setTimeout(function(){a=!1},l),t(p)}var i="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",s="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",a=!1,l=1e3,r="",u=0,c="";return{log:o}}(RiseVision.Common.LoggerUtils);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-13"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();var RiseVision=RiseVision||{};RiseVision.Text={},RiseVision.Text=function(e){"use strict";function t(){var e=0,t=[],n=[];document.querySelector(".page").innerHTML=g.data,$.each($("<div/>").html(g.data).find("span").addBack(),function(){for(n=o(this),e=0;e<n.length;e++)t.push(n[e])}),h.addCSSRules(t),$("#container").autoScroll(g.scroll).on("done",function(){l()}),a()}function n(e){return".wysiwyg-font-family-"+e.replace(/ /g,"-").toLowerCase()+" { font-family: '"+e+"'; }"}function o(e){var t=[],o=$(e).attr("data-google-font"),i=$(e).attr("data-custom-font");return o&&(h.loadGoogleFont(o),t.push(n(o))),i&&(h.loadCustomFont(i,$(e).attr("data-custom-font-url")),t.push(n(i))),t}function i(){return"text_events"}function s(e){RiseVision.Common.LoggerUtils.logEvent(i(),e)}function a(){e.rpc.call("","rsevent_ready",null,d.getString("id"),!0,!0,!0,!0,!0)}function l(){e.rpc.call("","rsevent_done",null,d.getString("id")),s({event:"done"})}function r(e){g=JSON.parse(JSON.stringify(e)),g.width=d.getInt("rsW"),g.height=d.getInt("rsH"),document.getElementById("container").style.width=g.width+"px",document.getElementById("container").style.height=g.height+"px",t()}function u(){$("#container").data("plugin_autoScroll")&&$("#container").data("plugin_autoScroll").play(),s({event:"play"})}function c(){$("#container").data("plugin_autoScroll")&&$("#container").data("plugin_autoScroll").pause()}function p(){c()}var g=null,d=new e.Prefs,h=RiseVision.Common.Utilities;return{pause:c,play:u,setAdditionalParams:r,stop:p}}(gadgets),function(e,t){"use strict";function n(e,t){var n,o="",i="";Array.isArray(e)&&e.length>0&&Array.isArray(t)&&t.length>0&&("companyId"===e[0]&&(o=t[0]),"displayId"===e[1]&&(i=t[1]?t[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(o,i),"additionalParams"===e[2]&&(n=JSON.parse(t[2]),RiseVision.Text.setAdditionalParams(n)))}function o(){RiseVision.Text.play()}function i(){RiseVision.Text.pause()}function s(){RiseVision.Text.stop()}var a=new t.Prefs,l=a.getString("id");e.oncontextmenu=function(){return!1},document.body.onmousedown=function(){return!1},l&&""!==l&&(t.rpc.register("rscmd_play_"+l,o),t.rpc.register("rscmd_pause_"+l,i),t.rpc.register("rscmd_stop_"+l,s),t.rpc.register("rsparam_set_"+l,n),t.rpc.call("","rsparam_get",null,l,["companyId","displayId","additionalParams"]))}(window,gadgets);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiUGx1Z2luIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJ0aGlzIiwicGFnZSIsImZpbmQiLCJleHRlbmQiLCJkZWZhdWx0cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwicGx1Z2luTmFtZSIsImlzTG9hZGluZyIsImRyYWdnYWJsZSIsInR3ZWVuIiwiY2FsY3VsYXRlUHJvZ3Jlc3MiLCJpbml0IiwiYnkiLCJzcGVlZCIsInBhdXNlIiwiY2xpY2siLCJtaW5pbXVtTW92ZW1lbnQiLCJwcm90b3R5cGUiLCJwYXVzZVR3ZWVuIiwic2VsZiIsIlR3ZWVuTGl0ZSIsImtpbGxEZWxheWVkQ2FsbHNUbyIsInNjcm9sbENvbXBsZXRlIiwicGFnZUNvbXBsZXRlIiwiZHVyYXRpb24iLCJlbGVtZW50SGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJwYXVzZUhlaWdodCIsIm1heCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsInNjcm9sbFRvcCIsInByb2dyZXNzIiwicGxheSIsImNhblNjcm9sbCIsIk1hdGgiLCJhYnMiLCJEcmFnZ2FibGUiLCJjcmVhdGUiLCJ0eXBlIiwidGhyb3dQcm9wcyIsImVkZ2VSZXNpc3RhbmNlIiwib25QcmVzcyIsIm9uUmVsZWFzZSIsImRlbGF5ZWRDYWxsIiwib25DbGljayIsInRyaWdnZXIiLCJwb2ludGVyRXZlbnQiLCJnZXQiLCJ0byIsInNjcm9sbFByb3h5IiwiZWFzZSIsIkxpbmVhciIsImVhc2VOb25lIiwiZGVsYXkiLCJwYXVzZWQiLCJvblVwZGF0ZSIsInRvcCIsInJlc3VtZSIsIm9uQ29tcGxldGUiLCJhdXRvQWxwaGEiLCJzZWVrIiwic2V0Iiwib3ZlcmZsb3dZIiwiaGVpZ2h0IiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJraWxsIiwic3RvcCIsImZuIiwiYXV0b1Njcm9sbCIsImVhY2giLCJkYXRhIiwialF1ZXJ5IiwiV0lER0VUX0NPTU1PTl9DT05GSUciLCJBVVRIX1BBVEhfVVJMIiwiTE9HR0VSX0NMSUVOVF9JRCIsIkxPR0dFUl9DTElFTlRfU0VDUkVUIiwiTE9HR0VSX1JFRlJFU0hfVE9LRU4iLCJTVE9SQUdFX0VOViIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJVdGlsaXRpZXMiLCJnZXRGb250Q3NzU3R5bGUiLCJjbGFzc05hbWUiLCJmb250T2JqIiwiZmFtaWx5IiwiZm9udCIsImNvbG9yIiwiZm9yZWNvbG9yIiwic2l6ZSIsImluZGV4T2YiLCJ3ZWlnaHQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaGlnaGxpZ2h0IiwiaGlnaGxpZ2h0Q29sb3IiLCJiYWNrY29sb3IiLCJhZGRDU1NSdWxlcyIsInJ1bGVzIiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiaSIsImxlbmd0aCIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJoZWFkIiwibG9hZEZvbnRzIiwic2V0dGluZ3MiLCJjb250ZW50RG9jIiwiZm9yRWFjaCIsIml0ZW0iLCJjbGFzcyIsImZvbnRTZXR0aW5nIiwidXJsIiwibG9hZEN1c3RvbUZvbnQiLCJsb2FkR29vZ2xlRm9udCIsInNoZWV0IiwicnVsZSIsInN0eWxlU2hlZXRzIiwiYWRkUnVsZSIsInN0eWxlc2hlZXQiLCJzZXRBdHRyaWJ1dGUiLCJzcGxpdCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicHJlbG9hZEltYWdlcyIsInVybHMiLCJpbWFnZXMiLCJJbWFnZSIsInNyYyIsImdldFF1ZXJ5UGFyYW1ldGVyIiwicGFyYW0iLCJwYWlyIiwicXVlcnkiLCJsb2NhdGlvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsInZhcnMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwiY2IiLCJqc29uIiwiZXZlbnQiLCJmaWxlX3VybCIsImZpbGVfZm9ybWF0IiwiZ2V0RmlsZUZvcm1hdCIsImNvbXBhbnlfaWQiLCJjb21wYW55SWQiLCJkaXNwbGF5X2lkIiwiZGlzcGxheUlkIiwiZ2V0U3VmZml4IiwiZGF0ZSIsIkRhdGUiLCJ5ZWFyIiwiZ2V0VVRDRnVsbFllYXIiLCJtb250aCIsImdldFVUQ01vbnRoIiwiZGF5IiwiZ2V0VVRDRGF0ZSIsInN0ciIsImhhc1BhcmFtcyIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwidGVzdCIsInRvTG93ZXJDYXNlIiwiZ2V0SW5zZXJ0RGF0YSIsIkJBU0VfSU5TRVJUX1NDSEVNQSIsImtpbmQiLCJza2lwSW52YWxpZFJvd3MiLCJpZ25vcmVVbmtub3duVmFsdWVzIiwidGVtcGxhdGVTdWZmaXgiLCJyb3dzIiwiaW5zZXJ0SWQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJyYW5kb20iLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwidHMiLCJ0b0lTT1N0cmluZyIsImxvZ0V2ZW50IiwidGFibGUiLCJMb2dnZXIiLCJsb2ciLCJzZXRJZHMiLCJjb21wYW55IiwiZGlzcGxheSIsInV0aWxzIiwicmVmcmVzaFRva2VuIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWZyZXNoRGF0ZSIsIm9wZW4iLCJSRUZSRVNIX1VSTCIsIm9ubG9hZGVuZCIsInJlc3AiLCJyZXNwb25zZSIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaGVkQXQiLCJzZW5kIiwiaXNUaHJvdHRsZWQiLCJ0aHJvdHRsZSIsImxhc3RFdmVudCIsInRhYmxlTmFtZSIsImluc2VydFdpdGhUb2tlbiIsInJlZnJlc2hEYXRhIiwiaW5zZXJ0RGF0YSIsInNlcnZpY2VVcmwiLCJyZXBsYWNlIiwic2V0UmVxdWVzdEhlYWRlciIsImhhc093blByb3BlcnR5Iiwic2V0VGltZW91dCIsInRocm90dGxlRGVsYXkiLCJfZ2FxIiwicHVzaCIsImdhIiwiYXN5bmMiLCJwcm90b2NvbCIsInMiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiVGV4dCIsImdhZGdldHMiLCJfaW5pdCIsImZvbnRSdWxlcyIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJfYWRkaXRpb25hbFBhcmFtcyIsImh0bWwiLCJhZGRCYWNrIiwiX2dldEZvbnRSdWxlcyIsIl91dGlscyIsInNjcm9sbCIsIm9uIiwiX2RvbmUiLCJfcmVhZHkiLCJfY3JlYXRlRm9udFJ1bGUiLCJlbGVtIiwiZ29vZ2xlRm9udCIsImF0dHIiLCJjdXN0b21Gb250IiwiX2dldFRhYmxlTmFtZSIsIl9sb2dFdmVudCIsInJwYyIsImNhbGwiLCJfcHJlZnMiLCJnZXRTdHJpbmciLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwiYWRkaXRpb25hbFBhcmFtcyIsIndpZHRoIiwiZ2V0SW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJQcmVmcyIsImNvbmZpZ3VyZSIsIm5hbWVzIiwidmFsdWVzIiwiQXJyYXkiLCJpc0FycmF5IiwicHJlZnMiLCJpZCIsIm9uY29udGV4dG1lbnUiLCJib2R5Iiwib25tb3VzZWRvd24iLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6IkNBT0MsU0FBV0EsRUFBR0MsRUFBUUMsRUFBVUMsR0FDaEMsWUFZQSxTQUFTQyxHQUFPQyxFQUFTQyxHQUN4QkMsS0FBS0YsUUFBVUEsRUFDZkUsS0FBS0MsS0FBT1IsRUFBRUssR0FBU0ksS0FBSyxTQUM1QkYsS0FBS0QsUUFBVU4sRUFBRVUsVUFBV0MsRUFBVUwsR0FDdENDLEtBQUtLLFVBQVlELEVBQ2pCSixLQUFLTSxNQUFRQyxFQUNiUCxLQUFLUSxXQUFZLEVBQ2pCUixLQUFLUyxVQUFZLEtBQ2pCVCxLQUFLVSxNQUFRLEtBQ2JWLEtBQUtXLGtCQUFvQixLQUN6QlgsS0FBS1ksT0FwQk4sR0FBSUwsR0FBYSxhQUNoQkgsR0FDQ1MsR0FBSSxhQUNKQyxNQUFPLFNBQ1BDLE1BQU8sRUFDUEMsT0FBTyxFQUNQQyxnQkFBaUIsRUFpQm5CcEIsR0FBT3FCLFdBQ05OLEtBQU0sV0FTTCxRQUFTTyxLQUNSQyxFQUFLVixNQUFNSyxRQUVYTSxVQUFVQyxtQkFBbUJGLEVBQUtULG1CQUNsQ1UsVUFBVUMsbUJBQW1CQyxHQUU3QkYsVUFBVUMsbUJBQW1CRSxHQWQ5QixHQUFJVixHQUFPVyxFQUNQTCxFQUFPcEIsS0FDUHVCLEVBQWlCLEtBQ2pCQyxFQUFlLEtBQ2ZFLEVBQWdCakMsRUFBRU8sS0FBS0YsU0FBUzZCLGFBQVksR0FDNUNDLEVBQWNGLEVBQ2RHLEVBQU03QixLQUFLRixRQUFRZ0MsYUFBZTlCLEtBQUtGLFFBQVFpQyxZQVduRC9CLE1BQUtXLGtCQUFvQixXQUV4QmlCLEVBQWNuQyxFQUFFMkIsRUFBS3RCLFNBQVNrQyxZQUM3Qk4sRUFFRE4sRUFBS1YsTUFBTXVCLFNBQVN4QyxFQUFFMkIsRUFBS3RCLFNBQVNrQyxZQUFjSCxHQUNoREssUUFHQ2xDLEtBQUttQyxhQUVnQixTQUFwQm5DLEtBQUtELFFBQVFjLElBRWZDLEVBRDBCLFlBQXZCZCxLQUFLRCxRQUFRZSxNQUNSLEdBRXVCLFNBQXZCZCxLQUFLRCxRQUFRZSxNQUNiLEdBRXVCLFdBQXZCZCxLQUFLRCxRQUFRZSxNQUNiLElBRXVCLFNBQXZCZCxLQUFLRCxRQUFRZSxNQUNiLElBR0EsRUFHVFcsRUFBV3pCLEtBQUtDLEtBQUswQixhQUFZLEdBQ2hDbEMsRUFBRU8sS0FBS0YsU0FBUzZCLGFBQVksR0FBUWIsSUFJcENBLEVBRDBCLFlBQXZCZCxLQUFLRCxRQUFRZSxNQUNSLEdBRXVCLFNBQXZCZCxLQUFLRCxRQUFRZSxNQUNiLEdBRXVCLFdBQXZCZCxLQUFLRCxRQUFRZSxNQUNiLEdBRXVCLFNBQXZCZCxLQUFLRCxRQUFRZSxNQUNiLEdBR0EsR0FHVFcsRUFBV1csS0FBS0MsS0FBS3JDLEtBQUtDLEtBQUswQixhQUFZLEdBQzFDbEMsRUFBRU8sS0FBS0YsU0FBUzZCLGFBQVksSUFBU2IsSUFHdkN3QixVQUFVQyxPQUFPdkMsS0FBS0YsU0FDckIwQyxLQUFNLFlBQ05DLFlBQVksRUFDWkMsZUFBZ0IsSUFDaEJ6QixnQkFBaUJHLEVBQUtyQixRQUFRa0IsZ0JBQzlCMEIsUUFBUyxXQUNSeEIsS0FFRHlCLFVBQVcsV0FDYyxTQUFwQnhCLEVBQUtyQixRQUFRYyxJQUtoQlEsVUFBVXdCLFlBQVl6QixFQUFLckIsUUFBUWdCLE1BQU9LLEVBQUtULG9CQUdqRG1DLFFBQVMsV0FDSjFCLEVBQUtyQixRQUFRaUIsUUFDaEJHLElBQ0ExQixFQUFFMkIsRUFBS3RCLFNBQVNpRCxRQUFRLGVBQWdCL0MsS0FBS2dELG1CQUtoRGhELEtBQUtTLFVBQVk2QixVQUFVVyxJQUFJakQsS0FBS0YsU0FFcENFLEtBQUtVLE1BQVFXLFVBQVU2QixHQUFHbEQsS0FBS1MsVUFBVTBDLFlBQWExQixHQUNyRE8sVUFBV0gsRUFDWHVCLEtBQU1DLE9BQU9DLFNBQ2JDLE1BQU92RCxLQUFLRCxRQUFRZ0IsTUFDcEJ5QyxRQUFRLEVBQ1JDLFNBQStCLFNBQXBCekQsS0FBS0QsUUFBUWMsR0FBZ0IsV0FDbkN1QixLQUFLQyxJQUFJakIsRUFBS1gsVUFBVTBDLFlBQVlPLFFBQVU5QixJQUNqRFIsRUFBS1YsTUFBTUssUUFHWGEsR0FBZUYsRUFFZkwsVUFBVXdCLFlBQVl6QixFQUFLckIsUUFBUWdCLE1BQ2xDUyxFQUFlLFdBQ2RKLEVBQUtWLE1BQU1pRCxhQUlYL0QsRUFDSmdFLFdBQVksV0FDWHZDLFVBQVV3QixZQUFZekIsRUFBS3JCLFFBQVFnQixNQUNsQ1EsRUFBaUIsV0FDaEJGLFVBQVU2QixHQUFHOUIsRUFBS25CLEtBQU0sR0FDdkI0RCxVQUFXLEVBQ1hELFdBQVksV0FDWHhDLEVBQUtWLE1BQU1vRCxLQUFLLEdBQUcvQyxRQUVLLFNBQXBCSyxFQUFLckIsUUFBUWMsS0FDaEJlLEVBQWNGLEdBR2ZqQyxFQUFFMkIsRUFBS3RCLFNBQVNpRCxRQUFRLGdCQVM5QjFCLFVBQVUwQyxJQUFJL0QsS0FBS0YsU0FBV2tFLFVBQVcsWUFFckNoRSxLQUFLRCxRQUFRaUIsUUFHaEJzQixVQUFVQyxPQUFPdkMsS0FBS0YsU0FDckIwQyxLQUFNLFlBQ05DLFlBQVksRUFDWkMsZUFBZ0IsSUFDaEJ6QixnQkFBaUJqQixLQUFLRCxRQUFRa0IsZ0JBQzlCNkIsUUFBUyxXQUNSckQsRUFBRTJCLEVBQUt0QixTQUFTaUQsUUFBUSxlQUFnQi9DLEtBQUtnRCxrQkFJL0NoRCxLQUFLUyxVQUFZNkIsVUFBVVcsSUFBSWpELEtBQUtGLFdBS3ZDcUMsVUFBVyxXQUNWLE1BQU9uQyxNQUFLRCxTQUFZQyxLQUFLQyxLQUFLZ0UsU0FBV3hFLEVBQUVPLEtBQUtGLFNBQVNtRSxVQUU5REMsUUFBUyxXQUNSekUsRUFBRU8sS0FBS0YsU0FBU3FFLGFBQ1puRSxLQUFLVSxPQUNSVixLQUFLVSxNQUFNMEQsT0FHUnBFLEtBQUtTLFdBQ1JULEtBQUtTLFVBQVUyRCxPQUloQnBFLEtBQUtGLFFBQVUsS0FDZkUsS0FBS0MsS0FBTyxLQUNaRCxLQUFLRCxRQUFVLEtBQ2ZDLEtBQUtLLFVBQVksS0FDakJMLEtBQUtTLFVBQVksS0FDakJULEtBQUtVLE1BQVEsS0FDYlYsS0FBS1csa0JBQW9CLE9BSTNCZCxFQUFPcUIsVUFBVWdCLEtBQU8sV0FDbkJsQyxLQUFLbUMsYUFBbUMsU0FBcEJuQyxLQUFLRCxRQUFRYyxJQUNoQ2IsS0FBS1UsUUFDSlYsS0FBS1EsV0FDUlIsS0FBS1UsTUFBTXdCLE9BQ1hsQyxLQUFLUSxXQUFZLElBR2pCYSxVQUFVNkIsR0FBR2xELEtBQUtDLEtBQU0sR0FBSTRELFVBQVcsSUFDdkN4QyxVQUFVd0IsWUFBWTdDLEtBQUtELFFBQVFnQixNQUFPZixLQUFLVyxzQkFNbkRkLEVBQU9xQixVQUFVSCxNQUFRLFdBQ3BCZixLQUFLVSxRQUNSVyxVQUFVQyxtQkFBbUJ0QixLQUFLVyxtQkFDbENYLEtBQUtVLE1BQU1LLFVBSWJsQixFQUFPcUIsVUFBVW1ELEtBQU8sV0FDbkJyRSxLQUFLVSxRQUNSVyxVQUFVQyxtQkFBbUJ0QixLQUFLVyxtQkFDbENYLEtBQUtVLE1BQU0wRCxRQUdacEUsS0FBS0YsUUFBVSxLQUNmRSxLQUFLQyxLQUFPLE1BS2JSLEVBQUU2RSxHQUFHQyxXQUFhLFNBQVN4RSxHQUMxQixNQUFPQyxNQUFLd0UsS0FBSyxXQUNYL0UsRUFBRWdGLEtBQUt6RSxLQUFNLFVBQVlPLElBQzdCZCxFQUFFZ0YsS0FBS3pFLEtBQU0sVUFBWU8sRUFBWSxHQUFJVixHQUFPRyxLQUFNRCxRQUl2RDJFLE9BQVFoRixPQUFRQyxTQUVuQixJQUFJZ0YsdUJBQ0ZDLGNBQWUsaUJBQ2ZDLGlCQUFrQiw0RUFDbEJDLHFCQUFzQiwyQkFDdEJDLHFCQUFzQixxRUFDdEJDLFlBQWEsT0FDYkMsVUFBVyw2Q0FFVEMsV0FBYUEsY0FFakJBLFlBQVdDLE9BQVNELFdBQVdDLFdBRS9CRCxXQUFXQyxPQUFPQyxVQUFZLFdBRTVCLFFBQVNDLEdBQWdCQyxFQUFXQyxHQUNsQyxHQUFJQyxHQUFTLGVBQWlCRCxFQUFRRSxLQUFLRCxPQUFTLEtBQ2hERSxFQUFRLFdBQWFILEVBQVFHLE1BQVFILEVBQVFHLE1BQVFILEVBQVFJLFdBQWEsS0FDMUVDLEVBQU8sZUFBZ0QsS0FBL0JMLEVBQVFLLEtBQUtDLFFBQVEsTUFBZU4sRUFBUUssS0FBTyxPQUFTTCxFQUFRSyxLQUFPLE1BQ25HRSxFQUFTLGlCQUFtQlAsRUFBUVEsS0FBTyxPQUFTLFVBQVksS0FDaEVDLEVBQVMsZ0JBQWtCVCxFQUFRUyxPQUFTLFNBQVcsVUFBWSxLQUNuRUMsRUFBWSxxQkFBdUJWLEVBQVFVLFVBQVksWUFBYyxRQUFVLEtBQy9FQyxFQUFZLHNCQUF3QlgsRUFBUVksZUFBaUJaLEVBQVFZLGVBQWlCWixFQUFRYSxXQUFhLElBRS9HLE9BQU8sSUFBTWQsRUFBWSxLQUFPRSxFQUFTRSxFQUFRRSxFQUFPRSxFQUFTRSxFQUFTQyxFQUFZQyxFQUFZLElBR3BHLFFBQVNHLEdBQVlDLEdBR25CLElBQUssR0FGREMsR0FBUTVHLFNBQVM2RyxjQUFjLFNBRTFCQyxFQUFJLEVBQUdDLEVBQVNKLEVBQU1JLE9BQVlBLEVBQUpELEVBQVlBLElBQ2pERixFQUFNSSxZQUFZaEgsU0FBU2lILGVBQWVOLEVBQU1HLElBR2xEOUcsVUFBU2tILEtBQUtGLFlBQVlKLEdBOEI1QixRQUFTTyxHQUFVQyxFQUFVQyxHQUMzQkQsRUFBU0UsUUFBUSxTQUFTQyxHQUNwQkEsRUFBS0MsT0FBU0QsRUFBS0UsYUFDckJmLEdBQWNoQixFQUFnQjZCLEVBQUtDLE1BQU9ELEVBQUtFLGVBRzdDRixFQUFLRSxZQUFZM0IsS0FBS2pELE9BQ1csV0FBL0IwRSxFQUFLRSxZQUFZM0IsS0FBS2pELE1BQXFCMEUsRUFBS0UsWUFBWTNCLEtBQUtELFFBQ25FMEIsRUFBS0UsWUFBWTNCLEtBQUs0QixJQUN0QkMsRUFBZUosRUFBS0UsWUFBWTNCLEtBQUtELE9BQVEwQixFQUFLRSxZQUFZM0IsS0FBSzRCLElBQ2pFTCxHQUVvQyxXQUEvQkUsRUFBS0UsWUFBWTNCLEtBQUtqRCxNQUFxQjBFLEVBQUtFLFlBQVkzQixLQUFLRCxRQUN4RStCLEVBQWVMLEVBQUtFLFlBQVkzQixLQUFLRCxPQUFRd0IsTUFNckQsUUFBU00sR0FBZTlCLEVBQVE2QixFQUFLTCxHQUNuQyxHQUFJUSxHQUFRLEtBQ1JDLEVBQU8sZ0JBQWtCakMsRUFBUyxlQUFzQjZCLEVBQU0sS0FFbEVMLEdBQWFBLEdBQWNySCxTQUUzQjZILEVBQVFSLEVBQVdVLFlBQVksR0FFakIsT0FBVkYsR0FDRkEsRUFBTUcsUUFBUSxhQUFjRixHQUloQyxRQUFTRixHQUFlL0IsRUFBUXdCLEdBQzlCLEdBQUlZLEdBQWFqSSxTQUFTNkcsY0FBYyxPQUV4Q1EsR0FBYUEsR0FBY3JILFNBRTNCaUksRUFBV0MsYUFBYSxNQUFPLGNBQy9CRCxFQUFXQyxhQUFhLE9BQVEsWUFHaENELEVBQVdDLGFBQWEsT0FBUSwyQ0FBNkNyQyxFQUFPc0MsTUFBTSxLQUFLLElBRTVFLE9BQWZGLEdBQ0ZaLEVBQVdlLHFCQUFxQixRQUFRLEdBQUdwQixZQUFZaUIsR0FJM0QsUUFBU0ksR0FBY0MsR0FJckIsSUFBSyxHQUhEdkIsR0FBU3VCLEVBQUt2QixPQUNoQndCLEtBRU96QixFQUFJLEVBQU9DLEVBQUpELEVBQVlBLElBQzFCeUIsRUFBT3pCLEdBQUssR0FBSTBCLE9BQ2hCRCxFQUFPekIsR0FBRzJCLElBQU1ILEVBQUt4QixHQUl6QixRQUFTNEIsR0FBa0JDLEdBS3pCLElBQUssR0FGSEMsR0FGRUMsRUFBUTlJLE9BQU8rSSxTQUFTQyxPQUFPQyxVQUFVLEdBQzNDQyxFQUFPSixFQUFNVixNQUFNLEtBR1pyQixFQUFJLEVBQUdBLEVBQUltQyxFQUFLbEMsT0FBUUQsSUFHL0IsR0FGQThCLEVBQU9LLEVBQUtuQyxHQUFHcUIsTUFBTSxLQUVqQlMsRUFBSyxJQUFNRCxFQUNiLE1BQU9PLG9CQUFtQk4sRUFBSyxHQUluQyxPQUFPLEdBR1QsT0FDRUYsa0JBQW1CQSxFQUNuQmhELGdCQUFrQkEsRUFDbEJnQixZQUFrQkEsRUFDbEJTLFVBQWtCQSxFQUNsQlEsZUFBa0JBLEVBQ2xCQyxlQUFrQkEsRUFDbEJTLGNBQWtCQSxLQU10QixJQUFJOUMsWUFBYUEsY0FDakJBLFlBQVdDLE9BQVNELFdBQVdDLFdBRS9CRCxXQUFXQyxPQUFPMkQsWUFBYyxXQUM5QixZQVVBLFNBQVNDLEdBQWVDLEVBQVFDLEdBQzlCLEdBQUlDLEdBQU8sSUFHUEYsR0FBT0csT0FDVEQsRUFBT0YsRUFFSEUsRUFBS0UsV0FDUEYsRUFBS0csWUFBY0MsRUFBY0osRUFBS0UsV0FHeENGLEVBQUtLLFdBQWFDLEVBQ2xCTixFQUFLTyxXQUFhQyxFQUVsQlQsRUFBR0MsSUFHSEQsRUFBR0MsR0FLUCxRQUFTUyxLQUNQLEdBQUlDLEdBQU8sR0FBSUMsTUFDYkMsRUFBT0YsRUFBS0csaUJBQ1pDLEVBQVFKLEVBQUtLLGNBQWdCLEVBQzdCQyxFQUFNTixFQUFLTyxZQVViLE9BUlksSUFBUkgsSUFDRkEsRUFBUSxJQUFNQSxHQUdOLEdBQU5FLElBQ0ZBLEVBQU0sSUFBTUEsR0FHUEosRUFBT0UsRUFBUUUsRUFNeEIsUUFBU1osR0FBY2pDLEdBQ3JCLEdBQ0UrQyxHQURFQyxFQUFZLE9BR2hCLE9BQUtoRCxJQUFzQixnQkFBUkEsSUFJbkIrQyxFQUFNL0MsRUFBSWlELE9BQU9qRCxFQUFJa0QsWUFBWSxLQUFPLEdBR3BDRixFQUFVRyxLQUFLSixLQUNqQkEsRUFBTUEsRUFBSUUsT0FBTyxFQUF5QixLQUFyQkYsRUFBSXZFLFFBQVEsS0FBZXVFLEVBQUl2RSxRQUFRLEtBQU91RSxFQUFJMUQsUUFFdkUwRCxFQUFNQSxFQUFJRSxPQUFPLEVBQXlCLEtBQXJCRixFQUFJdkUsUUFBUSxLQUFldUUsRUFBSXZFLFFBQVEsS0FBT3VFLEVBQUkxRCxRQUV2RTBELEVBQU1BLEVBQUlFLE9BQU8sRUFBeUIsS0FBckJGLEVBQUl2RSxRQUFRLEtBQWV1RSxFQUFJdkUsUUFBUSxLQUFPdUUsRUFBSTFELFNBR2xFMEQsRUFBSUssZUFkRixLQWlCWCxRQUFTQyxHQUFjMUIsR0FDckIsR0FBSTJCLElBQ0ZDLEtBQVEscUNBQ1JDLGlCQUFtQixFQUNuQkMscUJBQXVCLEVBQ3ZCQyxlQUFrQnBCLElBQ2xCcUIsT0FDRUMsU0FBWSxNQUdoQnhHLEVBQU95RyxLQUFLQyxNQUFNRCxLQUFLRSxVQUFVVCxHQU1qQyxPQUpBbEcsR0FBS3VHLEtBQUssR0FBR0MsU0FBVzdJLEtBQUtpSixTQUFTQyxTQUFTLElBQUloQixPQUFPLEdBQUdpQixjQUM3RDlHLEVBQUt1RyxLQUFLLEdBQUc5QixLQUFPZ0MsS0FBS0MsTUFBTUQsS0FBS0UsVUFBVXBDLElBQzlDdkUsRUFBS3VHLEtBQUssR0FBRzlCLEtBQUtzQyxJQUFLLEdBQUkzQixPQUFPNEIsY0FFM0JoSCxFQUdULFFBQVNpSCxHQUFTQyxFQUFPM0MsR0FDdkJELEVBQWVDLEVBQVEsU0FBU0UsR0FDakIsT0FBVEEsR0FDRmhFLFdBQVdDLE9BQU95RyxPQUFPQyxJQUFJRixFQUFPekMsS0FNMUMsUUFBUzRDLEdBQU9DLEVBQVNDLEdBQ3ZCeEMsRUFBWXVDLEVBQ1pyQyxFQUFZc0MsRUF0R2IsR0FBSXRDLEdBQVksR0FDZkYsRUFBWSxFQXdHZCxRQUNFa0IsY0FBaUJBLEVBQ2pCcEIsY0FBaUJBLEVBQ2pCb0MsU0FBWUEsRUFDWkksT0FBVUEsTUFJZDVHLFdBQVdDLE9BQU95RyxPQUFTLFNBQVVLLEdBQ25DLFlBaUJBLFNBQVNDLEdBQWFqRCxHQUNwQixHQUFJa0QsR0FBTSxHQUFJQyxlQUVkLE9BQUksSUFBSXZDLE1BQVN3QyxFQUFjLE1BQ3RCcEQsT0FHVGtELEVBQUlHLEtBQUssT0FBUUMsR0FBYSxHQUM5QkosRUFBSUssVUFBWSxXQUNkLEdBQUlDLEdBQU92QixLQUFLQyxNQUFNZ0IsRUFBSU8sU0FFMUJ6RCxJQUFLMEQsTUFBT0YsRUFBS0csYUFBY0MsWUFBYSxHQUFJaEQsU0FHbERzQyxFQUFJVyxPQVBKWCxRQVVGLFFBQVNZLEdBQVk1RCxHQUNuQixNQUFPNkQsSUFBYUMsSUFBYzlELEVBTXBDLFFBQVMwQyxHQUFJcUIsRUFBV2xFLEdBYXRCLFFBQVNtRSxHQUFnQkMsR0FDdkIsR0FDRUMsR0FBWWhHLEVBRFY4RSxFQUFNLEdBQUlDLGVBR2QvRSxHQUFNaUcsRUFBV0MsUUFBUSxXQUFZTCxHQUNyQ2IsRUFBY2UsRUFBWVAsYUFBZVIsRUFDekNNLEVBQVFTLEVBQVlULE9BQVNBLEVBQzdCVSxFQUFhcEIsRUFBTXZCLGNBQWMxQixHQUdqQ21ELEVBQUlHLEtBQUssT0FBUWpGLEdBQUssR0FDdEI4RSxFQUFJcUIsaUJBQWlCLGVBQWdCLG9CQUNyQ3JCLEVBQUlxQixpQkFBaUIsZ0JBQWlCLFVBQVliLEdBRTlDM0QsRUFBT0MsSUFBMkIsa0JBQWRELEdBQU9DLEtBQzdCa0QsRUFBSUssVUFBWSxXQUNkeEQsRUFBT0MsR0FBR2tELEVBQUlPLFlBSWxCUCxFQUFJVyxLQUFLNUIsS0FBS0UsVUFBVWlDLElBaEMxQixNQUFLSCxJQUFjbEUsR0FBV0EsRUFBT3lFLGVBQWUsV0FBYXpFLEVBQU9HLE9BQ3JFSCxFQUFPeUUsZUFBZSxVQUFZVixFQUFZL0QsRUFBT0csUUFrQ3hELE1BOUJBNkQsSUFBVyxFQUNYQyxFQUFZakUsRUFBT0csTUFFbkJ1RSxXQUFXLFdBQ1RWLEdBQVcsR0FDVlcsR0F5Qkl6QixFQUFhaUIsR0EzRXRCLEdBQUlaLEdBQWMsd0RBQTBENUgscUJBQXFCRSxpQkFDN0Ysa0JBQW9CRixxQkFBcUJHLHFCQUN6QyxrQkFBb0JILHFCQUFxQkkscUJBQ3pDLDRCQUVBdUksRUFBYSxzSEFDZk4sR0FBVyxFQUNYVyxFQUFnQixJQUNoQlYsRUFBWSxHQUNaWixFQUFjLEVBQ2RNLEVBQVEsRUFvRVYsUUFDRWQsSUFBT0EsSUFFUjNHLFdBQVdDLE9BQU8yRCxZQUVyQixJQUFJOEUsTUFBT0EsUUFFWEEsTUFBS0MsTUFBTSxjQUFlLG1CQUMxQkQsS0FBS0MsTUFBTSxtQkFFWCxXQUNFLEdBQUlDLEdBQUtuTyxTQUFTNkcsY0FBYyxTQUFXc0gsR0FBR3RMLEtBQU8sa0JBQW1Cc0wsRUFBR0MsT0FBUSxFQUNuRkQsRUFBRzFGLEtBQU8sVUFBWXpJLFNBQVM4SSxTQUFTdUYsU0FBVyxjQUFnQixjQUFnQiw2QkFDbkYsSUFBSUMsR0FBSXRPLFNBQVNvSSxxQkFBcUIsVUFBVSxFQUFJa0csR0FBRUMsV0FBV0MsYUFBYUwsRUFBSUcsS0FNcEYsSUFBSS9JLFlBQWFBLGNBQ2pCQSxZQUFXa0osUUFFWGxKLFdBQVdrSixLQUFPLFNBQVVDLEdBQzFCLFlBU0EsU0FBU0MsS0FDUCxHQUFJN0gsR0FBSSxFQUNOSCxLQUNBaUksSUFFRjVPLFVBQVM2TyxjQUFjLFNBQVNDLFVBQVlDLEVBQWtCakssS0FHOURoRixFQUFFK0UsS0FBSy9FLEVBQUUsVUFBVWtQLEtBQUtELEVBQWtCakssTUFBTXZFLEtBQUssUUFBUTBPLFVBQVcsV0FHdEUsSUFGQUwsRUFBWU0sRUFBYzdPLE1BRXJCeUcsRUFBSSxFQUFHQSxFQUFJOEgsRUFBVTdILE9BQVFELElBQ2hDSCxFQUFNdUgsS0FBS1UsRUFBVTlILE1BSXpCcUksRUFBT3pJLFlBQVlDLEdBRW5CN0csRUFBRSxjQUFjOEUsV0FBV21LLEVBQWtCSyxRQUFRQyxHQUFHLE9BQVEsV0FDOURDLE1BR0ZDLElBR0YsUUFBU0MsR0FBZ0IxSixHQUN2QixNQUFPLHdCQUEwQkEsRUFBSzhILFFBQVEsS0FBTSxLQUFLOUMsY0FBZ0Isb0JBQXNCaEYsRUFBTyxPQUl4RyxRQUFTb0osR0FBY08sR0FDckIsR0FBSTlJLE1BQ0YrSSxFQUFhNVAsRUFBRTJQLEdBQU1FLEtBQUssb0JBQzFCQyxFQUFhOVAsRUFBRTJQLEdBQU1FLEtBQUssbUJBa0I1QixPQWZJRCxLQUNGUCxFQUFPdkgsZUFBZThILEdBR3RCL0ksRUFBTXVILEtBQUtzQixFQUFnQkUsS0FJekJFLElBQ0ZULEVBQU94SCxlQUFlaUksRUFBWTlQLEVBQUUyUCxHQUFNRSxLQUFLLHlCQUcvQ2hKLEVBQU11SCxLQUFLc0IsRUFBZ0JJLEtBR3RCakosRUFHVCxRQUFTa0osS0FDUCxNQUFPLGNBR1QsUUFBU0MsR0FBVXpHLEdBQ2pCOUQsV0FBV0MsT0FBTzJELFlBQVk0QyxTQUFTOEQsSUFBaUJ4RyxHQUcxRCxRQUFTa0csS0FDUGIsRUFBUXFCLElBQUlDLEtBQUssR0FBSSxnQkFBaUIsS0FBTUMsRUFBT0MsVUFBVSxPQUFPLEdBQ2xFLEdBQU0sR0FBTSxHQUFNLEdBR3RCLFFBQVNaLEtBQ1BaLEVBQVFxQixJQUFJQyxLQUFLLEdBQUksZUFBZ0IsS0FBTUMsRUFBT0MsVUFBVSxPQUM1REosR0FBWXRHLE1BQVMsU0FNdkIsUUFBUzJHLEdBQW9CQyxHQUMzQnJCLEVBQW9CeEQsS0FBS0MsTUFBTUQsS0FBS0UsVUFBVTJFLElBRTlDckIsRUFBa0JzQixNQUFRSixFQUFPSyxPQUFPLE9BQ3hDdkIsRUFBa0J6SyxPQUFTMkwsRUFBT0ssT0FBTyxPQUV6Q3RRLFNBQVN1USxlQUFlLGFBQWEzSixNQUFNeUosTUFBUXRCLEVBQWtCc0IsTUFBUSxLQUM3RXJRLFNBQVN1USxlQUFlLGFBQWEzSixNQUFNdEMsT0FBU3lLLEVBQWtCekssT0FBUyxLQUUvRXFLLElBR0YsUUFBU3BNLEtBQ0h6QyxFQUFFLGNBQWNnRixLQUFLLHNCQUN2QmhGLEVBQUUsY0FBY2dGLEtBQUsscUJBQXFCdkMsT0FHNUN1TixHQUFZdEcsTUFBUyxTQUd2QixRQUFTcEksS0FDSHRCLEVBQUUsY0FBY2dGLEtBQUssc0JBQ3ZCaEYsRUFBRSxjQUFjZ0YsS0FBSyxxQkFBcUIxRCxRQUk5QyxRQUFTc0QsS0FDUHRELElBN0dGLEdBQUkyTixHQUFvQixLQUN0QmtCLEVBQVMsR0FBSXZCLEdBQVE4QixNQUNyQnJCLEVBQVM1SixXQUFXQyxPQUFPQyxTQThHN0IsUUFDRXJFLE1BQVNBLEVBQ1RtQixLQUFRQSxFQUNSNE4sb0JBQXVCQSxFQUN2QnpMLEtBQVFBLElBRVRnSyxTQUlILFNBQVczTyxFQUFRMk8sR0FDakIsWUFhQSxTQUFTK0IsR0FBVUMsRUFBT0MsR0FDeEIsR0FBSVAsR0FDRnZHLEVBQVksR0FDWkUsRUFBWSxFQUVWNkcsT0FBTUMsUUFBUUgsSUFBVUEsRUFBTTNKLE9BQVMsR0FBSzZKLE1BQU1DLFFBQVFGLElBQVdBLEVBQU81SixPQUFTLElBQ3RFLGNBQWIySixFQUFNLEtBQ1I3RyxFQUFZOEcsRUFBTyxJQUdKLGNBQWJELEVBQU0sS0FFTjNHLEVBREU0RyxFQUFPLEdBQ0dBLEVBQU8sR0FHUCxXQUloQnBMLFdBQVdDLE9BQU8yRCxZQUFZZ0QsT0FBT3RDLEVBQVdFLEdBRS9CLHFCQUFiMkcsRUFBTSxLQUNSTixFQUFtQjdFLEtBQUtDLE1BQU1tRixFQUFPLElBRXJDcEwsV0FBV2tKLEtBQUswQixvQkFBb0JDLEtBYzFDLFFBQVM3TixLQUNQZ0QsV0FBV2tKLEtBQUtsTSxPQUdsQixRQUFTbkIsS0FDUG1FLFdBQVdrSixLQUFLck4sUUFHbEIsUUFBU3NELEtBQ1BhLFdBQVdrSixLQUFLL0osT0ExRGxCLEdBQUlvTSxHQUFRLEdBQUlwQyxHQUFROEIsTUFDdEJPLEVBQUtELEVBQU1aLFVBQVUsS0FFdkJuUSxHQUFPaVIsY0FBZ0IsV0FDckIsT0FBTyxHQUdUaFIsU0FBU2lSLEtBQUtDLFlBQWMsV0FDMUIsT0FBTyxHQWdDTEgsR0FBYSxLQUFQQSxJQUNSckMsRUFBUXFCLElBQUlvQixTQUFTLGNBQWdCSixFQUFJeE8sR0FDekNtTSxFQUFRcUIsSUFBSW9CLFNBQVMsZUFBaUJKLEVBQUkzUCxHQUMxQ3NOLEVBQVFxQixJQUFJb0IsU0FBUyxjQUFnQkosRUFBSXJNLEdBRXpDZ0ssRUFBUXFCLElBQUlvQixTQUFTLGVBQWlCSixFQUFJTixHQUMxQy9CLEVBQVFxQixJQUFJQyxLQUFLLEdBQUksY0FBZSxLQUFNZSxHQUFLLFlBQWEsWUFBYSx1QkFjMUVoUixPQUFRMk8iLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgUHJvamVjdDogQXV0by1TY3JvbGxcbiAqICBEZXNjcmlwdGlvbjogQXV0by1zY3JvbGwgcGx1Z2luIGZvciB1c2Ugd2l0aCBSaXNlIFZpc2lvbiBXaWRnZXRzXG4gKiAgQXV0aG9yOiBAZG9ubmFwZXBcbiAqICBMaWNlbnNlOiBNSVRcbiAqL1xuXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIHBsdWdpbk5hbWUgPSBcImF1dG9TY3JvbGxcIixcblx0XHRkZWZhdWx0cyA9IHtcblx0XHRcdGJ5OiBcImNvbnRpbnVvdXNcIixcblx0XHRcdHNwZWVkOiBcIm1lZGl1bVwiLFxuXHRcdFx0cGF1c2U6IDUsXG5cdFx0XHRjbGljazogZmFsc2UsXG5cdFx0XHRtaW5pbXVtTW92ZW1lbnQ6IDMgLy8gRHJhZ2dhYmxlIGRlZmF1bHQgdmFsdWUgLSBodHRwOi8vZ3JlZW5zb2NrLmNvbS9kb2NzLyMvSFRNTDUvRHJhZy9EcmFnZ2FibGUvXG5cdFx0fTtcblxuXG5cdGZ1bmN0aW9uIFBsdWdpbihlbGVtZW50LCBvcHRpb25zKSB7XG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblx0XHR0aGlzLnBhZ2UgPSAkKGVsZW1lbnQpLmZpbmQoXCIucGFnZVwiKTtcblx0XHR0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXHRcdHRoaXMuX2RlZmF1bHRzID0gZGVmYXVsdHM7XG5cdFx0dGhpcy5fbmFtZSA9IHBsdWdpbk5hbWU7XG5cdFx0dGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuXHRcdHRoaXMuZHJhZ2dhYmxlID0gbnVsbDtcblx0XHR0aGlzLnR3ZWVuID0gbnVsbDtcblx0XHR0aGlzLmNhbGN1bGF0ZVByb2dyZXNzID0gbnVsbDtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdFBsdWdpbi5wcm90b3R5cGUgPSB7XG5cdFx0aW5pdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHNwZWVkLCBkdXJhdGlvbjtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciBzY3JvbGxDb21wbGV0ZSA9IG51bGw7XG5cdFx0XHR2YXIgcGFnZUNvbXBsZXRlID0gbnVsbDtcblx0XHRcdHZhciBlbGVtZW50SGVpZ2h0ID0gJCh0aGlzLmVsZW1lbnQpLm91dGVySGVpZ2h0KHRydWUpO1xuXHRcdFx0dmFyIHBhdXNlSGVpZ2h0ID0gZWxlbWVudEhlaWdodDtcblx0XHRcdHZhciBtYXggPSB0aGlzLmVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodDtcblxuXHRcdFx0ZnVuY3Rpb24gcGF1c2VUd2VlbigpIHtcblx0XHRcdFx0c2VsZi50d2Vlbi5wYXVzZSgpO1xuXG5cdFx0XHRcdFR3ZWVuTGl0ZS5raWxsRGVsYXllZENhbGxzVG8oc2VsZi5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHRcdFR3ZWVuTGl0ZS5raWxsRGVsYXllZENhbGxzVG8oc2Nyb2xsQ29tcGxldGUpO1xuXHRcdFx0XHQvLyBPbmx5IHVzZWQgd2hlbiBzY3JvbGxpbmcgYnkgcGFnZS5cblx0XHRcdFx0VHdlZW5MaXRlLmtpbGxEZWxheWVkQ2FsbHNUbyhwYWdlQ29tcGxldGUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmNhbGN1bGF0ZVByb2dyZXNzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIFNldCBwYXVzZUhlaWdodCB0byBuZXcgdmFsdWUuXG5cdFx0XHRcdHBhdXNlSGVpZ2h0ID0gJChzZWxmLmVsZW1lbnQpLnNjcm9sbFRvcCgpICtcblx0XHRcdFx0XHRlbGVtZW50SGVpZ2h0O1xuXG5cdFx0XHRcdHNlbGYudHdlZW4ucHJvZ3Jlc3MoJChzZWxmLmVsZW1lbnQpLnNjcm9sbFRvcCgpIC8gbWF4KVxuXHRcdFx0XHRcdC5wbGF5KCk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAodGhpcy5jYW5TY3JvbGwoKSkge1xuXHRcdFx0XHQvLyBTZXQgc2Nyb2xsIHNwZWVkLlxuXHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLmJ5ID09PSBcInBhZ2VcIikge1xuXHRcdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMuc3BlZWQgPT09IFwiZmFzdGVzdFwiKSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDAuNDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcImZhc3RcIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAwLjg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJtZWRpdW1cIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAxLjI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJzbG93XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMS42O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRkdXJhdGlvbiA9IHRoaXMucGFnZS5vdXRlckhlaWdodCh0cnVlKSAvXG5cdFx0XHRcdFx0XHQkKHRoaXMuZWxlbWVudCkub3V0ZXJIZWlnaHQodHJ1ZSkgKiBzcGVlZDtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHsgIC8vIENvbnRpbnVvdXMgb3IgYnkgcm93XG5cdFx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJmYXN0ZXN0XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gNjA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJmYXN0XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gNTA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJtZWRpdW1cIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSA0MDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcInNsb3dcIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAzMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDIwO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGR1cmF0aW9uID0gTWF0aC5hYnMoKHRoaXMucGFnZS5vdXRlckhlaWdodCh0cnVlKSAtXG5cdFx0XHRcdFx0XHQkKHRoaXMuZWxlbWVudCkub3V0ZXJIZWlnaHQodHJ1ZSkpIC8gc3BlZWQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0RHJhZ2dhYmxlLmNyZWF0ZSh0aGlzLmVsZW1lbnQsIHtcblx0XHRcdFx0XHR0eXBlOiBcInNjcm9sbFRvcFwiLFxuXHRcdFx0XHRcdHRocm93UHJvcHM6IHRydWUsXG5cdFx0XHRcdFx0ZWRnZVJlc2lzdGFuY2U6IDAuNzUsXG5cdFx0XHRcdFx0bWluaW11bU1vdmVtZW50OiBzZWxmLm9wdGlvbnMubWluaW11bU1vdmVtZW50LFxuXHRcdFx0XHRcdG9uUHJlc3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cGF1c2VUd2VlbigpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b25SZWxlYXNlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMuYnkgIT09IFwibm9uZVwiKSB7XG5cdFx0XHRcdFx0XHRcdC8qIEZpZ3VyZSBvdXQgd2hhdCB0aGUgbmV3IHNjcm9sbCBwb3NpdGlvbiBpcyBhbmRcblx0XHRcdFx0XHRcdFx0IHRyYW5zbGF0ZSB0aGF0IGludG8gdGhlIHByb2dyZXNzIG9mIHRoZSB0d2VlbiAoMC0xKVxuXHRcdFx0XHRcdFx0XHQgc28gdGhhdCB3ZSBjYW4gY2FsaWJyYXRlIGl0OyBvdGhlcndpc2UsIGl0J2QganVtcFxuXHRcdFx0XHRcdFx0XHQgYmFjayB0byB3aGVyZSBpdCBwYXVzZWQgd2hlbiB3ZSByZXN1bWUoKS4gKi9cblx0XHRcdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHNlbGYub3B0aW9ucy5wYXVzZSwgc2VsZi5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRvbkNsaWNrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMuY2xpY2spIHtcblx0XHRcdFx0XHRcdFx0cGF1c2VUd2VlbigpO1xuXHRcdFx0XHRcdFx0XHQkKHNlbGYuZWxlbWVudCkudHJpZ2dlcihcInNjcm9sbENsaWNrXCIsIFt0aGlzLnBvaW50ZXJFdmVudF0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5kcmFnZ2FibGUgPSBEcmFnZ2FibGUuZ2V0KHRoaXMuZWxlbWVudCk7XG5cblx0XHRcdFx0dGhpcy50d2VlbiA9IFR3ZWVuTGl0ZS50byh0aGlzLmRyYWdnYWJsZS5zY3JvbGxQcm94eSwgZHVyYXRpb24sIHtcblx0XHRcdFx0XHRzY3JvbGxUb3A6IG1heCxcblx0XHRcdFx0XHRlYXNlOiBMaW5lYXIuZWFzZU5vbmUsXG5cdFx0XHRcdFx0ZGVsYXk6IHRoaXMub3B0aW9ucy5wYXVzZSxcblx0XHRcdFx0XHRwYXVzZWQ6IHRydWUsXG5cdFx0XHRcdFx0b25VcGRhdGU6ICh0aGlzLm9wdGlvbnMuYnkgPT09IFwicGFnZVwiID8gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoc2VsZi5kcmFnZ2FibGUuc2Nyb2xsUHJveHkudG9wKCkpID49IHBhdXNlSGVpZ2h0KSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYudHdlZW4ucGF1c2UoKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBOZXh0IGhlaWdodCBhdCB3aGljaCB0byBwYXVzZSBzY3JvbGxpbmcuXG5cdFx0XHRcdFx0XHRcdHBhdXNlSGVpZ2h0ICs9IGVsZW1lbnRIZWlnaHQ7XG5cblx0XHRcdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHNlbGYub3B0aW9ucy5wYXVzZSxcblx0XHRcdFx0XHRcdFx0XHRwYWdlQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGYudHdlZW4ucmVzdW1lKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gOiB1bmRlZmluZWQpLFxuXHRcdFx0XHRcdG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHNlbGYub3B0aW9ucy5wYXVzZSxcblx0XHRcdFx0XHRcdFx0c2Nyb2xsQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRUd2VlbkxpdGUudG8oc2VsZi5wYWdlLCAxLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhdXRvQWxwaGE6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi50d2Vlbi5zZWVrKDApLnBhdXNlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYub3B0aW9ucy5ieSA9PT0gXCJwYWdlXCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYXVzZUhlaWdodCA9IGVsZW1lbnRIZWlnaHQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQkKHNlbGYuZWxlbWVudCkudHJpZ2dlcihcImRvbmVcIik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBIaWRlIHNjcm9sbGJhci5cblx0XHRcdFx0VHdlZW5MaXRlLnNldCh0aGlzLmVsZW1lbnQsIHsgb3ZlcmZsb3dZOiBcImhpZGRlblwiIH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5jbGljaykge1xuXHRcdFx0XHRcdC8vIEFjY291bnQgZm9yIGNvbnRlbnQgdGhhdCBpcyB0byBiZSBjbGlja2VkIHdoZW4gY29udGVudCBub3QgbmVlZGVkIHRvIGJlIHNjcm9sbGVkXG5cdFx0XHRcdFx0Ly8gTGV2ZXJhZ2UgRHJhZ2dhYmxlIGZvciB0b3VjaC9jbGljayBldmVudCBoYW5kbGluZ1xuXHRcdFx0XHRcdERyYWdnYWJsZS5jcmVhdGUodGhpcy5lbGVtZW50LCB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcInNjcm9sbFRvcFwiLFxuXHRcdFx0XHRcdFx0dGhyb3dQcm9wczogdHJ1ZSxcblx0XHRcdFx0XHRcdGVkZ2VSZXNpc3RhbmNlOiAwLjk1LFxuXHRcdFx0XHRcdFx0bWluaW11bU1vdmVtZW50OiB0aGlzLm9wdGlvbnMubWluaW11bU1vdmVtZW50LFxuXHRcdFx0XHRcdFx0b25DbGljazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdCQoc2VsZi5lbGVtZW50KS50cmlnZ2VyKFwic2Nyb2xsQ2xpY2tcIiwgW3RoaXMucG9pbnRlckV2ZW50XSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHR0aGlzLmRyYWdnYWJsZSA9IERyYWdnYWJsZS5nZXQodGhpcy5lbGVtZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Ly8gQ2hlY2sgaWYgY29udGVudCBpcyBsYXJnZXIgdGhhbiB2aWV3YWJsZSBhcmVhIGFuZCBpZiB0aGUgc2Nyb2xsIHNldHRpbmdzIGlzIHNldCB0byBhY3R1YWxseSBzY3JvbGwuXG5cdFx0Y2FuU2Nyb2xsOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnMgJiYgKHRoaXMucGFnZS5oZWlnaHQoKSA+ICQodGhpcy5lbGVtZW50KS5oZWlnaHQoKSk7XG5cdFx0fSxcblx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRcdCQodGhpcy5lbGVtZW50KS5yZW1vdmVEYXRhKCk7XG5cdFx0XHRpZiAodGhpcy50d2Vlbikge1xuXHRcdFx0XHR0aGlzLnR3ZWVuLmtpbGwoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dhYmxlKSB7XG5cdFx0XHRcdHRoaXMuZHJhZ2dhYmxlLmtpbGwoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnRzLlxuXHRcdFx0dGhpcy5lbGVtZW50ID0gbnVsbDtcblx0XHRcdHRoaXMucGFnZSA9IG51bGw7XG5cdFx0XHR0aGlzLm9wdGlvbnMgPSBudWxsO1xuXHRcdFx0dGhpcy5fZGVmYXVsdHMgPSBudWxsO1xuXHRcdFx0dGhpcy5kcmFnZ2FibGUgPSBudWxsO1xuXHRcdFx0dGhpcy50d2VlbiA9IG51bGw7XG5cdFx0XHR0aGlzLmNhbGN1bGF0ZVByb2dyZXNzID0gbnVsbDtcblx0XHR9XG5cdH07XG5cblx0UGx1Z2luLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMuY2FuU2Nyb2xsKCkgJiYgdGhpcy5vcHRpb25zLmJ5ICE9PSBcIm5vbmVcIikge1xuXHRcdFx0aWYgKHRoaXMudHdlZW4pIHtcblx0XHRcdFx0aWYgKHRoaXMuaXNMb2FkaW5nKSB7XG5cdFx0XHRcdFx0dGhpcy50d2Vlbi5wbGF5KCk7XG5cdFx0XHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRUd2VlbkxpdGUudG8odGhpcy5wYWdlLCAxLCB7YXV0b0FscGhhOiAxfSk7XG5cdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHRoaXMub3B0aW9ucy5wYXVzZSwgdGhpcy5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0UGx1Z2luLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh0aGlzLnR3ZWVuKSB7XG5cdFx0XHRUd2VlbkxpdGUua2lsbERlbGF5ZWRDYWxsc1RvKHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MpO1xuXHRcdFx0dGhpcy50d2Vlbi5wYXVzZSgpO1xuXHRcdH1cblx0fTtcblxuXHRQbHVnaW4ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy50d2Vlbikge1xuXHRcdFx0VHdlZW5MaXRlLmtpbGxEZWxheWVkQ2FsbHNUbyh0aGlzLmNhbGN1bGF0ZVByb2dyZXNzKTtcblx0XHRcdHRoaXMudHdlZW4ua2lsbCgpO1xuXHRcdH1cblxuXHRcdHRoaXMuZWxlbWVudCA9IG51bGw7XG5cdFx0dGhpcy5wYWdlID0gbnVsbDtcblx0fTtcblxuXHQvLyBBIGxpZ2h0d2VpZ2h0IHBsdWdpbiB3cmFwcGVyIGFyb3VuZCB0aGUgY29uc3RydWN0b3IgdGhhdCBwcmV2ZW50c1xuXHQvLyBtdWx0aXBsZSBpbnN0YW50aWF0aW9ucy5cblx0JC5mbi5hdXRvU2Nyb2xsID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoISQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpKSB7XG5cdFx0XHRcdCQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUsIG5ldyBQbHVnaW4odGhpcywgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9O1xufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcblxudmFyIFdJREdFVF9DT01NT05fQ09ORklHID0ge1xuICBBVVRIX1BBVEhfVVJMOiBcInYxL3dpZGdldC9hdXRoXCIsXG4gIExPR0dFUl9DTElFTlRfSUQ6IFwiMTA4ODUyNzE0NzEwOS02cTFvMnZ0aWhuMzQyOTJwanQ0Y2tobWhjazByazBvNy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbVwiLFxuICBMT0dHRVJfQ0xJRU5UX1NFQ1JFVDogXCJubFp5cmNQTGc2b0V3TzlmOVdmbjI5V2hcIixcbiAgTE9HR0VSX1JFRlJFU0hfVE9LRU46IFwiMS94enQ0a3d6RTFIN1c5Vm5LQjhjQWFDeDZ6YjRFczRuS0VvcWFZSGRURDE1SWdPckpEdGR1bjZ6SzZYaUFUQ0tUXCIsXG4gIFNUT1JBR0VfRU5WOiBcInByb2RcIixcbiAgU1RPUkVfVVJMOiBcImh0dHBzOi8vc3RvcmUtZG90LXJ2YXNlcnZlcjIuYXBwc3BvdC5jb20vXCJcbn07XG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcyA9IChmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBnZXRGb250Q3NzU3R5bGUoY2xhc3NOYW1lLCBmb250T2JqKSB7XG4gICAgdmFyIGZhbWlseSA9IFwiZm9udC1mYW1pbHk6XCIgKyBmb250T2JqLmZvbnQuZmFtaWx5ICsgXCI7IFwiO1xuICAgIHZhciBjb2xvciA9IFwiY29sb3I6IFwiICsgKGZvbnRPYmouY29sb3IgPyBmb250T2JqLmNvbG9yIDogZm9udE9iai5mb3JlY29sb3IpICsgXCI7IFwiO1xuICAgIHZhciBzaXplID0gXCJmb250LXNpemU6IFwiICsgKGZvbnRPYmouc2l6ZS5pbmRleE9mKFwicHhcIikgPT09IC0xID8gZm9udE9iai5zaXplICsgXCJweDsgXCIgOiBmb250T2JqLnNpemUgKyBcIjsgXCIpO1xuICAgIHZhciB3ZWlnaHQgPSBcImZvbnQtd2VpZ2h0OiBcIiArIChmb250T2JqLmJvbGQgPyBcImJvbGRcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciBpdGFsaWMgPSBcImZvbnQtc3R5bGU6IFwiICsgKGZvbnRPYmouaXRhbGljID8gXCJpdGFsaWNcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciB1bmRlcmxpbmUgPSBcInRleHQtZGVjb3JhdGlvbjogXCIgKyAoZm9udE9iai51bmRlcmxpbmUgPyBcInVuZGVybGluZVwiIDogXCJub25lXCIpICsgXCI7IFwiO1xuICAgIHZhciBoaWdobGlnaHQgPSBcImJhY2tncm91bmQtY29sb3I6IFwiICsgKGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgPyBmb250T2JqLmhpZ2hsaWdodENvbG9yIDogZm9udE9iai5iYWNrY29sb3IpICsgXCI7IFwiO1xuXG4gICAgcmV0dXJuIFwiLlwiICsgY2xhc3NOYW1lICsgXCIge1wiICsgZmFtaWx5ICsgY29sb3IgKyBzaXplICsgd2VpZ2h0ICsgaXRhbGljICsgdW5kZXJsaW5lICsgaGlnaGxpZ2h0ICsgXCJ9XCI7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRDU1NSdWxlcyhydWxlcykge1xuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBydWxlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocnVsZXNbaV0pKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIC8qXG4gICAqIExvYWRzIEdvb2dsZSBvciBjdXN0b20gZm9udHMsIGlmIGFwcGxpY2FibGUsIGFuZCBpbmplY3RzIENTUyBzdHlsZXNcbiAgICogaW50byB0aGUgaGVhZCBvZiB0aGUgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSAgICBhcnJheSAgICBzZXR0aW5ncyAgICBBcnJheSBvZiBvYmplY3RzIHdpdGggdGhlIGZvbGxvd2luZyBmb3JtOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwiZGF0ZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb250U2V0dGluZ1wiOiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJibGFja1wiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlseTogXCJBa3JvbmltXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVmVyZGFuYVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnb29nbGVcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwOi8vY3VzdG9tLWZvbnQtdXJsXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRhbGljOiBmYWxzZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcIjIwXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lOiBmYWxzZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAqXG4gICAqICAgICAgICAgICBvYmplY3QgICBjb250ZW50RG9jICAgIERvY3VtZW50IG9iamVjdCBpbnRvIHdoaWNoIHRvIGluamVjdCBzdHlsZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGxvYWQgZm9udHMgKG9wdGlvbmFsKS5cbiAgICovXG4gIGZ1bmN0aW9uIGxvYWRGb250cyhzZXR0aW5ncywgY29udGVudERvYykge1xuICAgIHNldHRpbmdzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uY2xhc3MgJiYgaXRlbS5mb250U2V0dGluZykge1xuICAgICAgICBhZGRDU1NSdWxlcyhbIGdldEZvbnRDc3NTdHlsZShpdGVtLmNsYXNzLCBpdGVtLmZvbnRTZXR0aW5nKSBdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW0uZm9udFNldHRpbmcuZm9udC50eXBlKSB7XG4gICAgICAgIGlmIChpdGVtLmZvbnRTZXR0aW5nLmZvbnQudHlwZSA9PT0gXCJjdXN0b21cIiAmJiBpdGVtLmZvbnRTZXR0aW5nLmZvbnQuZmFtaWx5ICYmXG4gICAgICAgICAgaXRlbS5mb250U2V0dGluZy5mb250LnVybCkge1xuICAgICAgICAgIGxvYWRDdXN0b21Gb250KGl0ZW0uZm9udFNldHRpbmcuZm9udC5mYW1pbHksIGl0ZW0uZm9udFNldHRpbmcuZm9udC51cmwsXG4gICAgICAgICAgICBjb250ZW50RG9jKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpdGVtLmZvbnRTZXR0aW5nLmZvbnQudHlwZSA9PT0gXCJnb29nbGVcIiAmJiBpdGVtLmZvbnRTZXR0aW5nLmZvbnQuZmFtaWx5KSB7XG4gICAgICAgICAgbG9hZEdvb2dsZUZvbnQoaXRlbS5mb250U2V0dGluZy5mb250LmZhbWlseSwgY29udGVudERvYyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRDdXN0b21Gb250KGZhbWlseSwgdXJsLCBjb250ZW50RG9jKSB7XG4gICAgdmFyIHNoZWV0ID0gbnVsbDtcbiAgICB2YXIgcnVsZSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZmFtaWx5ICsgXCI7IFwiICsgXCJzcmM6IHVybCgnXCIgKyB1cmwgKyBcIicpO1wiO1xuXG4gICAgY29udGVudERvYyA9IGNvbnRlbnREb2MgfHwgZG9jdW1lbnQ7XG5cbiAgICBzaGVldCA9IGNvbnRlbnREb2Muc3R5bGVTaGVldHNbMF07XG5cbiAgICBpZiAoc2hlZXQgIT09IG51bGwpIHtcbiAgICAgIHNoZWV0LmFkZFJ1bGUoXCJAZm9udC1mYWNlXCIsIHJ1bGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRHb29nbGVGb250KGZhbWlseSwgY29udGVudERvYykge1xuICAgIHZhciBzdHlsZXNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cbiAgICBjb250ZW50RG9jID0gY29udGVudERvYyB8fCBkb2N1bWVudDtcblxuICAgIHN0eWxlc2hlZXQuc2V0QXR0cmlidXRlKFwicmVsXCIsIFwic3R5bGVzaGVldFwiKTtcbiAgICBzdHlsZXNoZWV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0L2Nzc1wiKTtcblxuICAgIC8vIHNwbGl0IHRvIGFjY291bnQgZm9yIGZhbWlseSB2YWx1ZSBjb250YWluaW5nIGEgZmFsbGJhY2sgKGVnLiBBbGFkaW4sc2Fucy1zZXJpZilcbiAgICBzdHlsZXNoZWV0LnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9XCIgKyBmYW1pbHkuc3BsaXQoXCIsXCIpWzBdKTtcblxuICAgIGlmIChzdHlsZXNoZWV0ICE9PSBudWxsKSB7XG4gICAgICBjb250ZW50RG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChzdHlsZXNoZWV0KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcmVsb2FkSW1hZ2VzKHVybHMpIHtcbiAgICB2YXIgbGVuZ3RoID0gdXJscy5sZW5ndGgsXG4gICAgICBpbWFnZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGltYWdlc1tpXSA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1hZ2VzW2ldLnNyYyA9IHVybHNbaV07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbWV0ZXIocGFyYW0pIHtcbiAgICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKSxcbiAgICAgIHZhcnMgPSBxdWVyeS5zcGxpdChcIiZcIiksXG4gICAgICBwYWlyO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYWlyID0gdmFyc1tpXS5zcGxpdChcIj1cIik7XG5cbiAgICAgIGlmIChwYWlyWzBdID09IHBhcmFtKSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldFF1ZXJ5UGFyYW1ldGVyOiBnZXRRdWVyeVBhcmFtZXRlcixcbiAgICBnZXRGb250Q3NzU3R5bGU6ICBnZXRGb250Q3NzU3R5bGUsXG4gICAgYWRkQ1NTUnVsZXM6ICAgICAgYWRkQ1NTUnVsZXMsXG4gICAgbG9hZEZvbnRzOiAgICAgICAgbG9hZEZvbnRzLFxuICAgIGxvYWRDdXN0b21Gb250OiAgIGxvYWRDdXN0b21Gb250LFxuICAgIGxvYWRHb29nbGVGb250OiAgIGxvYWRHb29nbGVGb250LFxuICAgIHByZWxvYWRJbWFnZXM6ICAgIHByZWxvYWRJbWFnZXNcbiAgfTtcbn0pKCk7XG5cbi8qIGdsb2JhbCBnYWRnZXRzICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzID0gKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAgdmFyIGRpc3BsYXlJZCA9IFwiXCIsXG4gICAgY29tcGFueUlkID0gXCJcIjtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuXG4gIC8qIFJldHJpZXZlIHBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgZXZlbnQgbG9nZ2VyLiAqL1xuICBmdW5jdGlvbiBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGNiKSB7XG4gICAgdmFyIGpzb24gPSBudWxsO1xuXG4gICAgLy8gZXZlbnQgaXMgcmVxdWlyZWQuXG4gICAgaWYgKHBhcmFtcy5ldmVudCkge1xuICAgICAganNvbiA9IHBhcmFtcztcblxuICAgICAgaWYgKGpzb24uZmlsZV91cmwpIHtcbiAgICAgICAganNvbi5maWxlX2Zvcm1hdCA9IGdldEZpbGVGb3JtYXQoanNvbi5maWxlX3VybCk7XG4gICAgICB9XG5cbiAgICAgIGpzb24uY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICAgIGpzb24uZGlzcGxheV9pZCA9IGRpc3BsYXlJZDtcblxuICAgICAgY2IoanNvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2IoanNvbik7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHN1ZmZpeCBmb3IgQlEgdGFibGUgbmFtZS5cbiAgZnVuY3Rpb24gZ2V0U3VmZml4KCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKSxcbiAgICAgIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKSArIDEsXG4gICAgICBkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcblxuICAgIGlmIChtb250aCA8IDEwKSB7XG4gICAgICBtb250aCA9IFwiMFwiICsgbW9udGg7XG4gICAgfVxuXG4gICAgaWYgKGRheSA8IDEwKSB7XG4gICAgICBkYXkgPSBcIjBcIiArIGRheTtcbiAgICB9XG5cbiAgICByZXR1cm4geWVhciArIG1vbnRoICsgZGF5O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRGaWxlRm9ybWF0KHVybCkge1xuICAgIHZhciBoYXNQYXJhbXMgPSAvWz8jJl0vLFxuICAgICAgc3RyO1xuXG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RyID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG5cbiAgICAvLyBkb24ndCBpbmNsdWRlIGFueSBwYXJhbXMgYWZ0ZXIgdGhlIGZpbGVuYW1lXG4gICAgaWYgKGhhc1BhcmFtcy50ZXN0KHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCAsKHN0ci5pbmRleE9mKFwiP1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCI/XCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiI1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCIjXCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiJlwiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCImXCIpIDogc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5zZXJ0RGF0YShwYXJhbXMpIHtcbiAgICB2YXIgQkFTRV9JTlNFUlRfU0NIRU1BID0ge1xuICAgICAgXCJraW5kXCI6IFwiYmlncXVlcnkjdGFibGVEYXRhSW5zZXJ0QWxsUmVxdWVzdFwiLFxuICAgICAgXCJza2lwSW52YWxpZFJvd3NcIjogZmFsc2UsXG4gICAgICBcImlnbm9yZVVua25vd25WYWx1ZXNcIjogZmFsc2UsXG4gICAgICBcInRlbXBsYXRlU3VmZml4XCI6IGdldFN1ZmZpeCgpLFxuICAgICAgXCJyb3dzXCI6IFt7XG4gICAgICAgIFwiaW5zZXJ0SWRcIjogXCJcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEJBU0VfSU5TRVJUX1NDSEVNQSkpO1xuXG4gICAgZGF0YS5yb3dzWzBdLmluc2VydElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpLnRvVXBwZXJDYXNlKCk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgIGRhdGEucm93c1swXS5qc29uLnRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudCh0YWJsZSwgcGFyYW1zKSB7XG4gICAgZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBmdW5jdGlvbihqc29uKSB7XG4gICAgICBpZiAoanNvbiAhPT0gbnVsbCkge1xuICAgICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIubG9nKHRhYmxlLCBqc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qIFNldCB0aGUgQ29tcGFueSBhbmQgRGlzcGxheSBJRHMuICovXG4gIGZ1bmN0aW9uIHNldElkcyhjb21wYW55LCBkaXNwbGF5KSB7XG4gICAgY29tcGFueUlkID0gY29tcGFueTtcbiAgICBkaXNwbGF5SWQgPSBkaXNwbGF5O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImdldEluc2VydERhdGFcIjogZ2V0SW5zZXJ0RGF0YSxcbiAgICBcImdldEZpbGVGb3JtYXRcIjogZ2V0RmlsZUZvcm1hdCxcbiAgICBcImxvZ0V2ZW50XCI6IGxvZ0V2ZW50LFxuICAgIFwic2V0SWRzXCI6IHNldElkc1xuICB9O1xufSkoKTtcblxuUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyID0gKGZ1bmN0aW9uKHV0aWxzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBSRUZSRVNIX1VSTCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YzL3Rva2VuP2NsaWVudF9pZD1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9DTElFTlRfSUQgK1xuICAgICAgXCImY2xpZW50X3NlY3JldD1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9DTElFTlRfU0VDUkVUICtcbiAgICAgIFwiJnJlZnJlc2hfdG9rZW49XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfUkVGUkVTSF9UT0tFTiArXG4gICAgICBcIiZncmFudF90eXBlPXJlZnJlc2hfdG9rZW5cIjtcblxuICB2YXIgc2VydmljZVVybCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYmlncXVlcnkvdjIvcHJvamVjdHMvY2xpZW50LXNpZGUtZXZlbnRzL2RhdGFzZXRzL1dpZGdldF9FdmVudHMvdGFibGVzL1RBQkxFX0lEL2luc2VydEFsbFwiLFxuICAgIHRocm90dGxlID0gZmFsc2UsXG4gICAgdGhyb3R0bGVEZWxheSA9IDEwMDAsXG4gICAgbGFzdEV2ZW50ID0gXCJcIixcbiAgICByZWZyZXNoRGF0ZSA9IDAsXG4gICAgdG9rZW4gPSBcIlwiO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlZnJlc2hUb2tlbihjYikge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIGlmIChuZXcgRGF0ZSgpIC0gcmVmcmVzaERhdGUgPCAzNTgwMDAwKSB7XG4gICAgICByZXR1cm4gY2Ioe30pO1xuICAgIH1cblxuICAgIHhoci5vcGVuKFwiUE9TVFwiLCBSRUZSRVNIX1VSTCwgdHJ1ZSk7XG4gICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3AgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZSk7XG5cbiAgICAgIGNiKHsgdG9rZW46IHJlc3AuYWNjZXNzX3Rva2VuLCByZWZyZXNoZWRBdDogbmV3IERhdGUoKSB9KTtcbiAgICB9O1xuXG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVGhyb3R0bGVkKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRocm90dGxlICYmIChsYXN0RXZlbnQgPT09IGV2ZW50KTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gbG9nKHRhYmxlTmFtZSwgcGFyYW1zKSB7XG4gICAgaWYgKCF0YWJsZU5hbWUgfHwgIXBhcmFtcyB8fCAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgIXBhcmFtcy5ldmVudCkgfHxcbiAgICAgIChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiBpc1Rocm90dGxlZChwYXJhbXMuZXZlbnQpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm90dGxlID0gdHJ1ZTtcbiAgICBsYXN0RXZlbnQgPSBwYXJhbXMuZXZlbnQ7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm90dGxlID0gZmFsc2U7XG4gICAgfSwgdGhyb3R0bGVEZWxheSk7XG5cbiAgICBmdW5jdGlvbiBpbnNlcnRXaXRoVG9rZW4ocmVmcmVzaERhdGEpIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgaW5zZXJ0RGF0YSwgdXJsO1xuXG4gICAgICB1cmwgPSBzZXJ2aWNlVXJsLnJlcGxhY2UoXCJUQUJMRV9JRFwiLCB0YWJsZU5hbWUpO1xuICAgICAgcmVmcmVzaERhdGUgPSByZWZyZXNoRGF0YS5yZWZyZXNoZWRBdCB8fCByZWZyZXNoRGF0ZTtcbiAgICAgIHRva2VuID0gcmVmcmVzaERhdGEudG9rZW4gfHwgdG9rZW47XG4gICAgICBpbnNlcnREYXRhID0gdXRpbHMuZ2V0SW5zZXJ0RGF0YShwYXJhbXMpO1xuXG4gICAgICAvLyBJbnNlcnQgdGhlIGRhdGEuXG4gICAgICB4aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIHRva2VuKTtcblxuICAgICAgaWYgKHBhcmFtcy5jYiAmJiB0eXBlb2YgcGFyYW1zLmNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHBhcmFtcy5jYih4aHIucmVzcG9uc2UpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShpbnNlcnREYXRhKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZnJlc2hUb2tlbihpbnNlcnRXaXRoVG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImxvZ1wiOiBsb2dcbiAgfTtcbn0pKFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzKTtcbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFtcIl9zZXRBY2NvdW50XCIsIFwiVUEtNTcwOTIxNTktMTNcIl0pO1xuX2dhcS5wdXNoKFtcIl90cmFja1BhZ2V2aWV3XCJdKTtcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpOyBnYS50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjsgZ2EuYXN5bmMgPSB0cnVlO1xuICBnYS5zcmMgPSAoXCJodHRwczpcIiA9PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/IFwiaHR0cHM6Ly9zc2xcIiA6IFwiaHR0cDovL3d3d1wiKSArIFwiLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzXCI7XG4gIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbi8qIGdsb2JhbCBnYWRnZXRzOmZhbHNlICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVGV4dCA9IHt9O1xuXG5SaXNlVmlzaW9uLlRleHQgPSAoZnVuY3Rpb24oZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2FkZGl0aW9uYWxQYXJhbXMgPSBudWxsLFxuICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgX3V0aWxzID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgIHZhciBpID0gMCxcbiAgICAgIHJ1bGVzID0gW10sXG4gICAgICBmb250UnVsZXMgPSBbXTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFnZVwiKS5pbm5lckhUTUwgPSBfYWRkaXRpb25hbFBhcmFtcy5kYXRhO1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBkYXRhIHRvIGZpbmQgYW55IGN1c3RvbSBvciBHb29nbGUgZm9udHMgdGhhdCBhcmUgYmVpbmcgdXNlZC5cbiAgICAkLmVhY2goJChcIjxkaXYvPlwiKS5odG1sKF9hZGRpdGlvbmFsUGFyYW1zLmRhdGEpLmZpbmQoXCJzcGFuXCIpLmFkZEJhY2soKSwgZnVuY3Rpb24oKSB7XG4gICAgICBmb250UnVsZXMgPSBfZ2V0Rm9udFJ1bGVzKHRoaXMpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZm9udFJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJ1bGVzLnB1c2goZm9udFJ1bGVzW2ldKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF91dGlscy5hZGRDU1NSdWxlcyhydWxlcyk7XG5cbiAgICAkKFwiI2NvbnRhaW5lclwiKS5hdXRvU2Nyb2xsKF9hZGRpdGlvbmFsUGFyYW1zLnNjcm9sbCkub24oXCJkb25lXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgX2RvbmUoKTtcbiAgICB9KTtcblxuICAgIF9yZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvbnRSdWxlKGZvbnQpIHtcbiAgICByZXR1cm4gXCIud3lzaXd5Zy1mb250LWZhbWlseS1cIiArIGZvbnQucmVwbGFjZSgvIC9nLCBcIi1cIikudG9Mb3dlckNhc2UoKSArIFwiIHsgZm9udC1mYW1pbHk6ICdcIiArIGZvbnQgKyBcIic7IH1cIjtcbiAgfVxuXG4gIC8vIENyZWF0ZSBDU1MgcnVsZXMgZm9yIGZvbnRzLlxuICBmdW5jdGlvbiBfZ2V0Rm9udFJ1bGVzKGVsZW0pIHtcbiAgICB2YXIgcnVsZXMgPSBbXSxcbiAgICAgIGdvb2dsZUZvbnQgPSAkKGVsZW0pLmF0dHIoXCJkYXRhLWdvb2dsZS1mb250XCIpLFxuICAgICAgY3VzdG9tRm9udCA9ICQoZWxlbSkuYXR0cihcImRhdGEtY3VzdG9tLWZvbnRcIik7XG5cbiAgICAvLyBMb2FkIEdvb2dsZSBmb250LlxuICAgIGlmIChnb29nbGVGb250KSB7XG4gICAgICBfdXRpbHMubG9hZEdvb2dsZUZvbnQoZ29vZ2xlRm9udCk7XG5cbiAgICAgIC8vIEFkZCBDU1MgZm9yIHRoZSBHb29nbGUgZm9udC5cbiAgICAgIHJ1bGVzLnB1c2goX2NyZWF0ZUZvbnRSdWxlKGdvb2dsZUZvbnQpKTtcbiAgICB9XG5cbiAgICAvLyBMb2FkIGN1c3RvbSBmb250LlxuICAgIGlmIChjdXN0b21Gb250KSB7XG4gICAgICBfdXRpbHMubG9hZEN1c3RvbUZvbnQoY3VzdG9tRm9udCwgJChlbGVtKS5hdHRyKFwiZGF0YS1jdXN0b20tZm9udC11cmxcIikpO1xuXG4gICAgICAvLyBBZGQgQ1NTIGZvciB0aGUgY3VzdG9tIGZvbnQuXG4gICAgICBydWxlcy5wdXNoKF9jcmVhdGVGb250UnVsZShjdXN0b21Gb250KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJ1bGVzO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldFRhYmxlTmFtZSgpIHtcbiAgICByZXR1cm4gXCJ0ZXh0X2V2ZW50c1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gX2xvZ0V2ZW50KHBhcmFtcykge1xuICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLmxvZ0V2ZW50KF9nZXRUYWJsZU5hbWUoKSwgcGFyYW1zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZWFkeSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9yZWFkeVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksIHRydWUsXG4gICAgICB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kb25lKCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X2RvbmVcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpKTtcbiAgICBfbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwiZG9uZVwiIH0pO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsUGFyYW1zKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICBfYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYWRkaXRpb25hbFBhcmFtcykpO1xuXG4gICAgX2FkZGl0aW9uYWxQYXJhbXMud2lkdGggPSBfcHJlZnMuZ2V0SW50KFwicnNXXCIpO1xuICAgIF9hZGRpdGlvbmFsUGFyYW1zLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIik7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS53aWR0aCA9IF9hZGRpdGlvbmFsUGFyYW1zLndpZHRoICsgXCJweFwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLnN0eWxlLmhlaWdodCA9IF9hZGRpdGlvbmFsUGFyYW1zLmhlaWdodCArIFwicHhcIjtcblxuICAgIF9pbml0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmICgkKFwiI2NvbnRhaW5lclwiKS5kYXRhKFwicGx1Z2luX2F1dG9TY3JvbGxcIikpIHtcbiAgICAgICQoXCIjY29udGFpbmVyXCIpLmRhdGEoXCJwbHVnaW5fYXV0b1Njcm9sbFwiKS5wbGF5KCk7XG4gICAgfVxuXG4gICAgX2xvZ0V2ZW50KHsgXCJldmVudFwiOiBcInBsYXlcIn0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgaWYgKCQoXCIjY29udGFpbmVyXCIpLmRhdGEoXCJwbHVnaW5fYXV0b1Njcm9sbFwiKSkge1xuICAgICAgJChcIiNjb250YWluZXJcIikuZGF0YShcInBsdWdpbl9hdXRvU2Nyb2xsXCIpLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBwYXVzZSgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwic2V0QWRkaXRpb25hbFBhcmFtc1wiOiBzZXRBZGRpdGlvbmFsUGFyYW1zLFxuICAgIFwic3RvcFwiOiBzdG9wXG4gIH07XG59KShnYWRnZXRzKTtcblxuLyogZ2xvYmFsIFJpc2VWaXNpb24sIGdhZGdldHMgKi9cblxuKGZ1bmN0aW9uICh3aW5kb3csIGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKSxcbiAgICBpZCA9IHByZWZzLmdldFN0cmluZyhcImlkXCIpO1xuXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBkb2N1bWVudC5ib2R5Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lcywgdmFsdWVzKSB7XG4gICAgdmFyIGFkZGl0aW9uYWxQYXJhbXMsXG4gICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICAgZGlzcGxheUlkID0gXCJcIjtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKG5hbWVzWzBdID09PSBcImNvbXBhbnlJZFwiKSB7XG4gICAgICAgIGNvbXBhbnlJZCA9IHZhbHVlc1swXTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hbWVzWzFdID09PSBcImRpc3BsYXlJZFwiKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbMV0pIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSB2YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gXCJwcmV2aWV3XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMuc2V0SWRzKGNvbXBhbnlJZCwgZGlzcGxheUlkKTtcblxuICAgICAgaWYgKG5hbWVzWzJdID09PSBcImFkZGl0aW9uYWxQYXJhbXNcIikge1xuICAgICAgICBhZGRpdGlvbmFsUGFyYW1zID0gSlNPTi5wYXJzZSh2YWx1ZXNbMl0pO1xuXG4gICAgICAgIFJpc2VWaXNpb24uVGV4dC5zZXRBZGRpdGlvbmFsUGFyYW1zKGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChpZCAmJiBpZCAhPT0gXCJcIikge1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfcGxheV9cIiArIGlkLCBwbGF5KTtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlKTtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3N0b3BfXCIgKyBpZCwgc3RvcCk7XG5cbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIGNvbmZpZ3VyZSk7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzcGFyYW1fZ2V0XCIsIG51bGwsIGlkLCBbXCJjb21wYW55SWRcIiwgXCJkaXNwbGF5SWRcIiwgXCJhZGRpdGlvbmFsUGFyYW1zXCJdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgUmlzZVZpc2lvbi5UZXh0LnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIFJpc2VWaXNpb24uVGV4dC5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBSaXNlVmlzaW9uLlRleHQuc3RvcCgpO1xuICB9XG59KSh3aW5kb3csIGdhZGdldHMpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
